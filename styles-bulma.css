/**
 * Bulma CSS Overrides for AI Quiz Generator Plugin
 * 
 * This file provides scoped Bulma-style components that work alongside
 * Moodle's Boost theme without conflicts. All classes are prefixed with
 * .hlai-quizgen-wrapper to ensure isolation.
 *
 * @package    local_hlai_quizgen
 * @copyright  2025 Human Logic Software LLC
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */

/* ==========================================================================
   FOOTER POPOVER FIX - Prevent overlay on content
   ========================================================================== */

body.path-local-hlai_quizgen .footer-popover {
    position: relative !important;
    z-index: 1 !important;
}

body.path-local-hlai_quizgen .footer-content-popover {
    position: relative !important;
    left: auto !important;
    bottom: auto !important;
}

body.path-local-hlai_quizgen #page-footer {
    clear: both;
    position: relative !important;
    margin-top: 2rem;
}

body.path-local-hlai_quizgen #page-footer .performanceinfo,
body.path-local-hlai_quizgen #page-footer .purgecaches {
    position: relative !important;
    left: auto !important;
}

/* Disable theme footer popover overlay on quizgen pages */
/* Only hide footer popover on step 2 to avoid overlaying the uploader UI */
body.path-local-hlai_quizgen.hlai-step-2 .footer-popover,
body.path-local-hlai_quizgen.hlai-step-2 [data-region="footer-container-popover"],
body.path-local-hlai_quizgen.hlai-step-2 .footer-content-popover {
    display: none !important;
}

/* Keep footer in normal flow for step 2 */
body.path-local-hlai_quizgen.hlai-step-2 #page-footer {
    position: static !important;
    width: auto !important;
    left: auto !important;
    right: auto !important;
    bottom: auto !important;
}

/* ==========================================================================
   CSS CUSTOM PROPERTIES (Iksha Design Tokens)
   ========================================================================== */

body.path-local-hlai_quizgen {
    /* Brand Colors - Standardized Iksha Blue */
    --hlai-primary: #3B82F6;
    --hlai-primary-light: #EFF6FF;
    --hlai-primary-dark: #1D4ED8;
    
    /* Semantic Colors - Clean & Professional */
    --hlai-success: #10B981;
    --hlai-success-light: #ECFDF5;
    --hlai-warning: #F59E0B;
    --hlai-warning-light: #FFFBEB;
    --hlai-danger: #EF4444;
    --hlai-danger-light: #FEF2F2;
    --hlai-info: #06B6D4;
    --hlai-info-light: #ECFEFF;
    
    /* Neutral Colors - Professional Grays */
    --hlai-gray-50: #F8FAFC;
    --hlai-gray-100: #F1F5F9;
    --hlai-gray-200: #E2E8F0;
    --hlai-gray-300: #CBD5E1;
    --hlai-gray-400: #94A3B8;
    --hlai-gray-500: #64748B;
    --hlai-gray-600: #475569;
    --hlai-gray-700: #334155;
    --hlai-gray-800: #1E293B;
    --hlai-gray-900: #0F172A;
    
    /* Typography */
    --hlai-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    --hlai-font-mono: "SF Mono", "Monaco", "Inconsolata", "Roboto Mono", monospace;
    
    /* Spacing */
    --hlai-space-1: 0.25rem;
    --hlai-space-2: 0.5rem;
    --hlai-space-3: 0.75rem;
    --hlai-space-4: 1rem;
    --hlai-space-5: 1.25rem;
    --hlai-space-6: 1.5rem;
    
    /* Border Radius - Professional (Iksha) */
    --hlai-radius-sm: 4px;
    --hlai-radius-md: 6px;
    --hlai-radius-lg: 8px;
    --hlai-radius-xl: 12px;
    --hlai-radius-full: 9999px;
    
    /* Shadows - Minimalist */
    --hlai-shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --hlai-shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --hlai-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -1px rgb(0 0 0 / 0.03);
    --hlai-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.03);
    --hlai-shadow-card: var(--hlai-shadow-md);
    
    /* Transitions */
    --hlai-transition-fast: 150ms ease;
    --hlai-transition-normal: 250ms ease;
}

/* ==========================================================================
   SCOPED WRAPPER
   ========================================================================== */

.hlai-quizgen-wrapper,
.hlai-quizgen-wizard {
    font-family: var(--hlai-font-sans);
    color: var(--hlai-gray-800);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.hlai-quizgen-wrapper *,
.hlai-quizgen-wizard * {
    box-sizing: border-box;
}

/* Wizard-specific wrapper overrides */
.hlai-quizgen-wizard {
    max-width: 900px;
    margin: 0 auto;
    padding: 2rem 1rem;
}

/* ==========================================================================
   BULMA OVERRIDES - Modern Soft Design
   ========================================================================== */

/* Fix Bulma's default title+subtitle pairing that causes overlap */
.hlai-quizgen-wrapper .title + .subtitle,
.hlai-quizgen-wizard .title + .subtitle {
    margin-top: 0.25rem !important;
}

/* Ensure titles don't have excessive bottom margin */
.hlai-quizgen-wrapper .title.mb-0,
.hlai-quizgen-wizard .title.mb-0 {
    margin-bottom: 0 !important;
}

/* Title styling - cleaner, modern */
.hlai-quizgen-wrapper .title,
.hlai-quizgen-wizard .title {
    color: var(--hlai-gray-800);
    font-weight: 600;
    letter-spacing: -0.02em;
}

/* Subtitle styling improvements */
.hlai-quizgen-wrapper .subtitle,
.hlai-quizgen-wizard .subtitle {
    color: var(--hlai-gray-500);
    font-weight: 400;
}

.hlai-quizgen-wrapper .subtitle.is-6,
.hlai-quizgen-wizard .subtitle.is-6 {
    font-size: 0.9rem;
}

/* Better HR styling - very subtle */
.hlai-quizgen-wrapper hr,
.hlai-quizgen-wizard hr {
    background-color: var(--hlai-gray-200);
    height: 1px;
    border: none;
    margin: 1.5rem 0;
}

/* Box improvements - Soft, modern cards */
.hlai-quizgen-wrapper .box,
.hlai-quizgen-wizard .box {
    border-radius: var(--hlai-radius-lg);
    box-shadow: var(--hlai-shadow-card);
    border: 1px solid var(--hlai-gray-200);
    background: #fff;
    padding: 1.5rem;
}

/* Panel improvements - Soft rounded panels */
.hlai-quizgen-wrapper .panel,
.hlai-quizgen-wizard .panel {
    border-radius: var(--hlai-radius-lg);
    box-shadow: var(--hlai-shadow-sm);
    border: 1px solid var(--hlai-gray-200);
    background: #fff;
    overflow: hidden;
}

.hlai-quizgen-wrapper .panel-heading,
.hlai-quizgen-wizard .panel-heading {
    border-radius: 0;
    background-color: var(--hlai-gray-50);
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--hlai-gray-700);
    border-bottom: 1px solid var(--hlai-gray-200);
    padding: 1rem 1.25rem;
}

.hlai-quizgen-wrapper .panel-block,
.hlai-quizgen-wizard .panel-block {
    padding: 0.875rem 1.25rem;
    border-bottom: 1px solid var(--hlai-gray-100);
    color: var(--hlai-gray-700);
    transition: background var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .panel-block:last-child,
.hlai-quizgen-wizard .panel-block:last-child {
    border-bottom: none;
}

.hlai-quizgen-wrapper a.panel-block:hover,
.hlai-quizgen-wizard a.panel-block:hover {
    background-color: var(--hlai-gray-50);
}

/* Notification improvements - Soft rounded */
.hlai-quizgen-wrapper .notification,
.hlai-quizgen-wizard .notification {
    border-radius: var(--hlai-radius-lg);
    padding: 1.25rem 1.5rem;
}

.hlai-quizgen-wrapper .notification.is-info.is-light,
.hlai-quizgen-wizard .notification.is-info.is-light {
    background-color: var(--hlai-info-light);
    border: 1px solid rgba(93, 173, 226, 0.2);
}

.hlai-quizgen-wrapper .notification.is-success.is-light,
.hlai-quizgen-wizard .notification.is-success.is-light {
    background-color: var(--hlai-success-light);
    border: 1px solid rgba(52, 200, 138, 0.2);
}

.hlai-quizgen-wrapper .notification.is-warning.is-light,
.hlai-quizgen-wizard .notification.is-warning.is-light {
    background-color: var(--hlai-warning-light);
    border: 1px solid rgba(245, 166, 35, 0.2);
}

.hlai-quizgen-wrapper .notification.is-danger.is-light,
.hlai-quizgen-wizard .notification.is-danger.is-light {
    background-color: var(--hlai-danger-light);
    border: 1px solid rgba(231, 76, 60, 0.2);
}

/* Tag improvements - Soft pills */
.hlai-quizgen-wrapper .tag,
.hlai-quizgen-wizard .tag {
    font-weight: 500;
    border-radius: var(--hlai-radius-full);
    padding: 0.25em 0.85em;
}

.hlai-quizgen-wrapper .tag.is-success,
.hlai-quizgen-wizard .tag.is-success {
    background-color: var(--hlai-success-light);
    color: #1D8348;
}

.hlai-quizgen-wrapper .tag.is-warning,
.hlai-quizgen-wizard .tag.is-warning {
    background-color: var(--hlai-warning-light);
    color: #9A6C00;
}

.hlai-quizgen-wrapper .tag.is-danger,
.hlai-quizgen-wizard .tag.is-danger {
    background-color: var(--hlai-danger-light);
    color: #C0392B;
}

.hlai-quizgen-wrapper .tag.is-info,
.hlai-quizgen-wizard .tag.is-info {
    background-color: var(--hlai-info-light);
    color: #2471A3;
}

/* Button native Bulma overrides - Soft, modern */
.hlai-quizgen-wrapper .button,
.hlai-quizgen-wizard .button {
    border-radius: var(--hlai-radius-lg);
    font-weight: 600;
    transition: all var(--hlai-transition-fast);
    box-shadow: var(--hlai-shadow-xs);
    border-width: 1px;
}

.hlai-quizgen-wrapper .button:hover:not(:disabled),
.hlai-quizgen-wizard .button:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: var(--hlai-shadow-sm);
}

.hlai-quizgen-wrapper .button:active:not(:disabled),
.hlai-quizgen-wizard .button:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: none;
}

.hlai-quizgen-wrapper .button:focus,
.hlai-quizgen-wizard .button:focus {
    box-shadow: 0 0 0 3px rgba(74, 144, 217, 0.15);
}

.hlai-quizgen-wrapper .button.is-primary,
.hlai-quizgen-wizard .button.is-primary {
    background-color: var(--hlai-primary);
    border-color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .button.is-primary:hover,
.hlai-quizgen-wizard .button.is-primary:hover {
    background-color: var(--hlai-primary-dark);
    border-color: var(--hlai-primary-dark);
}

.hlai-quizgen-wrapper .button.is-light,
.hlai-quizgen-wizard .button.is-light {
    background-color: var(--hlai-gray-100);
    border-color: var(--hlai-gray-200);
    color: var(--hlai-gray-700);
}

.hlai-quizgen-wrapper .button.is-light:hover,
.hlai-quizgen-wizard .button.is-light:hover {
    background-color: var(--hlai-gray-200);
}

/* Input/Control styling - Soft rounded */
.hlai-quizgen-wrapper .input,
.hlai-quizgen-wrapper .textarea,
.hlai-quizgen-wrapper .select select,
.hlai-quizgen-wizard .input,
.hlai-quizgen-wizard .textarea,
.hlai-quizgen-wizard .select select {
    border-radius: var(--hlai-radius-md);
    border-color: var(--hlai-gray-300);
    box-shadow: var(--hlai-shadow-xs);
    transition: border-color var(--hlai-transition-fast), box-shadow var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .input:focus,
.hlai-quizgen-wrapper .textarea:focus,
.hlai-quizgen-wrapper .select select:focus,
.hlai-quizgen-wizard .input:focus,
.hlai-quizgen-wizard .textarea:focus,
.hlai-quizgen-wizard .select select:focus {
    border-color: var(--hlai-primary);
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
    outline: none;
}

/* Step 1: Source Card Improvements - Selectable Cards */
.hlai-quizgen-wrapper .source-card,
.hlai-quizgen-wizard .source-card {
    border: 2px solid transparent;
    transition: all var(--hlai-transition-fast);
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    border-radius: var(--hlai-radius-lg);
    box-shadow: var(--hlai-shadow-sm);
    background-color: #fff;
}

.hlai-quizgen-wrapper .source-card:hover,
.hlai-quizgen-wizard .source-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--hlai-shadow-md);
    border-color: var(--hlai-gray-300);
}

.hlai-quizgen-wrapper .source-card:has(input:checked),
.hlai-quizgen-wizard .source-card:has(input:checked) {
    border-color: var(--hlai-primary);
    background-color: var(--hlai-primary-light);
    box-shadow: 0 0 0 1px var(--hlai-primary);
}

.hlai-quizgen-wrapper .source-card input[type="checkbox"],
.hlai-quizgen-wizard .source-card input[type="checkbox"] {
    transform: scale(1.2);
    accent-color: var(--hlai-primary);
}

/* ============================================
   STEP 1: NEW SOURCE CARD DESIGN
   ============================================ */

/* Source Groups */
.hlai-quizgen-wizard .hlai-source-group {
    margin-bottom: 1.5rem;
}

.hlai-quizgen-wizard .hlai-source-group-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: #64748b;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

/* Source Cards */
.hlai-quizgen-wizard .hlai-source-card {
    display: block;
    position: relative;
    background: #ffffff;
    border: 2px solid #e5e7eb;
    border-radius: 14px;
    padding: 1.25rem;
    cursor: pointer;
    transition: all 0.2s ease;
    height: 100%;
}

.hlai-quizgen-wizard .hlai-source-card:hover {
    border-color: #bfdbfe;
    background: #f8fafc;
    transform: translateY(-2px);
    box-shadow: 0 8px 16px -4px rgba(37, 99, 235, 0.12);
}

.hlai-quizgen-wizard .hlai-source-card:has(.hlai-source-check:checked) {
    border-color: #2563eb;
    background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
}

.hlai-quizgen-wizard .hlai-source-card:has(.hlai-source-check:checked) .hlai-source-icon {
    transform: scale(1.1);
}

/* Hidden checkbox */
.hlai-quizgen-wizard .hlai-source-check {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 20px;
    height: 20px;
    accent-color: #2563eb;
    cursor: pointer;
}

/* Card content */
.hlai-quizgen-wizard .hlai-source-content {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
}

.hlai-quizgen-wizard .hlai-source-icon {
    font-size: 2rem;
    line-height: 1;
    transition: transform 0.2s ease;
}

.hlai-quizgen-wizard .hlai-source-icon.hlai-icon-lg {
    font-size: 2.5rem;
}

.hlai-quizgen-wizard .hlai-source-title {
    font-size: 0.95rem;
    font-weight: 600;
    color: #1e293b;
    display: block;
}

.hlai-quizgen-wizard .hlai-source-desc {
    font-size: 0.8rem;
    color: #64748b;
    margin: 0;
    line-height: 1.4;
}

/* Featured card (Course Activities) */
.hlai-quizgen-wizard .hlai-source-card.hlai-source-featured {
    border-color: #bfdbfe;
    background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
}

.hlai-quizgen-wizard .hlai-source-card.hlai-source-featured .hlai-source-content {
    flex-direction: row;
    align-items: center;
    gap: 1rem;
}

.hlai-quizgen-wizard .hlai-source-card.hlai-source-featured .hlai-source-text {
    flex: 1;
}

.hlai-quizgen-wizard .hlai-source-badge {
    display: inline-block;
    font-size: 0.7rem;
    font-weight: 600;
    color: #1d4ed8;
    background: #dbeafe;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    margin-top: 0.35rem;
}

/* =====================================================
   STEP 2: Configure Topics - Polished Design
   ===================================================== */

/* Topics Section Container */
.hlai-quizgen-wizard .hlai-topics-section {
    margin-top: 1.5rem;
}

/* Topics Header */
.hlai-quizgen-wizard .hlai-topics-header {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.25rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #f0f0f5;
}

.hlai-quizgen-wizard .hlai-topics-icon {
    font-size: 2rem;
    line-height: 1;
    padding: 0.75rem;
    background: linear-gradient(135deg, #e0f2fe 0%, #bfdbfe 100%);
    border-radius: 12px;
}

.hlai-quizgen-wizard .hlai-topics-header-text {
    flex: 1;
}

.hlai-quizgen-wizard .hlai-topics-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1e293b;
    margin: 0 0 0.25rem 0;
}

.hlai-quizgen-wizard .hlai-topics-subtitle {
    font-size: 0.875rem;
    color: #64748b;
    margin: 0;
}

/* Topics Actions Bar */
.hlai-quizgen-wizard .hlai-topics-actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
    padding: 0.75rem 1rem;
    background: #f8fafc;
    border-radius: 10px;
    border: 1px solid #e2e8f0;
}

.hlai-quizgen-wizard .hlai-topics-buttons {
    display: flex;
    gap: 0.5rem;
}

.hlai-quizgen-wizard .hlai-action-btn {
    padding: 0.55rem 1.15rem;
    font-size: 0.85rem;
    font-weight: 700;
    border-radius: 999px;
    border: 1px solid transparent;
    cursor: pointer;
    transition: all 0.18s ease;
    box-shadow: 0 10px 30px -18px rgba(15, 23, 42, 0.6);
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
}

.hlai-quizgen-wizard .hlai-action-select {
    background: linear-gradient(135deg, var(--hlai-primary) 0%, #2563eb 100%);
    color: white;
    border-color: #2563eb;
}

.hlai-quizgen-wizard .hlai-action-select:hover {
    background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);
    transform: translateY(-1px) scale(1.01);
    box-shadow: 0 12px 30px -14px rgba(37, 99, 235, 0.45);
}

.hlai-quizgen-wizard .hlai-action-deselect {
    background: #e5e7eb;
    color: #0f172a;
    border: 1px solid #cbd5e1;
    box-shadow: 0 10px 30px -22px rgba(15, 23, 42, 0.35);
}

.hlai-quizgen-wizard .hlai-action-deselect:hover {
    background: #d9e0e8;
    color: #0b1525;
    border-color: #94a3b8;
    transform: translateY(-1px) scale(1.01);
    box-shadow: 0 12px 30px -18px rgba(15, 23, 42, 0.45);
}

.hlai-quizgen-wizard .hlai-action-btn:focus-visible {
    outline: 3px solid rgba(37, 99, 235, 0.32);
    outline-offset: 2px;
}

.hlai-quizgen-wizard .hlai-topics-count {
    font-size: 0.8rem;
    color: #0f5132;
    font-weight: 600;
    background: #d1fae5;
    padding: 0.35rem 0.75rem;
    border-radius: 20px;
}

/* Topics List Container */
/* Topics List Container */
.hlai-quizgen-wizard .hlai-topics-list {
    max-height: 400px;
    overflow-y: scroll !important;
    padding: 0.5rem;
    padding-right: 0.75rem;
    background: #f8fafc;
    border-radius: 12px;
    border: 1px solid #e2e8f0;
    scrollbar-width: thin;
    scrollbar-color: #bfdbfe #f1f5f9;
}

.hlai-quizgen-wizard .hlai-topics-list::-webkit-scrollbar {
    width: 10px;
    display: block !important;
}

.hlai-quizgen-wizard .hlai-topics-list::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 5px;
    margin: 4px 0;
}

.hlai-quizgen-wizard .hlai-topics-list::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #bfdbfe 0%, #93c5fd 100%);
    border-radius: 5px;
    border: 2px solid #f1f5f9;
    min-height: 40px;
}

.hlai-quizgen-wizard .hlai-topics-list::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #93c5fd 0%, #60a5fa 100%);
}

/* Individual Topic Card */
.hlai-quizgen-wizard .hlai-topic-card {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1rem;
    margin-bottom: 0.5rem;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.hlai-quizgen-wizard .hlai-topic-card:last-child {
    margin-bottom: 0;
}

.hlai-quizgen-wizard .hlai-topic-card:hover {
    border-color: #bfdbfe;
    background: #fefefe;
    transform: translateX(4px);
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.12);
}

.hlai-quizgen-wizard .hlai-topic-card.is-selected {
    background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
    border-color: #2563eb;
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.16);
}

/* Hidden checkbox */
.hlai-quizgen-wizard .hlai-topic-checkbox {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    width: 0;
    height: 0;
}

/* Custom checkmark */
.hlai-quizgen-wizard .hlai-topic-checkmark {
    width: 22px;
    height: 22px;
    min-width: 22px;
    border: 2px solid #cbd5e1;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    background: white;
}

.hlai-quizgen-wizard .hlai-topic-checkmark::after {
    content: '✓';
    color: white;
    font-size: 0.75rem;
    font-weight: bold;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.hlai-quizgen-wizard .hlai-topic-card:hover .hlai-topic-checkmark {
    border-color: #a5b4fc;
}

.hlai-quizgen-wizard .hlai-topic-checkbox:checked ~ .hlai-topic-checkmark {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    border-color: #2563eb;
}

.hlai-quizgen-wizard .hlai-topic-checkbox:checked ~ .hlai-topic-checkmark::after {
    opacity: 1;
}

/* Topic content */
.hlai-quizgen-wizard .hlai-topic-content {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
    min-width: 0;
}

.hlai-quizgen-wizard .hlai-topic-emoji {
    font-size: 1.25rem;
    opacity: 0.8;
}

.hlai-quizgen-wizard .hlai-topic-text {
    flex: 1;
    min-width: 0;
}

.hlai-quizgen-wizard .hlai-topic-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: #1e293b;
    display: block;
}

.hlai-quizgen-wizard .hlai-topic-description {
    font-size: 0.8rem;
    color: #64748b;
    margin: 0.25rem 0 0 0;
    line-height: 1.4;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

/* Selected count bar */
.hlai-quizgen-wizard .hlai-topics-selected-bar {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 1rem;
    padding: 0.75rem 1rem;
    background: #f1f5f9;
    border-radius: 10px;
    border: 1px solid #e2e8f0;
    transition: all 0.3s ease;
}

.hlai-quizgen-wizard .hlai-topics-selected-bar.has-selection {
    background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
    border-color: #bfdbfe;
}

.hlai-quizgen-wizard .hlai-selected-icon {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #2563eb;
    color: white;
    border-radius: 50%;
    font-size: 0.75rem;
    font-weight: bold;
}

.hlai-quizgen-wizard .hlai-selected-text {
    font-size: 0.875rem;
    font-weight: 600;
    color: #1d4ed8;
}

/* =====================================================
   END STEP 2 STYLES
   ===================================================== */

/* =====================================================
   STEP 1: Course Activities - Polished Design
   ===================================================== */

/* Activities Section Container */
.hlai-quizgen-wizard .hlai-activities-section {
    margin-bottom: 1.5rem;
    padding: 1.5rem;
    background: white;
    border-radius: 16px;
    border: 1px solid #e2e8f0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

/* Activities Header */
.hlai-quizgen-wizard .hlai-activities-header {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.25rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #f0f0f5;
}

.hlai-quizgen-wizard .hlai-activities-icon {
    font-size: 2rem;
    line-height: 1;
    padding: 0.75rem;
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    border-radius: 12px;
}

.hlai-quizgen-wizard .hlai-activities-header-text {
    flex: 1;
}

.hlai-quizgen-wizard .hlai-activities-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1e293b;
    margin: 0 0 0.25rem 0;
}

.hlai-quizgen-wizard .hlai-activities-subtitle {
    font-size: 0.875rem;
    color: #64748b;
    margin: 0;
}

/* Activities Actions Bar */
.hlai-quizgen-wizard .hlai-activities-actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
    padding: 0.75rem 1rem;
    background: #f8fafc;
    border-radius: 10px;
    border: 1px solid #e2e8f0;
}

.hlai-quizgen-wizard .hlai-activities-buttons {
    display: flex;
    gap: 0.5rem;
}

.hlai-quizgen-wizard .hlai-activities-count {
    font-size: 0.8rem;
    color: #0f5132;
    font-weight: 600;
    background: #d1fae5;
    padding: 0.35rem 0.75rem;
    border-radius: 20px;
}

/* Activities List Container */
.hlai-quizgen-wizard .hlai-activities-list {
    max-height: 400px;
    overflow-y: scroll !important;
    padding: 0.5rem;
    padding-right: 0.75rem;
    background: #f8fafc;
    border-radius: 12px;
    border: 1px solid #e2e8f0;
    scrollbar-width: thin;
    scrollbar-color: #93c5fd #f1f5f9;
}

.hlai-quizgen-wizard .hlai-activities-list::-webkit-scrollbar {
    width: 10px;
    display: block !important;
}

.hlai-quizgen-wizard .hlai-activities-list::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 5px;
    margin: 4px 0;
}

.hlai-quizgen-wizard .hlai-activities-list::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #93c5fd 0%, #60a5fa 100%);
    border-radius: 5px;
    border: 2px solid #f1f5f9;
    min-height: 40px;
}

.hlai-quizgen-wizard .hlai-activities-list::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
}

/* Individual Activity Card */
.hlai-quizgen-wizard .hlai-activity-card {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1rem;
    margin-bottom: 0.5rem;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.hlai-quizgen-wizard .hlai-activity-card:last-child {
    margin-bottom: 0;
}

.hlai-quizgen-wizard .hlai-activity-card:hover {
    border-color: #93c5fd;
    background: #fefefe;
    transform: translateX(4px);
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);
}

.hlai-quizgen-wizard .hlai-activity-card.is-selected {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border-color: #60a5fa;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);
}

/* Hidden checkbox */
.hlai-quizgen-wizard .hlai-activity-checkbox {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    width: 0;
    height: 0;
}

/* Custom checkmark */
.hlai-quizgen-wizard .hlai-activity-checkmark {
    width: 22px;
    height: 22px;
    min-width: 22px;
    border: 2px solid #cbd5e1;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    background: white;
}

.hlai-quizgen-wizard .hlai-activity-checkmark::after {
    content: '✓';
    color: white;
    font-size: 0.75rem;
    font-weight: bold;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.hlai-quizgen-wizard .hlai-activity-card:hover .hlai-activity-checkmark {
    border-color: #93c5fd;
}

.hlai-quizgen-wizard .hlai-activity-checkbox:checked ~ .hlai-activity-checkmark {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    border-color: #3b82f6;
}

.hlai-quizgen-wizard .hlai-activity-checkbox:checked ~ .hlai-activity-checkmark::after {
    opacity: 1;
}

/* Activity content */
.hlai-quizgen-wizard .hlai-activity-content {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
    min-width: 0;
}

.hlai-quizgen-wizard .hlai-activity-emoji {
    font-size: 1.25rem;
    opacity: 0.8;
}

.hlai-quizgen-wizard .hlai-activity-text {
    flex: 1;
    min-width: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.hlai-quizgen-wizard .hlai-activity-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: #1e293b;
}

.hlai-quizgen-wizard .hlai-activity-type {
    font-size: 0.75rem;
    color: #64748b;
    background: #f1f5f9;
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
}

/* Selected count bar */
.hlai-quizgen-wizard .hlai-activities-selected-bar {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 1rem;
    padding: 0.75rem 1rem;
    background: #f1f5f9;
    border-radius: 10px;
    border: 1px solid #e2e8f0;
    transition: all 0.3s ease;
}

.hlai-quizgen-wizard .hlai-activities-selected-bar.has-selection {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    border-color: #93c5fd;
}

/* =====================================================
   END STEP 1 ACTIVITIES STYLES
   ===================================================== */

/* Step 1: File Upload Improvements */
.hlai-quizgen-wrapper .file-cta,
.hlai-quizgen-wrapper .file-name,
.hlai-quizgen-wizard .file-cta,
.hlai-quizgen-wizard .file-name {
    border-color: var(--hlai-gray-300);
    padding-top: 1rem;
    padding-bottom: 1rem;
}

.hlai-quizgen-wrapper .file.is-boxed .file-cta,
.hlai-quizgen-wizard .file.is-boxed .file-cta {
    border-radius: var(--hlai-radius-lg);
    background-color: var(--hlai-gray-50);
    border: 2px dashed var(--hlai-gray-300);
    box-shadow: none;
    transition: all var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .file.is-boxed:hover .file-cta,
.hlai-quizgen-wizard .file.is-boxed:hover .file-cta {
    background-color: #fff;
    border-color: var(--hlai-primary);
}

/* Step 1: Activity Selection Panel */
.hlai-quizgen-wrapper .panel-block:hover,
.hlai-quizgen-wizard .panel-block:hover {
    background-color: var(--hlai-gray-50);
}

/* Global: Smooth scrolling for panels */
.hlai-quizgen-wrapper .panel[style*="overflow-y"],
.hlai-quizgen-wizard .panel[style*="overflow-y"] {
    scrollbar-width: thin;
    scrollbar-color: var(--hlai-gray-300) transparent;
}

/* Table styling - Clean, modern */
.hlai-quizgen-wrapper .table,
.hlai-quizgen-wizard .table {
    border-radius: var(--hlai-radius-lg);
    border-spacing: 0;
    overflow: hidden;
    box-shadow: var(--hlai-shadow-sm);
    border: 1px solid var(--hlai-gray-200);
}

.hlai-quizgen-wrapper .table th,
.hlai-quizgen-wizard .table th {
    background-color: var(--hlai-gray-50);
    color: var(--hlai-gray-600);
    font-weight: 600;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px solid var(--hlai-gray-200);
    border-width: 0 0 1px;
    padding: 1rem 1.5rem;
}

.hlai-quizgen-wrapper .table td,
.hlai-quizgen-wizard .table td {
    border-bottom: 1px solid var(--hlai-gray-100);
    border-width: 0 0 1px;
    vertical-align: middle;
    padding: 1rem 1.5rem;
}

/* Columns gap adjustment - force flexbox to override Moodle */
.hlai-quizgen-wrapper .columns,
.hlai-quizgen-wizard .columns {
    display: flex !important;
    flex-wrap: wrap !important;
    margin-left: -0.75rem;
    margin-right: -0.75rem;
}

.hlai-quizgen-wrapper .column,
.hlai-quizgen-wizard .column {
    display: flex !important;
    flex-direction: column !important;
    padding: 0.75rem;
}

/* ==========================================================================
   DASHBOARD HEADER - Level layout fix for Moodle
   ========================================================================== */

.hlai-quizgen-wrapper .level {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
}

.hlai-quizgen-wrapper .level-left,
.hlai-quizgen-wrapper .level-right {
    display: flex !important;
    align-items: center !important;
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
}

.hlai-quizgen-wrapper .level-item {
    display: flex !important;
    align-items: center !important;
    margin-right: 0.75rem !important;
}

.hlai-quizgen-wrapper .level-item:last-child {
    margin-right: 0 !important;
}

/* ==========================================================================
   WIZARD STEP NAVIGATION - Horizontal button bars
   ========================================================================== */

/* Navigation bars (Previous/Next) - always horizontal, never wrap */
.hlai-quizgen-wizard .level.mt-5,
.hlai-quizgen-wizard .level.mt-6 {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    flex-wrap: nowrap !important;
}

.hlai-quizgen-wizard .level.mt-5 > .level-left,
.hlai-quizgen-wizard .level.mt-5 > .level-right,
.hlai-quizgen-wizard .level.mt-6 > .level-left,
.hlai-quizgen-wizard .level.mt-6 > .level-right {
    flex-shrink: 0;
    flex-wrap: nowrap !important;
}

/* Consistent button sizing in wizard navigation bars */
.hlai-quizgen-wizard .level .button {
    padding: 0.625rem 1.5rem;
    font-size: 0.95rem;
    white-space: nowrap;
    flex-shrink: 0;
}

/* Keep small buttons compact in toolbar */
.hlai-quizgen-wizard .level .button.is-small {
    padding: 0.375rem 0.875rem;
    font-size: 0.8rem;
}

/* Step 4 toolbar - allow wrapping for filters and bulk actions */
.hlai-quizgen-wizard .level.mb-5 {
    flex-wrap: wrap !important;
}

/* ==========================================================================
   STAT CARDS - KPI Style (Soft, Modern)
   ========================================================================== */

/* KPI row: ensure all stat columns are equal width */
.hlai-quizgen-wrapper .columns.mb-5 > .column {
    flex: 1 1 0 !important;
    min-width: 0 !important;
}

.hlai-quizgen-wrapper .box.has-text-centered,
.hlai-quizgen-wizard .box.has-text-centered {
    padding: 1.25rem 1rem;
    border-radius: var(--hlai-radius-xl);
    transition: transform var(--hlai-transition-fast), box-shadow var(--hlai-transition-fast);
    flex: 1 !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    min-height: 120px;
    width: 100%;
}

.hlai-quizgen-wrapper .box.has-text-centered:hover,
.hlai-quizgen-wizard .box.has-text-centered:hover {
    transform: translateY(-2px);
    box-shadow: var(--hlai-shadow-md);
}

.hlai-quizgen-wrapper .box.has-text-centered p,
.hlai-quizgen-wizard .box.has-text-centered p {
    width: 100% !important;
    text-align: center !important;
    margin-left: auto !important;
    margin-right: auto !important;
}

.hlai-quizgen-wrapper .box.has-text-centered .is-size-3,
.hlai-quizgen-wizard .box.has-text-centered .is-size-3 {
    margin-bottom: 0.25rem;
}

.hlai-quizgen-wrapper .box.has-text-centered .title.is-3,
.hlai-quizgen-wizard .box.has-text-centered .title.is-3 {
    font-size: 2rem;
    font-weight: 700;
    color: var(--hlai-gray-800);
    margin-bottom: 0.25rem;
    text-align: center !important;
}

.hlai-quizgen-wrapper .box.has-text-centered .title.is-4,
.hlai-quizgen-wizard .box.has-text-centered .title.is-4 {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--hlai-gray-800);
    margin-bottom: 0.25rem;
    text-align: center !important;
}

.hlai-quizgen-wrapper .box.has-text-centered .heading,
.hlai-quizgen-wizard .box.has-text-centered .heading {
    font-size: 0.8rem;
    color: var(--hlai-gray-500);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.5rem;
    text-align: center !important;
}

.hlai-quizgen-wrapper .box.has-text-centered .help,
.hlai-quizgen-wizard .box.has-text-centered .help {
    font-size: 0.8rem;
    margin-top: auto;
    padding-top: 0.5rem;
    text-align: center !important;
}

/* ==========================================================================
   BUTTONS (Bulma-style)
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    font-size: 0.95rem;
    font-weight: 500;
    line-height: 1.5;
    border: 1px solid transparent;
    border-radius: var(--hlai-radius-md);
    cursor: pointer;
    transition: all var(--hlai-transition-fast);
    text-decoration: none;
    white-space: nowrap;
}

.hlai-quizgen-wrapper .hlai-button:focus {
    outline: 2px solid var(--hlai-primary);
    outline-offset: 2px;
}

.hlai-quizgen-wrapper .hlai-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Button Variants */
.hlai-quizgen-wrapper .hlai-button.is-primary {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    color: white;
    border-color: #1d4ed8;
}

.hlai-quizgen-wrapper .hlai-button.is-primary:hover:not(:disabled) {
    background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);
    border-color: #1e40af;
}

.hlai-quizgen-wrapper .hlai-button.is-success {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    color: white;
    border-color: #1d4ed8;
}

.hlai-quizgen-wrapper .hlai-button.is-success:hover:not(:disabled) {
    background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);
}

.hlai-quizgen-wrapper .hlai-button.is-warning {
    background: var(--hlai-warning);
    color: white;
    border-color: var(--hlai-warning);
}

.hlai-quizgen-wrapper .hlai-button.is-danger {
    background: var(--hlai-danger);
    color: white;
    border-color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-button.is-danger:hover:not(:disabled) {
    background: #DC2626;
}

.hlai-quizgen-wrapper .hlai-button.is-light {
    background: #e0f2fe;
    color: #1d4ed8;
    border-color: #bfdbfe;
}

.hlai-quizgen-wrapper .hlai-button.is-light:hover:not(:disabled) {
    background: #dbeafe;
}

/* Global button overrides for Bulma buttons inside the wrapper */
.hlai-quizgen-wrapper .button.is-success,
.hlai-quizgen-wrapper .button.is-primary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    border: none !important;
    color: #ffffff !important;
    box-shadow: 0 4px 12px -4px rgba(37, 99, 235, 0.4) !important;
    font-weight: 700;
}

/* Small variant keeps compact sizing */
.hlai-quizgen-wrapper .button.is-success.is-small,
.hlai-quizgen-wrapper .button.is-primary.is-small {
    padding: 0.375rem 0.875rem !important;
    font-size: 0.8rem !important;
    box-shadow: 0 2px 6px -2px rgba(37, 99, 235, 0.3) !important;
}

.hlai-quizgen-wrapper .button.is-success:hover,
.hlai-quizgen-wrapper .button.is-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 16px -4px rgba(37, 99, 235, 0.5) !important;
}

.hlai-quizgen-wrapper .button.is-success:active,
.hlai-quizgen-wrapper .button.is-primary:active {
    transform: translateY(0);
}

.hlai-quizgen-wrapper .button.is-light {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: #e0f2fe;
    color: #1d4ed8;
    border: 1px solid #bfdbfe;
}

.hlai-quizgen-wrapper .button.is-light:hover {
    background: #dbeafe;
}

.hlai-quizgen-wrapper .hlai-button.is-outlined {
    background: transparent;
}

.hlai-quizgen-wrapper .hlai-button.is-outlined.is-primary {
    color: var(--hlai-primary);
    border-color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .hlai-button.is-outlined.is-primary:hover:not(:disabled) {
    background: var(--hlai-primary);
    color: white;
}

.hlai-quizgen-wrapper .hlai-button.is-rounded {
    border-radius: var(--hlai-radius-full);
}

.hlai-quizgen-wrapper .hlai-button.is-small {
    padding: 0.25rem 0.75rem;
    font-size: 0.85rem;
}

.hlai-quizgen-wrapper .hlai-button.is-large {
    padding: 0.75rem 1.5rem;
    font-size: 1.1rem;
}

.hlai-quizgen-wrapper .hlai-button.is-loading {
    color: transparent !important;
    pointer-events: none;
    position: relative;
}

.hlai-quizgen-wrapper .hlai-button.is-loading::after {
    content: '';
    position: absolute;
    width: 1rem;
    height: 1rem;
    border: 2px solid white;
    border-right-color: transparent;
    border-radius: 50%;
    animation: hlai-spin 0.6s linear infinite;
}

@keyframes hlai-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Button Groups */
.hlai-quizgen-wrapper .hlai-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    align-items: center;
}

.hlai-quizgen-wrapper .hlai-buttons.has-addons {
    gap: 0;
}

.hlai-quizgen-wrapper .hlai-buttons.has-addons .hlai-button {
    border-radius: 0;
}

.hlai-quizgen-wrapper .hlai-buttons.has-addons .hlai-button:first-child {
    border-radius: var(--hlai-radius-md) 0 0 var(--hlai-radius-md);
}

.hlai-quizgen-wrapper .hlai-buttons.has-addons .hlai-button:last-child {
    border-radius: 0 var(--hlai-radius-md) var(--hlai-radius-md) 0;
}

/* ==========================================================================
   CARDS (Bulma-style) - Soft Modern Design
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-card {
    background: white;
    border-radius: var(--hlai-radius-xl);
    box-shadow: var(--hlai-shadow-card);
    border: 1px solid var(--hlai-gray-200);
    overflow: hidden;
}

.hlai-quizgen-wrapper .hlai-card-header {
    display: flex;
    align-items: center;
    padding: 1rem 1.5rem;
    background: var(--hlai-gray-50);
    border-bottom: 1px solid var(--hlai-gray-200);
}

.hlai-quizgen-wrapper .hlai-card-header-title {
    flex-grow: 1;
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--hlai-gray-700);
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.hlai-quizgen-wrapper .hlai-card-header-icon {
    margin-left: auto;
    cursor: pointer;
    color: var(--hlai-gray-400);
    transition: color var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .hlai-card-header-icon:hover {
    color: var(--hlai-gray-600);
}

.hlai-quizgen-wrapper .hlai-card-content {
    padding: 1.5rem;
}

.hlai-quizgen-wrapper .hlai-card-footer {
    display: flex;
    padding: 0;
    border-top: 1px solid var(--hlai-gray-200);
    background: var(--hlai-gray-50);
}

.hlai-quizgen-wrapper .hlai-card-footer-item {
    flex: 1;
    padding: 0.875rem 1rem;
    text-align: center;
    color: var(--hlai-primary);
    text-decoration: none;
    cursor: pointer;
    transition: background var(--hlai-transition-fast);
    font-weight: 500;
    font-size: 0.9rem;
}

.hlai-quizgen-wrapper .hlai-card-footer-item:hover {
    background: var(--hlai-gray-100);
}

.hlai-quizgen-wrapper .hlai-card-footer-item:not(:last-child) {
    border-right: 1px solid var(--hlai-gray-200);
}

/* ==========================================================================
   STAT CARDS (Dashboard) - Soft Modern Design
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-stat-card {
    background: white;
    border-radius: var(--hlai-radius-xl);
    padding: 1.5rem;
    box-shadow: var(--hlai-shadow-card);
    border: 1px solid var(--hlai-gray-200);
    transition: all var(--hlai-transition-normal);
    display: flex;
    align-items: center;
    gap: 1rem;
}

.hlai-quizgen-wrapper .hlai-stat-card:hover {
    box-shadow: var(--hlai-shadow-md);
    transform: translateY(-2px);
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-icon {
    width: 56px;
    height: 56px;
    border-radius: var(--hlai-radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    flex-shrink: 0;
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-icon.is-primary {
    background: var(--hlai-primary-light);
    color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-icon.is-success {
    background: var(--hlai-success-light);
    color: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-icon.is-warning {
    background: var(--hlai-warning-light);
    color: var(--hlai-warning);
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-icon.is-info {
    background: var(--hlai-info-light);
    color: var(--hlai-info);
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-icon.is-danger {
    background: var(--hlai-danger-light);
    color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-content {
    flex: 1;
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--hlai-gray-800);
    line-height: 1.2;
    letter-spacing: -0.02em;
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-label {
    font-size: 0.85rem;
    color: var(--hlai-gray-500);
    margin-top: 0.25rem;
    font-weight: 500;
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-change {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.75rem;
    margin-top: 0.5rem;
    padding: 0.25rem 0.625rem;
    border-radius: var(--hlai-radius-full);
    font-weight: 500;
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-change.is-positive {
    background: var(--hlai-success-light);
    color: #1D8348;
}

.hlai-quizgen-wrapper .hlai-stat-card .stat-change.is-negative {
    background: var(--hlai-danger-light);
    color: #C0392B;
}

/* Colored Box Variants for Stats */
.hlai-quizgen-wrapper .box.is-success-light,
.hlai-quizgen-wizard .box.is-success-light {
    background-color: var(--hlai-success-light);
    border-color: rgba(16, 185, 129, 0.2);
}

.hlai-quizgen-wrapper .box.is-warning-light,
.hlai-quizgen-wizard .box.is-warning-light {
    background-color: var(--hlai-warning-light);
    border-color: rgba(245, 158, 11, 0.2);
}

.hlai-quizgen-wrapper .box.is-danger-light,
.hlai-quizgen-wizard .box.is-danger-light {
    background-color: var(--hlai-danger-light);
    border-color: rgba(239, 68, 68, 0.2);
}


/* ==========================================================================
   SECTION HEADERS - With colored indicators
   ========================================================================== */

.hlai-quizgen-wrapper .section-header,
.hlai-quizgen-wizard .section-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1.25rem;
}

.hlai-quizgen-wrapper .section-header .section-indicator,
.hlai-quizgen-wizard .section-header .section-indicator {
    width: 4px;
    height: 24px;
    border-radius: 2px;
    flex-shrink: 0;
}

.hlai-quizgen-wrapper .section-header .section-indicator.is-primary,
.hlai-quizgen-wizard .section-header .section-indicator.is-primary {
    background: var(--hlai-primary);
}

.hlai-quizgen-wrapper .section-header .section-indicator.is-success,
.hlai-quizgen-wizard .section-header .section-indicator.is-success {
    background: var(--hlai-success);
}

.hlai-quizgen-wrapper .section-header .section-indicator.is-warning,
.hlai-quizgen-wizard .section-header .section-indicator.is-warning {
    background: var(--hlai-warning);
}

.hlai-quizgen-wrapper .section-header .section-indicator.is-danger,
.hlai-quizgen-wizard .section-header .section-indicator.is-danger {
    background: var(--hlai-danger);
}

.hlai-quizgen-wrapper .section-header .section-title,
.hlai-quizgen-wizard .section-header .section-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--hlai-gray-800);
    margin: 0;
}

.hlai-quizgen-wrapper .section-header .section-subtitle,
.hlai-quizgen-wizard .section-header .section-subtitle {
    font-size: 0.85rem;
    color: var(--hlai-gray-500);
    margin: 0;
}

/* ==========================================================================
   ICON BADGES - Soft colored backgrounds
   ========================================================================== */

.hlai-quizgen-wrapper .icon-badge,
.hlai-quizgen-wizard .icon-badge {
    width: 48px;
    height: 48px;
    border-radius: var(--hlai-radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
}

.hlai-quizgen-wrapper .icon-badge.is-primary,
.hlai-quizgen-wizard .icon-badge.is-primary {
    background: var(--hlai-primary-light);
    color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .icon-badge.is-success,
.hlai-quizgen-wizard .icon-badge.is-success {
    background: var(--hlai-success-light);
    color: var(--hlai-success);
}

.hlai-quizgen-wrapper .icon-badge.is-warning,
.hlai-quizgen-wizard .icon-badge.is-warning {
    background: var(--hlai-warning-light);
    color: var(--hlai-warning);
}

.hlai-quizgen-wrapper .icon-badge.is-danger,
.hlai-quizgen-wizard .icon-badge.is-danger {
    background: var(--hlai-danger-light);
    color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .icon-badge.is-info,
.hlai-quizgen-wizard .icon-badge.is-info {
    background: var(--hlai-info-light);
    color: var(--hlai-info);
}

/* ==========================================================================
   TAGS (Bulma-style) - Soft Pill Style
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.35rem 0.75rem;
    font-size: 0.8rem;
    font-weight: 500;
    border-radius: var(--hlai-radius-full);
    white-space: nowrap;
}

.hlai-quizgen-wrapper .hlai-tag.is-primary {
    background: var(--hlai-primary-light);
    color: var(--hlai-primary-dark);
}

.hlai-quizgen-wrapper .hlai-tag.is-success {
    background: var(--hlai-success-light);
    color: #1D8348;
}

.hlai-quizgen-wrapper .hlai-tag.is-warning {
    background: var(--hlai-warning-light);
    color: #9A6C00;
}

.hlai-quizgen-wrapper .hlai-tag.is-danger {
    background: var(--hlai-danger-light);
    color: #C0392B;
}

.hlai-quizgen-wrapper .hlai-tag.is-info {
    background: var(--hlai-info-light);
    color: #2471A3;
}

.hlai-quizgen-wrapper .hlai-tag.is-light {
    background: var(--hlai-gray-100);
    color: var(--hlai-gray-600);
}

.hlai-quizgen-wrapper .hlai-tag.is-rounded {
    border-radius: var(--hlai-radius-full);
}

.hlai-quizgen-wrapper .hlai-tag.is-medium {
    padding: 0.4rem 0.875rem;
    font-size: 0.85rem;
}

.hlai-quizgen-wrapper .hlai-tag .delete {
    cursor: pointer;
    margin-left: 0.25rem;
    opacity: 0.7;
}

.hlai-quizgen-wrapper .hlai-tag .delete:hover {
    opacity: 1;
}

.hlai-quizgen-wrapper .hlai-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    align-items: center;
}

/* ==========================================================================
   NOTIFICATIONS (Bulma-style)
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-notification {
    padding: 1.25rem 2.5rem 1.25rem 1.25rem;
    border-radius: var(--hlai-radius-lg);
    position: relative;
}

.hlai-quizgen-wrapper .hlai-notification .delete {
    position: absolute;
    right: 0.75rem;
    top: 0.75rem;
    width: 24px;
    height: 24px;
    border: none;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: inherit;
    font-size: 1rem;
    opacity: 0.7;
}

.hlai-quizgen-wrapper .hlai-notification .delete:hover {
    opacity: 1;
}

.hlai-quizgen-wrapper .hlai-notification.is-primary {
    background: rgba(79, 70, 229, 0.1);
    color: var(--hlai-primary-dark);
}

.hlai-quizgen-wrapper .hlai-notification.is-success {
    background: var(--hlai-success-light);
    color: #065F46;
}

.hlai-quizgen-wrapper .hlai-notification.is-warning {
    background: var(--hlai-warning-light);
    color: #92400E;
}

.hlai-quizgen-wrapper .hlai-notification.is-danger {
    background: var(--hlai-danger-light);
    color: #991B1B;
}

.hlai-quizgen-wrapper .hlai-notification.is-info {
    background: var(--hlai-info-light);
    color: #1E40AF;
}

/* ==========================================================================
   PROGRESS BARS - Soft modern style
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-progress {
    height: 6px;
    border-radius: var(--hlai-radius-full);
    background: var(--hlai-gray-200);
    overflow: hidden;
}

.hlai-quizgen-wrapper .hlai-progress-bar {
    height: 100%;
    border-radius: var(--hlai-radius-full);
    background: var(--hlai-primary);
    transition: width var(--hlai-transition-normal);
}

.hlai-quizgen-wrapper .hlai-progress-bar.is-success {
    background: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-progress-bar.is-warning {
    background: var(--hlai-warning);
}

.hlai-quizgen-wrapper .hlai-progress-bar.is-danger {
    background: var(--hlai-danger);
}

/* Bloom's taxonomy colored progress bars */
.hlai-quizgen-wrapper .hlai-progress-bar.is-remember,
.hlai-quizgen-wizard .hlai-progress-bar.is-remember {
    background: linear-gradient(90deg, #34C88A, #2ECC71);
}

.hlai-quizgen-wrapper .hlai-progress-bar.is-understand,
.hlai-quizgen-wizard .hlai-progress-bar.is-understand {
    background: linear-gradient(90deg, #3498DB, #5DADE2);
}

.hlai-quizgen-wrapper .hlai-progress-bar.is-apply,
.hlai-quizgen-wizard .hlai-progress-bar.is-apply {
    background: linear-gradient(90deg, #9B59B6, #BB8FCE);
}

.hlai-quizgen-wrapper .hlai-progress-bar.is-analyze,
.hlai-quizgen-wizard .hlai-progress-bar.is-analyze {
    background: linear-gradient(90deg, #F39C12, #F5B041);
}

.hlai-quizgen-wrapper .hlai-progress-bar.is-evaluate,
.hlai-quizgen-wizard .hlai-progress-bar.is-evaluate {
    background: linear-gradient(90deg, #E74C3C, #EC7063);
}

.hlai-quizgen-wrapper .hlai-progress-bar.is-create,
.hlai-quizgen-wizard .hlai-progress-bar.is-create {
    background: linear-gradient(90deg, #C0392B, #D35400);
}

.hlai-quizgen-wrapper .hlai-progress.is-striped .hlai-progress-bar {
    background-image: linear-gradient(
        45deg,
        rgba(255, 255, 255, 0.15) 25%,
        transparent 25%,
        transparent 50%,
        rgba(255, 255, 255, 0.15) 50%,
        rgba(255, 255, 255, 0.15) 75%,
        transparent 75%,
        transparent
    );
    background-size: 1rem 1rem;
}

.hlai-quizgen-wrapper .hlai-progress.is-animated .hlai-progress-bar {
    animation: hlai-progress-stripes 1s linear infinite;
}

@keyframes hlai-progress-stripes {
    from { background-position: 1rem 0; }
    to { background-position: 0 0; }
}

/* ==========================================================================
   WIZARD STEPS (Enhanced)
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-steps,
.hlai-quizgen-wizard .hlai-steps {
    display: flex;
    justify-content: space-between;
    margin: 1.25rem auto 2rem;
    position: relative;
    max-width: 900px;
    padding: 0 0.5rem;
}

.hlai-quizgen-wrapper .hlai-steps::before,
.hlai-quizgen-wizard .hlai-steps::before {
    content: '';
    position: absolute;
    top: 17px;
    left: 22px;
    right: 22px;
    height: 3px;
    background: var(--hlai-gray-200);
    z-index: 0;
    border-radius: 999px;
}

.hlai-quizgen-wrapper .hlai-steps::after,
.hlai-quizgen-wizard .hlai-steps::after {
    content: '';
    position: absolute;
    top: 17px;
    left: 22px;
    height: 3px;
    width: 0;
    background: var(--hlai-primary);
    border-radius: 999px;
    z-index: 0;
    transition: width var(--hlai-transition-normal);
}

.hlai-quizgen-wrapper .hlai-step-item,
.hlai-quizgen-wizard .hlai-step-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
    position: relative;
    z-index: 1;
}

.hlai-quizgen-wrapper .hlai-step-marker,
.hlai-quizgen-wizard .hlai-step-marker {
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background: var(--hlai-gray-50);
    border: 1px solid var(--hlai-gray-300);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.85rem;
    color: var(--hlai-gray-500);
    transition: all var(--hlai-transition-normal);
    cursor: default;
    position: relative;
    z-index: 2;
}

/* Future steps - subtle but visible */
.hlai-quizgen-wrapper .hlai-step-item:not(.is-active):not(.is-completed) .hlai-step-marker,
.hlai-quizgen-wizard .hlai-step-item:not(.is-active):not(.is-completed) .hlai-step-marker {
    background: var(--hlai-gray-50);
    border-color: var(--hlai-gray-300);
    color: var(--hlai-gray-500);
}

.hlai-quizgen-wrapper .hlai-step-item.is-active .hlai-step-marker,
.hlai-quizgen-wizard .hlai-step-item.is-active .hlai-step-marker {
    background: var(--hlai-primary);
    border-color: var(--hlai-primary);
    color: white;
    box-shadow: none;
    transform: none;
}

.hlai-quizgen-wrapper .hlai-step-item.is-completed .hlai-step-marker,
.hlai-quizgen-wizard .hlai-step-item.is-completed .hlai-step-marker {
    background: var(--hlai-primary-light);
    border-color: var(--hlai-primary);
    color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .hlai-step-item.is-completed .hlai-step-marker::after,
.hlai-quizgen-wizard .hlai-step-item.is-completed .hlai-step-marker::after {
    content: none;
}

.hlai-quizgen-wrapper .hlai-step-details,
.hlai-quizgen-wizard .hlai-step-details {
    text-align: center;
    margin-top: 0.6rem;
    max-width: 120px;
}

.hlai-quizgen-wrapper .hlai-step-title,
.hlai-quizgen-wizard .hlai-step-title {
    font-weight: 600;
    font-size: 0.8rem;
    color: var(--hlai-gray-500);
    line-height: 1.3;
}

/* Future steps title - lighter */
.hlai-quizgen-wrapper .hlai-step-item:not(.is-active):not(.is-completed) .hlai-step-title,
.hlai-quizgen-wizard .hlai-step-item:not(.is-active):not(.is-completed) .hlai-step-title {
    color: var(--hlai-gray-400);
}

.hlai-quizgen-wrapper .hlai-step-item.is-active .hlai-step-title,
.hlai-quizgen-wizard .hlai-step-item.is-active .hlai-step-title {
    color: var(--hlai-primary);
    font-weight: 700;
    display: inline-block;
    padding: 0.1rem 0.5rem;
    border-radius: var(--hlai-radius-full);
    background: var(--hlai-primary-light);
}

.hlai-quizgen-wrapper .hlai-step-item.is-completed .hlai-step-title,
.hlai-quizgen-wizard .hlai-step-item.is-completed .hlai-step-title {
    color: var(--hlai-gray-600);
}

/* Progress line between steps */
.hlai-quizgen-wrapper .hlai-step-item.is-completed::after,
.hlai-quizgen-wizard .hlai-step-item.is-completed::after {
    display: none;
}

.hlai-quizgen-wrapper .hlai-step-item:last-child::after,
.hlai-quizgen-wizard .hlai-step-item:last-child::after {
    display: none;
}

/* ==========================================================================
   QUESTION CARDS (Enhanced)
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-question-card {
    background: white;
    border-radius: var(--hlai-radius-lg);
    border: 1px solid var(--hlai-gray-200);
    margin-bottom: 1rem;
    transition: all var(--hlai-transition-normal);
    overflow: hidden;
}

.hlai-quizgen-wrapper .hlai-question-card:hover {
    box-shadow: var(--hlai-shadow-md);
}

.hlai-quizgen-wrapper .hlai-question-card.is-approved {
    border-color: var(--hlai-success);
    border-left-width: 4px;
}

.hlai-quizgen-wrapper .hlai-question-card.is-rejected {
    border-color: var(--hlai-danger);
    border-left-width: 4px;
    opacity: 0.7;
}

.hlai-quizgen-wrapper .hlai-question-card.is-selected {
    border-color: var(--hlai-primary);
    box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2);
}

.hlai-quizgen-wrapper .hlai-question-header {
    display: flex;
    align-items: center;
    padding: 1rem 1.25rem;
    background: var(--hlai-gray-50);
    border-bottom: 1px solid var(--hlai-gray-200);
    gap: 0.75rem;
}

.hlai-quizgen-wrapper .hlai-question-number {
    font-weight: 700;
    color: var(--hlai-gray-500);
    font-size: 0.9rem;
}

.hlai-quizgen-wrapper .hlai-question-meta {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    flex: 1;
}

.hlai-quizgen-wrapper .hlai-question-actions {
    display: flex;
    gap: 0.25rem;
}

.hlai-quizgen-wrapper .hlai-question-body {
    padding: 1.25rem;
}

.hlai-quizgen-wrapper .hlai-question-text {
    font-size: 1rem;
    line-height: 1.7;
    color: var(--hlai-gray-800);
    margin-bottom: 1rem;
}

.hlai-quizgen-wrapper .hlai-question-text[contenteditable="true"] {
    border: 1px dashed var(--hlai-gray-300);
    padding: 0.5rem;
    border-radius: var(--hlai-radius-sm);
    background: var(--hlai-gray-50);
}

.hlai-quizgen-wrapper .hlai-question-text[contenteditable="true"]:focus {
    border-color: var(--hlai-primary);
    background: white;
    outline: none;
}

/* Answer Options */
.hlai-quizgen-wrapper .hlai-answer-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.hlai-quizgen-wrapper .hlai-answer-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    margin: 0.5rem 0;
    border-radius: var(--hlai-radius-md);
    background: var(--hlai-gray-50);
    cursor: grab;
    transition: all var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .hlai-answer-item:active {
    cursor: grabbing;
}

.hlai-quizgen-wrapper .hlai-answer-item.is-correct {
    background: var(--hlai-success-light);
    border-left: 3px solid var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-answer-item.is-dragging {
    opacity: 0.5;
    transform: scale(1.02);
}

.hlai-quizgen-wrapper .hlai-answer-marker {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: white;
    border: 2px solid var(--hlai-gray-300);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 600;
    flex-shrink: 0;
}

.hlai-quizgen-wrapper .hlai-answer-item.is-correct .hlai-answer-marker {
    background: var(--hlai-success);
    border-color: var(--hlai-success);
    color: white;
}

.hlai-quizgen-wrapper .hlai-answer-text {
    flex: 1;
}

.hlai-quizgen-wrapper .hlai-answer-drag-handle {
    color: var(--hlai-gray-400);
    cursor: grab;
}

/* ==========================================================================
   TOPIC CARDS (Step 2)
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-topic-card {
    background: white;
    border-radius: var(--hlai-radius-lg);
    border: 2px solid var(--hlai-gray-200);
    padding: 1.25rem;
    margin-bottom: 1rem;
    transition: all var(--hlai-transition-normal);
    cursor: pointer;
}

.hlai-quizgen-wrapper .hlai-topic-card:hover {
    border-color: var(--hlai-gray-300);
    box-shadow: var(--hlai-shadow-sm);
}

.hlai-quizgen-wrapper .hlai-topic-card.is-selected {
    border-color: var(--hlai-primary);
    background: rgba(79, 70, 229, 0.02);
}

.hlai-quizgen-wrapper .hlai-topic-header {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
}

.hlai-quizgen-wrapper .hlai-topic-checkbox {
    width: 24px;
    height: 24px;
    border: 2px solid var(--hlai-gray-300);
    border-radius: var(--hlai-radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .hlai-topic-card.is-selected .hlai-topic-checkbox {
    background: var(--hlai-primary);
    border-color: var(--hlai-primary);
    color: white;
}

.hlai-quizgen-wrapper .hlai-topic-title {
    font-weight: 600;
    font-size: 1.1rem;
    color: var(--hlai-gray-800);
    flex: 1;
}

.hlai-quizgen-wrapper .hlai-topic-title[contenteditable="true"] {
    border-bottom: 1px dashed var(--hlai-gray-300);
    padding-bottom: 2px;
}

.hlai-quizgen-wrapper .hlai-topic-confidence {
    font-size: 0.85rem;
    color: var(--hlai-gray-500);
}

.hlai-quizgen-wrapper .hlai-topic-body {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--hlai-gray-100);
}

.hlai-quizgen-wrapper .hlai-topic-excerpt {
    font-size: 0.9rem;
    color: var(--hlai-gray-600);
    line-height: 1.6;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.hlai-quizgen-wrapper .hlai-topic-actions {
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
}

.hlai-quizgen-wrapper .hlai-topic-question-count {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 1rem;
}

.hlai-quizgen-wrapper .hlai-topic-question-count input[type="range"] {
    flex: 1;
}

.hlai-quizgen-wrapper .hlai-topic-question-count .count-value {
    font-weight: 600;
    color: var(--hlai-primary);
    min-width: 40px;
    text-align: center;
}

/* ==========================================================================
   FORM CONTROLS
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-field {
    margin-bottom: 1.25rem;
}

.hlai-quizgen-wrapper .hlai-label {
    display: block;
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--hlai-gray-700);
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wrapper .hlai-input,
.hlai-quizgen-wrapper .hlai-textarea,
.hlai-quizgen-wrapper .hlai-select select {
    width: 100%;
    padding: 0.625rem 0.875rem;
    font-size: 1rem;
    border: 1px solid var(--hlai-gray-300);
    border-radius: var(--hlai-radius-md);
    background: white;
    transition: all var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .hlai-input:focus,
.hlai-quizgen-wrapper .hlai-textarea:focus,
.hlai-quizgen-wrapper .hlai-select select:focus {
    outline: none;
    border-color: var(--hlai-primary);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.hlai-quizgen-wrapper .hlai-input.is-success,
.hlai-quizgen-wrapper .hlai-textarea.is-success {
    border-color: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-input.is-danger,
.hlai-quizgen-wrapper .hlai-textarea.is-danger {
    border-color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-help {
    font-size: 0.85rem;
    color: var(--hlai-gray-500);
    margin-top: 0.375rem;
}

.hlai-quizgen-wrapper .hlai-help.is-danger {
    color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-help.is-success {
    color: var(--hlai-success);
}

/* Checkbox Card (for content source selection) */
.hlai-quizgen-wrapper .hlai-checkbox-card {
    display: block;
    padding: 1rem;
    background: white;
    border: 2px solid var(--hlai-gray-200);
    border-radius: var(--hlai-radius-lg);
    cursor: pointer;
    transition: all var(--hlai-transition-normal);
    height: 100%;
}

.hlai-quizgen-wrapper .hlai-checkbox-card:hover {
    border-color: var(--hlai-primary-light);
    background: var(--hlai-gray-50);
}

.hlai-quizgen-wrapper .hlai-checkbox-card input[type="checkbox"] {
    display: none;
}

.hlai-quizgen-wrapper .hlai-checkbox-card input[type="checkbox"]:checked + .hlai-checkbox-card-content {
    /* Visual indication of checked state */
}

.hlai-quizgen-wrapper .hlai-checkbox-card:has(input[type="checkbox"]:checked) {
    border-color: var(--hlai-primary);
    background: rgba(79, 70, 229, 0.05);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.hlai-quizgen-wrapper .hlai-checkbox-card-content {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.hlai-quizgen-wrapper .hlai-checkbox-card .hlai-checkbox-icon {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    display: block;
}

.hlai-quizgen-wrapper .hlai-checkbox-card strong {
    color: var(--hlai-gray-800);
    font-size: 0.95rem;
}

.hlai-quizgen-wrapper .hlai-checkbox-card p {
    margin: 0;
    line-height: 1.4;
}

/* ==========================================================================
   FILE UPLOAD (Drag & Drop)
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-file-dropzone {
    position: relative;
    border: 2px dashed var(--hlai-gray-300);
    border-radius: var(--hlai-radius-lg);
    padding: 3rem 2rem;
    text-align: center;
    background: var(--hlai-gray-50);
    transition: all var(--hlai-transition-normal);
    cursor: pointer;
}

.hlai-quizgen-wrapper .hlai-file-dropzone:hover,
.hlai-quizgen-wrapper .hlai-file-dropzone.is-dragover {
    border-color: var(--hlai-primary);
    background: rgba(79, 70, 229, 0.05);
}

.hlai-quizgen-wrapper .hlai-file-dropzone .dropzone-icon {
    font-size: 3rem;
    color: var(--hlai-gray-400);
    margin-bottom: 1rem;
}

.hlai-quizgen-wrapper .hlai-file-dropzone .dropzone-text {
    font-size: 1.1rem;
    color: var(--hlai-gray-600);
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wrapper .hlai-file-dropzone .dropzone-hint {
    font-size: 0.85rem;
    color: var(--hlai-gray-500);
}

.hlai-quizgen-wrapper .hlai-file-list {
    margin-top: 1.5rem;
}

.hlai-quizgen-wrapper .hlai-file-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem 1rem;
    background: white;
    border: 1px solid var(--hlai-gray-200);
    border-radius: var(--hlai-radius-md);
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wrapper .hlai-file-item .file-icon {
    width: 40px;
    height: 40px;
    border-radius: var(--hlai-radius-sm);
    background: var(--hlai-gray-100);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
}

.hlai-quizgen-wrapper .hlai-file-item .file-info {
    flex: 1;
}

.hlai-quizgen-wrapper .hlai-file-item .file-name {
    font-weight: 500;
    color: var(--hlai-gray-800);
}

.hlai-quizgen-wrapper .hlai-file-item .file-size {
    font-size: 0.85rem;
    color: var(--hlai-gray-500);
}

.hlai-quizgen-wrapper .hlai-file-item .file-status {
    color: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-file-item .file-remove {
    color: var(--hlai-gray-400);
    cursor: pointer;
    padding: 0.25rem;
}

.hlai-quizgen-wrapper .hlai-file-item .file-remove:hover {
    color: var(--hlai-danger);
}

/* ==========================================================================
   MODALS
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 9999;
    display: none;
    align-items: center;
    justify-content: center;
}

.hlai-quizgen-wrapper .hlai-modal.is-active {
    display: flex;
}

.hlai-quizgen-wrapper .hlai-modal-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
}

.hlai-quizgen-wrapper .hlai-modal-content {
    position: relative;
    background: white;
    border-radius: var(--hlai-radius-xl);
    max-width: 640px;
    width: 90%;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: var(--hlai-shadow-lg);
    animation: hlai-modal-in 0.2s ease-out;
}

@keyframes hlai-modal-in {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(-10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.hlai-quizgen-wrapper .hlai-modal-card-head {
    display: flex;
    align-items: center;
    padding: 1.25rem 1.5rem;
    background: var(--hlai-gray-50);
    border-bottom: 1px solid var(--hlai-gray-200);
    border-radius: var(--hlai-radius-xl) var(--hlai-radius-xl) 0 0;
}

.hlai-quizgen-wrapper .hlai-modal-card-title {
    font-size: 1.25rem;
    font-weight: 600;
    flex: 1;
    margin: 0;
}

.hlai-quizgen-wrapper .hlai-modal-close {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    cursor: pointer;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--hlai-gray-500);
    transition: all var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .hlai-modal-close:hover {
    background: var(--hlai-gray-200);
    color: var(--hlai-gray-700);
}

.hlai-quizgen-wrapper .hlai-modal-card-body {
    padding: 1.5rem;
}

.hlai-quizgen-wrapper .hlai-modal-card-foot {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    padding: 1.25rem 1.5rem;
    background: var(--hlai-gray-50);
    border-top: 1px solid var(--hlai-gray-200);
    border-radius: 0 0 var(--hlai-radius-xl) var(--hlai-radius-xl);
}

/* ==========================================================================
   CHART CONTAINERS - Soft Modern Design
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-chart-container {
    background: white;
    border-radius: var(--hlai-radius-xl);
    padding: 1.75rem;
    box-shadow: var(--hlai-shadow-card);
    border: 1px solid var(--hlai-gray-200);
}

.hlai-quizgen-wrapper .hlai-chart-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--hlai-gray-800);
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.hlai-quizgen-wrapper .hlai-chart-title::before {
    content: '';
    width: 4px;
    height: 1.25rem;
    background: var(--hlai-primary);
    border-radius: 2px;
}

.hlai-quizgen-wrapper .hlai-chart-subtitle {
    font-size: 0.85rem;
    color: var(--hlai-gray-500);
    margin-bottom: 1.25rem;
    padding-left: 0.875rem;
}

/* ==========================================================================
   GRID LAYOUT
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-columns {
    display: flex;
    flex-wrap: wrap;
    margin: -0.75rem;
}

.hlai-quizgen-wrapper .hlai-columns.is-multiline {
    flex-wrap: wrap;
}

.hlai-quizgen-wrapper .hlai-column {
    flex: 1;
    padding: 0.75rem;
    min-width: 0;
}

/* Numeric column sizes (out of 12) */
.hlai-quizgen-wrapper .hlai-column.is-2 {
    flex: 0 0 16.666%;
    max-width: 16.666%;
}

.hlai-quizgen-wrapper .hlai-column.is-3 {
    flex: 0 0 25%;
    max-width: 25%;
}

.hlai-quizgen-wrapper .hlai-column.is-4 {
    flex: 0 0 33.333%;
    max-width: 33.333%;
}

.hlai-quizgen-wrapper .hlai-column.is-6 {
    flex: 0 0 50%;
    max-width: 50%;
}

.hlai-quizgen-wrapper .hlai-column.is-8 {
    flex: 0 0 66.666%;
    max-width: 66.666%;
}

.hlai-quizgen-wrapper .hlai-column.is-one-quarter {
    flex: 0 0 25%;
}

.hlai-quizgen-wrapper .hlai-column.is-one-third {
    flex: 0 0 33.333%;
}

.hlai-quizgen-wrapper .hlai-column.is-half {
    flex: 0 0 50%;
}

.hlai-quizgen-wrapper .hlai-column.is-two-thirds {
    flex: 0 0 66.666%;
}

.hlai-quizgen-wrapper .hlai-column.is-three-quarters {
    flex: 0 0 75%;
}

.hlai-quizgen-wrapper .hlai-column.is-full {
    flex: 0 0 100%;
}

/* Responsive */
@media (max-width: 768px) {
    .hlai-quizgen-wrapper .hlai-column {
        flex: 0 0 100%;
    }
    
    .hlai-quizgen-wrapper .hlai-steps {
        flex-direction: column;
        gap: 1rem;
    }
    
    .hlai-quizgen-wrapper .hlai-steps::before {
        display: none;
    }

    .hlai-quizgen-wrapper .hlai-steps::after {
        display: none;
    }
    
    .hlai-quizgen-wrapper .hlai-step-item::after {
        display: none;
    }
    
    .hlai-quizgen-wrapper .hlai-stat-card {
        margin-bottom: 1rem;
    }
}

/* ==========================================================================
   ACTIVITY LOG (Step 3.5)
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-activity-log {
    max-height: 300px;
    overflow-y: auto;
    background: var(--hlai-gray-50);
    border-radius: var(--hlai-radius-md);
    padding: 1rem;
    font-family: var(--hlai-font-mono);
    font-size: 0.85rem;
}

.hlai-quizgen-wrapper .hlai-activity-item {
    display: flex;
    gap: 0.75rem;
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--hlai-gray-200);
}

.hlai-quizgen-wrapper .hlai-activity-item:last-child {
    border-bottom: none;
}

.hlai-quizgen-wrapper .hlai-activity-icon {
    flex-shrink: 0;
}

.hlai-quizgen-wrapper .hlai-activity-icon.is-success {
    color: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-activity-icon.is-processing {
    color: var(--hlai-warning);
    animation: hlai-pulse 1s infinite;
}

@keyframes hlai-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.hlai-quizgen-wrapper .hlai-activity-message {
    flex: 1;
    color: var(--hlai-gray-700);
}

/* ==========================================================================
   TOAST NOTIFICATIONS
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-toast-container {
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 10000;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.hlai-quizgen-wrapper .hlai-toast {
    padding: 1rem 1.5rem;
    border-radius: var(--hlai-radius-lg);
    background: white;
    box-shadow: var(--hlai-shadow-lg);
    display: flex;
    align-items: center;
    gap: 0.75rem;
    animation: hlai-toast-in 0.3s ease-out;
    max-width: 400px;
}

@keyframes hlai-toast-in {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.hlai-quizgen-wrapper .hlai-toast.is-success {
    border-left: 4px solid var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-toast.is-danger {
    border-left: 4px solid var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-toast.is-warning {
    border-left: 4px solid var(--hlai-warning);
}

.hlai-quizgen-wrapper .hlai-toast.is-info {
    border-left: 4px solid var(--hlai-info);
}

.hlai-quizgen-wrapper .hlai-toast-close {
    margin-left: auto;
    cursor: pointer;
    color: var(--hlai-gray-400);
}

.hlai-quizgen-wrapper .hlai-toast-close:hover {
    color: var(--hlai-gray-600);
}

/* ==========================================================================
   SKELETON LOADING
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-skeleton {
    background: linear-gradient(90deg, var(--hlai-gray-200) 25%, var(--hlai-gray-100) 50%, var(--hlai-gray-200) 75%);
    background-size: 200% 100%;
    animation: hlai-skeleton-loading 1.5s infinite;
    border-radius: var(--hlai-radius-sm);
}

.hlai-quizgen-wrapper .hlai-skeleton-line {
    height: 1rem;
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wrapper .hlai-skeleton-line.is-short {
    width: 60%;
}

.hlai-quizgen-wrapper .hlai-skeleton-circle {
    width: 48px;
    height: 48px;
    border-radius: 50%;
}

@keyframes hlai-skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* ==========================================================================
   UTILITIES
   ========================================================================== */

.hlai-quizgen-wrapper .has-text-centered {
    text-align: center;
}

.hlai-quizgen-wrapper .has-text-right {
    text-align: right;
}

.hlai-quizgen-wrapper .has-text-weight-bold {
    font-weight: 700;
}

.hlai-quizgen-wrapper .has-text-weight-semibold {
    font-weight: 600;
}

.hlai-quizgen-wrapper .has-text-primary {
    color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .has-text-success {
    color: var(--hlai-success);
}

.hlai-quizgen-wrapper .has-text-warning {
    color: var(--hlai-warning);
}

.hlai-quizgen-wrapper .has-text-danger {
    color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .has-text-grey {
    color: var(--hlai-gray-500);
}

.hlai-quizgen-wrapper .is-flex {
    display: flex;
}

.hlai-quizgen-wrapper .is-flex-wrap {
    flex-wrap: wrap;
}

.hlai-quizgen-wrapper .is-justify-content-space-between {
    justify-content: space-between;
}

.hlai-quizgen-wrapper .is-align-items-center {
    align-items: center;
}

.hlai-quizgen-wrapper .is-hidden {
    display: none !important;
}

.hlai-quizgen-wrapper .mt-1 { margin-top: var(--hlai-space-1); }
.hlai-quizgen-wrapper .mt-2 { margin-top: var(--hlai-space-2); }
.hlai-quizgen-wrapper .mt-3 { margin-top: var(--hlai-space-3); }
.hlai-quizgen-wrapper .mt-4 { margin-top: var(--hlai-space-4); }
.hlai-quizgen-wrapper .mt-5 { margin-top: var(--hlai-space-5); }
.hlai-quizgen-wrapper .mt-6 { margin-top: var(--hlai-space-6); }

.hlai-quizgen-wrapper .mb-1 { margin-bottom: var(--hlai-space-1); }
.hlai-quizgen-wrapper .mb-2 { margin-bottom: var(--hlai-space-2); }
.hlai-quizgen-wrapper .mb-3 { margin-bottom: var(--hlai-space-3); }
.hlai-quizgen-wrapper .mb-4 { margin-bottom: var(--hlai-space-4); }
.hlai-quizgen-wrapper .mb-5 { margin-bottom: var(--hlai-space-5); }
.hlai-quizgen-wrapper .mb-6 { margin-bottom: var(--hlai-space-6); }

.hlai-quizgen-wrapper .ml-1 { margin-left: var(--hlai-space-1); }
.hlai-quizgen-wrapper .ml-2 { margin-left: var(--hlai-space-2); }
.hlai-quizgen-wrapper .ml-3 { margin-left: var(--hlai-space-3); }
.hlai-quizgen-wrapper .ml-4 { margin-left: var(--hlai-space-4); }

.hlai-quizgen-wrapper .p-4 { padding: var(--hlai-space-4); }
.hlai-quizgen-wrapper .p-5 { padding: var(--hlai-space-5); }
.hlai-quizgen-wrapper .p-6 { padding: var(--hlai-space-6); }

.hlai-quizgen-wrapper .gap-2 { gap: var(--hlai-space-2); }
.hlai-quizgen-wrapper .gap-3 { gap: var(--hlai-space-3); }
.hlai-quizgen-wrapper .gap-4 { gap: var(--hlai-space-4); }

/* Wizard-specific spacing utilities */
.hlai-quizgen-wizard .ml-2 { margin-left: 0.5rem; }
.hlai-quizgen-wizard .mb-4 { margin-bottom: 1rem; }
.hlai-quizgen-wizard .mb-5 { margin-bottom: 1.5rem; }
.hlai-quizgen-wizard .mt-3 { margin-top: 0.75rem; }
.hlai-quizgen-wizard .mt-5 { margin-top: 1.5rem; }

/* ==========================================================================
   HLAI DESIGN SYSTEM COMPONENTS
   Standardized Components for Professional Dashboards
   ========================================================================== */

/* ─────────────────────────────────────────────────────────────────────────────
   WIDGET CONTAINER
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-widget {
    background: #FFFFFF;
    border-radius: var(--hlai-radius-lg);
    box-shadow: var(--hlai-shadow-sm);
    border: 1px solid var(--hlai-gray-200);
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    transition: box-shadow var(--hlai-transition-normal);
}

.hlai-quizgen-wrapper .hlai-widget:hover {
    box-shadow: var(--hlai-shadow-md);
}

/* Widget Header */
.hlai-quizgen-wrapper .hlai-widget__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--hlai-space-3) var(--hlai-space-4);
    border-bottom: 1px solid var(--hlai-gray-100);
    min-height: 52px;
}

.hlai-quizgen-wrapper .hlai-widget__title-group {
    display: flex;
    align-items: center;
    gap: var(--hlai-space-3);
    min-width: 0;
}

.hlai-quizgen-wrapper .hlai-widget__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: var(--hlai-radius-md);
    background: var(--hlai-gray-100);
    color: var(--hlai-gray-500);
    font-size: 14px;
    flex-shrink: 0;
    transition: all var(--hlai-transition-normal);
}

.hlai-quizgen-wrapper .hlai-widget__icon--primary {
    background: rgba(79, 70, 229, 0.1);
    color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .hlai-widget__icon--success {
    background: var(--hlai-success-light);
    color: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-widget__icon--warning {
    background: var(--hlai-warning-light);
    color: var(--hlai-warning);
}

.hlai-quizgen-wrapper .hlai-widget__icon--danger {
    background: var(--hlai-danger-light);
    color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-widget__icon--info {
    background: var(--hlai-info-light);
    color: var(--hlai-info);
}

.hlai-quizgen-wrapper .hlai-widget__title {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--hlai-gray-800);
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Header Actions */
.hlai-quizgen-wrapper .hlai-widget__actions {
    display: flex;
    align-items: center;
    gap: var(--hlai-space-1);
    margin-left: var(--hlai-space-2);
}

.hlai-quizgen-wrapper .hlai-widget__action {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border: none;
    background: transparent;
    color: var(--hlai-gray-400);
    border-radius: var(--hlai-radius-sm);
    cursor: pointer;
    transition: all var(--hlai-transition-fast);
    font-size: 13px;
}

.hlai-quizgen-wrapper .hlai-widget__action:hover {
    background: var(--hlai-gray-100);
    color: var(--hlai-gray-600);
}

.hlai-quizgen-wrapper .hlai-widget__action:active {
    background: var(--hlai-gray-200);
}

.hlai-quizgen-wrapper .hlai-widget__actions--hover-only {
    opacity: 0;
    transition: opacity var(--hlai-transition-normal);
}

.hlai-quizgen-wrapper .hlai-widget:hover .hlai-widget__actions--hover-only {
    opacity: 1;
}

/* Widget Status Bar */
.hlai-quizgen-wrapper .hlai-widget__status {
    display: flex;
    align-items: center;
    gap: var(--hlai-space-2);
    padding: var(--hlai-space-2) var(--hlai-space-4);
    font-size: 0.75rem;
    font-weight: 500;
}

.hlai-quizgen-wrapper .hlai-widget__status--success {
    background: var(--hlai-success-light);
    color: #059669;
}

.hlai-quizgen-wrapper .hlai-widget__status--warning {
    background: var(--hlai-warning-light);
    color: #D97706;
}

.hlai-quizgen-wrapper .hlai-widget__status--danger {
    background: var(--hlai-danger-light);
    color: #DC2626;
}

.hlai-quizgen-wrapper .hlai-widget__status--info {
    background: var(--hlai-info-light);
    color: #0891B2;
}

.hlai-quizgen-wrapper .hlai-widget__status-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: currentColor;
}

/* Widget Body */
.hlai-quizgen-wrapper .hlai-widget__body {
    flex: 1;
    padding: var(--hlai-space-4);
    overflow: auto;
}

.hlai-quizgen-wrapper .hlai-widget__body--compact {
    padding: var(--hlai-space-3);
}

.hlai-quizgen-wrapper .hlai-widget__body--flush {
    padding: 0;
}

/* Widget Footer */
.hlai-quizgen-wrapper .hlai-widget__footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--hlai-space-3) var(--hlai-space-4);
    border-top: 1px solid var(--hlai-gray-100);
    background: var(--hlai-gray-50);
}

.hlai-quizgen-wrapper .hlai-widget__updated {
    font-size: 0.75rem;
    color: var(--hlai-gray-400);
}

.hlai-quizgen-wrapper .hlai-widget__link {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--hlai-primary);
    text-decoration: none;
    transition: color var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .hlai-widget__link:hover {
    color: var(--hlai-primary-dark);
}

/* ─────────────────────────────────────────────────────────────────────────────
   KPI CARDS
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-kpi {
    display: flex;
    align-items: flex-start;
    gap: var(--hlai-space-3);
    padding: var(--hlai-space-4);
    background: var(--hlai-gray-50);
    border-radius: var(--hlai-radius-lg);
    position: relative;
}

.hlai-quizgen-wrapper .hlai-widget__body .hlai-kpi {
    background: transparent;
    padding: var(--hlai-space-3);
    border: 1px solid var(--hlai-gray-100);
}

.hlai-quizgen-wrapper .hlai-kpi__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border-radius: var(--hlai-radius-lg);
    background: var(--hlai-gray-200);
    color: var(--hlai-gray-500);
    font-size: 18px;
    flex-shrink: 0;
}

.hlai-quizgen-wrapper .hlai-kpi--success .hlai-kpi__icon {
    background: var(--hlai-success-light);
    color: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-kpi--warning .hlai-kpi__icon {
    background: var(--hlai-warning-light);
    color: var(--hlai-warning);
}

.hlai-quizgen-wrapper .hlai-kpi--danger .hlai-kpi__icon {
    background: var(--hlai-danger-light);
    color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-kpi--info .hlai-kpi__icon {
    background: var(--hlai-info-light);
    color: var(--hlai-info);
}

.hlai-quizgen-wrapper .hlai-kpi--primary .hlai-kpi__icon {
    background: rgba(79, 70, 229, 0.1);
    color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .hlai-kpi__content {
    display: flex;
    flex-direction: column;
    min-width: 0;
}

.hlai-quizgen-wrapper .hlai-kpi__value {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--hlai-gray-800);
    line-height: 1.2;
    font-family: var(--hlai-font-mono);
    letter-spacing: -0.02em;
}

.hlai-quizgen-wrapper .hlai-kpi__label {
    font-size: 0.8125rem;
    color: var(--hlai-gray-500);
    margin-top: 2px;
}

.hlai-quizgen-wrapper .hlai-kpi__trend {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 0.75rem;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: var(--hlai-radius-full);
    margin-left: auto;
}

.hlai-quizgen-wrapper .hlai-kpi__trend--up {
    background: var(--hlai-success-light);
    color: #059669;
}

.hlai-quizgen-wrapper .hlai-kpi__trend--down {
    background: var(--hlai-danger-light);
    color: #DC2626;
}

.hlai-quizgen-wrapper .hlai-kpi__trend--neutral {
    background: var(--hlai-gray-100);
    color: var(--hlai-gray-500);
}

/* KPI Compact Variant */
.hlai-quizgen-wrapper .hlai-kpi--compact {
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: var(--hlai-space-3);
}

.hlai-quizgen-wrapper .hlai-kpi--compact .hlai-kpi__value {
    font-size: 1.125rem;
}

.hlai-quizgen-wrapper .hlai-kpi--compact .hlai-kpi__label {
    font-size: 0.75rem;
}

.hlai-quizgen-wrapper .hlai-kpi--compact .hlai-kpi__trend {
    margin-left: 0;
    margin-top: var(--hlai-space-2);
}

/* KPI Grid Layouts */
.hlai-quizgen-wrapper .hlai-kpi-grid {
    display: grid;
    gap: var(--hlai-space-3);
}

.hlai-quizgen-wrapper .hlai-kpi-grid--2 {
    grid-template-columns: repeat(2, 1fr);
}

.hlai-quizgen-wrapper .hlai-kpi-grid--3 {
    grid-template-columns: repeat(3, 1fr);
}

.hlai-quizgen-wrapper .hlai-kpi-grid--4 {
    grid-template-columns: repeat(4, 1fr);
}

@media (max-width: 768px) {
    .hlai-quizgen-wrapper .hlai-kpi-grid--3,
    .hlai-quizgen-wrapper .hlai-kpi-grid--4 {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 480px) {
    .hlai-quizgen-wrapper .hlai-kpi-grid--2,
    .hlai-quizgen-wrapper .hlai-kpi-grid--3,
    .hlai-quizgen-wrapper .hlai-kpi-grid--4 {
        grid-template-columns: 1fr;
    }
}

/* ─────────────────────────────────────────────────────────────────────────────
   STATUS BADGES (Enhanced)
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    font-size: 0.75rem;
    font-weight: 500;
    border-radius: var(--hlai-radius-full);
    white-space: nowrap;
}

.hlai-quizgen-wrapper .hlai-badge__dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: currentColor;
}

.hlai-quizgen-wrapper .hlai-badge--success {
    background: var(--hlai-success-light);
    color: #059669;
}

.hlai-quizgen-wrapper .hlai-badge--warning {
    background: var(--hlai-warning-light);
    color: #B45309;
}

.hlai-quizgen-wrapper .hlai-badge--danger {
    background: var(--hlai-danger-light);
    color: #DC2626;
}

.hlai-quizgen-wrapper .hlai-badge--info {
    background: var(--hlai-info-light);
    color: #1D4ED8;
}

.hlai-quizgen-wrapper .hlai-badge--neutral {
    background: var(--hlai-gray-100);
    color: var(--hlai-gray-600);
}

.hlai-quizgen-wrapper .hlai-badge--primary {
    background: rgba(79, 70, 229, 0.1);
    color: var(--hlai-primary-dark);
}

.hlai-quizgen-wrapper .hlai-badge--sm {
    padding: 2px 8px;
    font-size: 11px;
}

.hlai-quizgen-wrapper .hlai-badge--sm .hlai-badge__dot {
    width: 5px;
    height: 5px;
}

.hlai-quizgen-wrapper .hlai-badge--lg {
    padding: 6px 14px;
    font-size: 0.8125rem;
}

.hlai-quizgen-wrapper .hlai-badge--lg .hlai-badge__dot {
    width: 8px;
    height: 8px;
}

.hlai-quizgen-wrapper .hlai-badge--pulse .hlai-badge__dot {
    animation: hlai-badge-pulse 2s infinite;
}

@keyframes hlai-badge-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* ─────────────────────────────────────────────────────────────────────────────
   DATA TABLES (Enhanced)
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-table-wrapper {
    overflow-x: auto;
}

.hlai-quizgen-wrapper .hlai-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.8125rem;
}

.hlai-quizgen-wrapper .hlai-table th {
    text-align: left;
    padding: var(--hlai-space-3) var(--hlai-space-4);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--hlai-gray-500);
    background: var(--hlai-gray-50);
    border-bottom: 1px solid var(--hlai-gray-200);
    white-space: nowrap;
}

.hlai-quizgen-wrapper .hlai-table td {
    padding: var(--hlai-space-3) var(--hlai-space-4);
    border-bottom: 1px solid var(--hlai-gray-100);
    color: var(--hlai-gray-700);
}

.hlai-quizgen-wrapper .hlai-table tbody tr:hover {
    background: var(--hlai-gray-50);
}

.hlai-quizgen-wrapper .hlai-table__meta {
    color: var(--hlai-gray-400);
    font-size: 0.75rem;
}

.hlai-quizgen-wrapper .hlai-table__user {
    display: flex;
    align-items: center;
    gap: var(--hlai-space-2);
}

.hlai-quizgen-wrapper .hlai-table__avatar {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: rgba(79, 70, 229, 0.1);
    color: var(--hlai-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: 600;
}

/* Inline Progress Bar (Enhanced) */
.hlai-quizgen-wrapper .hlai-inline-progress {
    display: flex;
    align-items: center;
    gap: var(--hlai-space-2);
    min-width: 100px;
}

.hlai-quizgen-wrapper .hlai-inline-progress__bar {
    flex: 1;
    height: 6px;
    background: var(--hlai-gray-200);
    border-radius: var(--hlai-radius-full);
    position: relative;
    overflow: hidden;
}

.hlai-quizgen-wrapper .hlai-inline-progress__fill {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: var(--hlai-primary);
    border-radius: var(--hlai-radius-full);
    transition: width var(--hlai-transition-normal);
}

.hlai-quizgen-wrapper .hlai-inline-progress__fill--success {
    background: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-inline-progress__fill--warning {
    background: var(--hlai-warning);
}

.hlai-quizgen-wrapper .hlai-inline-progress__fill--danger {
    background: var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-inline-progress__text {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--hlai-gray-600);
    min-width: 36px;
}

/* ─────────────────────────────────────────────────────────────────────────────
   DATA LISTS
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-data-list {
    display: flex;
    flex-direction: column;
    gap: 0;
    margin: 0;
}

.hlai-quizgen-wrapper .hlai-data-list__item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--hlai-space-3) 0;
    border-bottom: 1px solid var(--hlai-gray-100);
}

.hlai-quizgen-wrapper .hlai-data-list__item:last-child {
    border-bottom: none;
}

.hlai-quizgen-wrapper .hlai-data-list dt {
    font-size: 0.8125rem;
    color: var(--hlai-gray-500);
}

.hlai-quizgen-wrapper .hlai-data-list dd {
    font-size: 0.8125rem;
    font-weight: 600;
    color: var(--hlai-gray-800);
    margin: 0;
    text-align: right;
}

.hlai-quizgen-wrapper .hlai-data-list__value--success {
    color: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-data-list__value--warning {
    color: var(--hlai-warning);
}

.hlai-quizgen-wrapper .hlai-data-list__value--danger {
    color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-data-list--compact .hlai-data-list__item {
    padding: var(--hlai-space-2) 0;
}

.hlai-quizgen-wrapper .hlai-data-list--horizontal {
    flex-direction: row;
    flex-wrap: wrap;
    gap: var(--hlai-space-4);
}

.hlai-quizgen-wrapper .hlai-data-list--horizontal .hlai-data-list__item {
    flex-direction: column;
    align-items: flex-start;
    border-bottom: none;
    padding: 0;
}

.hlai-quizgen-wrapper .hlai-data-list--horizontal dd {
    text-align: left;
}

/* ─────────────────────────────────────────────────────────────────────────────
   WIDGET SECTIONS
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-section {
    background: var(--hlai-gray-50);
    border-radius: var(--hlai-radius-md);
    overflow: hidden;
}

.hlai-quizgen-wrapper .hlai-section + .hlai-section {
    margin-top: var(--hlai-space-3);
}

.hlai-quizgen-wrapper .hlai-section__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--hlai-space-3) var(--hlai-space-4);
    background: var(--hlai-gray-100);
}

.hlai-quizgen-wrapper .hlai-section__title {
    font-size: 0.8125rem;
    font-weight: 600;
    color: var(--hlai-gray-700);
    margin: 0;
}

.hlai-quizgen-wrapper .hlai-section__body {
    padding: var(--hlai-space-3) var(--hlai-space-4);
}

/* ─────────────────────────────────────────────────────────────────────────────
   DASHBOARD PAGE LAYOUT
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-dashboard {
    max-width: 1400px;
    margin: 0 auto;
    padding: var(--hlai-space-4);
}

.hlai-quizgen-wrapper .hlai-dashboard__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--hlai-space-6);
    flex-wrap: wrap;
    gap: var(--hlai-space-4);
}

.hlai-quizgen-wrapper .hlai-dashboard__title {
    font-size: 1.875rem;
    font-weight: 700;
    color: var(--hlai-gray-900);
    margin: 0;
}

.hlai-quizgen-wrapper .hlai-dashboard__subtitle {
    font-size: 0.875rem;
    color: var(--hlai-gray-500);
    margin-top: var(--hlai-space-1);
}

.hlai-quizgen-wrapper .hlai-dashboard__actions {
    display: flex;
    gap: var(--hlai-space-3);
    flex-wrap: wrap;
}

/* Dashboard Grid */
.hlai-quizgen-wrapper .hlai-dashboard__grid {
    display: grid;
    gap: var(--hlai-space-4);
}

.hlai-quizgen-wrapper .hlai-dashboard__grid--2 {
    grid-template-columns: repeat(2, 1fr);
}

.hlai-quizgen-wrapper .hlai-dashboard__grid--3 {
    grid-template-columns: repeat(3, 1fr);
}

.hlai-quizgen-wrapper .hlai-dashboard__grid--4 {
    grid-template-columns: repeat(4, 1fr);
}

.hlai-quizgen-wrapper .hlai-dashboard__grid--sidebar {
    grid-template-columns: 2fr 1fr;
}

@media (max-width: 1024px) {
    .hlai-quizgen-wrapper .hlai-dashboard__grid--sidebar {
        grid-template-columns: 1fr;
    }
    
    .hlai-quizgen-wrapper .hlai-dashboard__grid--3,
    .hlai-quizgen-wrapper .hlai-dashboard__grid--4 {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .hlai-quizgen-wrapper .hlai-dashboard__grid--2,
    .hlai-quizgen-wrapper .hlai-dashboard__grid--3,
    .hlai-quizgen-wrapper .hlai-dashboard__grid--4 {
        grid-template-columns: 1fr;
    }
    
    .hlai-quizgen-wrapper .hlai-dashboard__header {
        flex-direction: column;
        align-items: flex-start;
    }
}

/* ─────────────────────────────────────────────────────────────────────────────
   BUTTONS (Enhanced Style)
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--hlai-space-2);
    padding: var(--hlai-space-2) var(--hlai-space-4);
    font-size: 0.8125rem;
    font-weight: 500;
    line-height: 1.5;
    border: 1px solid transparent;
    border-radius: var(--hlai-radius-md);
    cursor: pointer;
    transition: all var(--hlai-transition-fast);
    text-decoration: none;
    white-space: nowrap;
}

.hlai-quizgen-wrapper .hlai-btn:focus {
    outline: 2px solid var(--hlai-primary);
    outline-offset: 2px;
}

.hlai-quizgen-wrapper .hlai-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.hlai-quizgen-wrapper .hlai-btn--primary {
    background: var(--hlai-primary);
    color: white;
    border-color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .hlai-btn--primary:hover:not(:disabled) {
    background: var(--hlai-primary-dark);
    border-color: var(--hlai-primary-dark);
}

.hlai-quizgen-wrapper .hlai-btn--success {
    background: var(--hlai-success);
    color: white;
    border-color: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-btn--success:hover:not(:disabled) {
    background: #059669;
}

.hlai-quizgen-wrapper .hlai-btn--warning {
    background: var(--hlai-warning);
    color: white;
    border-color: var(--hlai-warning);
}

.hlai-quizgen-wrapper .hlai-btn--warning:hover:not(:disabled) {
    background: #D97706;
}

.hlai-quizgen-wrapper .hlai-btn--danger {
    background: var(--hlai-danger);
    color: white;
    border-color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-btn--danger:hover:not(:disabled) {
    background: #DC2626;
}

.hlai-quizgen-wrapper .hlai-btn--light {
    background: var(--hlai-gray-100);
    color: var(--hlai-gray-700);
    border-color: var(--hlai-gray-200);
}

.hlai-quizgen-wrapper .hlai-btn--light:hover:not(:disabled) {
    background: var(--hlai-gray-200);
}

.hlai-quizgen-wrapper .hlai-btn--outline {
    background: transparent;
    color: var(--hlai-primary);
    border-color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .hlai-btn--outline:hover:not(:disabled) {
    background: var(--hlai-primary);
    color: white;
}

.hlai-quizgen-wrapper .hlai-btn--sm {
    padding: var(--hlai-space-1) var(--hlai-space-3);
    font-size: 0.75rem;
}

.hlai-quizgen-wrapper .hlai-btn--lg {
    padding: var(--hlai-space-3) var(--hlai-space-6);
    font-size: 0.875rem;
}

.hlai-quizgen-wrapper .hlai-btn-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--hlai-space-2);
}

/* ─────────────────────────────────────────────────────────────────────────────
   QUICK ACTIONS LIST
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-action-list {
    display: flex;
    flex-direction: column;
    gap: var(--hlai-space-2);
}

.hlai-quizgen-wrapper .hlai-action-list__item {
    display: flex;
    align-items: center;
    gap: var(--hlai-space-3);
    padding: var(--hlai-space-3) var(--hlai-space-4);
    background: var(--hlai-gray-50);
    border-radius: var(--hlai-radius-md);
    text-decoration: none;
    color: var(--hlai-gray-700);
    transition: all var(--hlai-transition-fast);
    border: 1px solid transparent;
}

.hlai-quizgen-wrapper .hlai-action-list__item:hover {
    background: rgba(79, 70, 229, 0.05);
    color: var(--hlai-primary);
    border-color: var(--hlai-primary);
}

.hlai-quizgen-wrapper .hlai-action-list__icon {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--hlai-radius-md);
    background: white;
    font-size: 16px;
    flex-shrink: 0;
}

.hlai-quizgen-wrapper .hlai-action-list__content {
    flex: 1;
    min-width: 0;
}

.hlai-quizgen-wrapper .hlai-action-list__title {
    font-weight: 600;
    font-size: 0.8125rem;
}

.hlai-quizgen-wrapper .hlai-action-list__desc {
    font-size: 0.75rem;
    color: var(--hlai-gray-500);
    margin-top: 2px;
}

.hlai-quizgen-wrapper .hlai-action-list__arrow {
    color: var(--hlai-gray-400);
    transition: transform var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .hlai-action-list__item:hover .hlai-action-list__arrow {
    transform: translateX(4px);
    color: var(--hlai-primary);
}

/* ─────────────────────────────────────────────────────────────────────────────
   ACTIVITY FEED
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-activity-feed {
    display: flex;
    flex-direction: column;
}

.hlai-quizgen-wrapper .hlai-activity-feed__item {
    display: flex;
    gap: var(--hlai-space-3);
    padding: var(--hlai-space-3) var(--hlai-space-4);
    border-bottom: 1px solid var(--hlai-gray-100);
    transition: background var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .hlai-activity-feed__item:hover {
    background: var(--hlai-gray-50);
}

.hlai-quizgen-wrapper .hlai-activity-feed__item:last-child {
    border-bottom: none;
}

.hlai-quizgen-wrapper .hlai-activity-feed__icon {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: var(--hlai-gray-100);
    flex-shrink: 0;
    font-size: 14px;
}

.hlai-quizgen-wrapper .hlai-activity-feed__icon--success {
    background: var(--hlai-success-light);
    color: var(--hlai-success);
}

.hlai-quizgen-wrapper .hlai-activity-feed__icon--warning {
    background: var(--hlai-warning-light);
    color: var(--hlai-warning);
}

.hlai-quizgen-wrapper .hlai-activity-feed__icon--danger {
    background: var(--hlai-danger-light);
    color: var(--hlai-danger);
}

.hlai-quizgen-wrapper .hlai-activity-feed__icon--info {
    background: var(--hlai-info-light);
    color: var(--hlai-info);
}

.hlai-quizgen-wrapper .hlai-activity-feed__content {
    flex: 1;
    min-width: 0;
}

.hlai-quizgen-wrapper .hlai-activity-feed__title {
    font-weight: 500;
    font-size: 0.8125rem;
    color: var(--hlai-gray-800);
}

.hlai-quizgen-wrapper .hlai-activity-feed__meta {
    font-size: 0.75rem;
    color: var(--hlai-gray-500);
    margin-top: 2px;
}

.hlai-quizgen-wrapper .hlai-activity-feed__badge {
    align-self: center;
}

/* ─────────────────────────────────────────────────────────────────────────────
   EMPTY STATE
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-empty-state {
    text-align: center;
    padding: var(--hlai-space-6) var(--hlai-space-4);
}

.hlai-quizgen-wrapper .hlai-empty-state__icon {
    font-size: 48px;
    color: var(--hlai-gray-300);
    margin-bottom: var(--hlai-space-4);
}

.hlai-quizgen-wrapper .hlai-empty-state__title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--hlai-gray-700);
    margin-bottom: var(--hlai-space-2);
}

.hlai-quizgen-wrapper .hlai-empty-state__desc {
    font-size: 0.8125rem;
    color: var(--hlai-gray-500);
    margin-bottom: var(--hlai-space-4);
}

/* ─────────────────────────────────────────────────────────────────────────────
   TIPS BOX
   ───────────────────────────────────────────────────────────────────────────── */

.hlai-quizgen-wrapper .hlai-tips {
    display: flex;
    align-items: flex-start;
    gap: var(--hlai-space-3);
    padding: var(--hlai-space-4);
    background: var(--hlai-info-light);
    border-radius: var(--hlai-radius-lg);
    border-left: 4px solid var(--hlai-info);
}

.hlai-quizgen-wrapper .hlai-tips__icon {
    font-size: 24px;
    flex-shrink: 0;
}

.hlai-quizgen-wrapper .hlai-tips__content {
    flex: 1;
}

.hlai-quizgen-wrapper .hlai-tips__title {
    font-weight: 600;
    font-size: 0.8125rem;
    color: #1D4ED8;
    margin-bottom: var(--hlai-space-2);
}

.hlai-quizgen-wrapper .hlai-tips__list {
    margin: 0;
    padding-left: var(--hlai-space-5);
    font-size: 0.8125rem;
    color: var(--hlai-gray-700);
}

.hlai-quizgen-wrapper .hlai-tips__list li {
    margin-bottom: var(--hlai-space-1);
}

.hlai-quizgen-wrapper .hlai-tips__close {
    background: none;
    border: none;
    cursor: pointer;
    color: var(--hlai-gray-400);
    padding: var(--hlai-space-1);
    border-radius: var(--hlai-radius-sm);
    transition: all var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .hlai-tips__close:hover {
    background: rgba(0, 0, 0, 0.1);
    color: var(--hlai-gray-600);
}

/* ==========================================================================
   WIZARD SPECIFIC STYLES
   Make all hlai-quizgen-wrapper styles work in hlai-quizgen-wizard context
   ========================================================================== */

/* Step indicators */
.hlai-quizgen-wizard .hlai-step-marker {
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background: var(--hlai-gray-50);
    border: 1px solid var(--hlai-gray-300);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.85rem;
    color: var(--hlai-gray-500);
    transition: all var(--hlai-transition-normal);
}

.hlai-quizgen-wizard .hlai-step-item.is-active .hlai-step-marker {
    background: var(--hlai-primary);
    border-color: var(--hlai-primary);
    color: white;
    box-shadow: none;
}

.hlai-quizgen-wizard .hlai-step-item.is-completed .hlai-step-marker {
    background: var(--hlai-primary-light);
    border-color: var(--hlai-primary);
    color: var(--hlai-primary);
}

.hlai-quizgen-wizard .hlai-step-details {
    text-align: center;
    margin-top: 0.5rem;
}

.hlai-quizgen-wizard .hlai-step-title {
    font-weight: 600;
    font-size: 0.75rem;
    color: var(--hlai-gray-500);
}

.hlai-quizgen-wizard .hlai-step-item.is-active .hlai-step-title {
    color: var(--hlai-primary);
}

.hlai-quizgen-wizard .hlai-step-item.is-completed .hlai-step-title {
    color: var(--hlai-gray-600);
}

/* Form elements in wizard */
.hlai-quizgen-wizard .hlai-label {
    display: block;
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--hlai-gray-700);
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wizard .hlai-textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    border: 1px solid var(--hlai-gray-300);
    border-radius: var(--hlai-radius-md);
    background: white;
    transition: all var(--hlai-transition-fast);
    font-family: inherit;
    resize: vertical;
}

.hlai-quizgen-wizard .hlai-textarea:focus {
    outline: none;
    border-color: var(--hlai-primary);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

/* Cards in wizard */
.hlai-quizgen-wizard .hlai-card {
    background: white;
    border-radius: var(--hlai-radius-lg);
    border: 1px solid var(--hlai-gray-200);
    box-shadow: var(--hlai-shadow-sm);
}

.hlai-quizgen-wizard .hlai-card-content {
    padding: 1.5rem;
}

.hlai-quizgen-wizard .hlai-card-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--hlai-gray-800);
}

/* Buttons in wizard */
.hlai-quizgen-wizard .hlai-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.625rem 1.25rem;
    font-size: 0.95rem;
    font-weight: 500;
    line-height: 1.5;
    border-radius: var(--hlai-radius-md);
    border: 1px solid transparent;
    cursor: pointer;
    transition: all var(--hlai-transition-fast);
    text-decoration: none;
}

.hlai-quizgen-wizard .hlai-button.is-primary {
    background: var(--hlai-primary);
    color: white;
    border-color: var(--hlai-primary);
}

.hlai-quizgen-wizard .hlai-button.is-primary:hover {
    background: var(--hlai-primary-dark);
}

.hlai-quizgen-wizard .hlai-button.is-light {
    background: var(--hlai-gray-100);
    color: var(--hlai-gray-700);
    border-color: var(--hlai-gray-200);
}

.hlai-quizgen-wizard .hlai-button.is-light:hover {
    background: var(--hlai-gray-200);
}

.hlai-quizgen-wizard .hlai-button.is-small {
    padding: 0.375rem 0.75rem;
    font-size: 0.85rem;
}

/* Checkbox cards in wizard */
.hlai-quizgen-wizard .hlai-checkbox-card {
    display: block;
    padding: 1rem;
    background: white;
    border: 2px solid var(--hlai-gray-200);
    border-radius: var(--hlai-radius-lg);
    cursor: pointer;
    transition: all var(--hlai-transition-normal);
    height: 100%;
}

.hlai-quizgen-wizard .hlai-checkbox-card:hover {
    border-color: var(--hlai-primary-light);
    background: var(--hlai-gray-50);
}

.hlai-quizgen-wizard .hlai-checkbox-card input[type="checkbox"] {
    display: none;
}

.hlai-quizgen-wizard .hlai-checkbox-card:has(input[type="checkbox"]:checked) {
    border-color: var(--hlai-primary);
    background: rgba(79, 70, 229, 0.05);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.hlai-quizgen-wizard .hlai-checkbox-card-content {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.hlai-quizgen-wizard .hlai-checkbox-icon {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    display: block;
}

/* Tags in wizard */
.hlai-quizgen-wizard .hlai-tag {
    display: inline-flex;
    align-items: center;
    padding: 0.2rem 0.6rem;
    font-size: 0.7rem;
    font-weight: 600;
    border-radius: var(--hlai-radius-sm);
    background: var(--hlai-gray-100);
    color: var(--hlai-gray-600);
    text-transform: uppercase;
    letter-spacing: 0.02em;
}

.hlai-quizgen-wizard .hlai-tag.is-dark {
    background: var(--hlai-gray-700);
    color: white;
}

.hlai-quizgen-wizard .hlai-tag.is-dark.is-light {
    background: var(--hlai-gray-200);
    color: var(--hlai-gray-700);
}

.hlai-quizgen-wizard .hlai-tag.is-primary {
    background: var(--hlai-primary);
    color: white;
}

.hlai-quizgen-wizard .hlai-tag.is-primary.is-light {
    background: rgba(79, 70, 229, 0.1);
    color: var(--hlai-primary);
}

.hlai-quizgen-wizard .hlai-tag.is-success {
    background: var(--hlai-success);
    color: white;
}

.hlai-quizgen-wizard .hlai-tag.is-success.is-light {
    background: rgba(16, 185, 129, 0.1);
    color: #059669;
}

.hlai-quizgen-wizard .hlai-tag.is-warning {
    background: var(--hlai-warning);
    color: white;
}

.hlai-quizgen-wizard .hlai-tag.is-warning.is-light {
    background: rgba(245, 158, 11, 0.1);
    color: #B45309;
}

.hlai-quizgen-wizard .hlai-tag.is-danger {
    background: var(--hlai-danger);
    color: white;
}

.hlai-quizgen-wizard .hlai-tag.is-danger.is-light {
    background: rgba(239, 68, 68, 0.1);
    color: #DC2626;
}

.hlai-quizgen-wizard .hlai-tag.is-info {
    background: var(--hlai-info);
    color: white;
}

.hlai-quizgen-wizard .hlai-tag.is-info.is-light {
    background: rgba(59, 130, 246, 0.1);
    color: var(--hlai-info);
}

/* Notifications in wizard */
.hlai-quizgen-wizard .hlai-notification {
    padding: 1rem 1.25rem;
    border-radius: var(--hlai-radius-md);
    background: var(--hlai-gray-100);
}

.hlai-quizgen-wizard .hlai-notification.is-info {
    background: var(--hlai-info-light);
    color: #1e40af;
}

.hlai-quizgen-wizard .hlai-notification.is-info.is-light {
    background: rgba(59, 130, 246, 0.1);
}

/* File dropzone in wizard */
.hlai-quizgen-wizard .hlai-file-dropzone {
    position: relative;
    border: 2px dashed var(--hlai-gray-300);
    border-radius: var(--hlai-radius-lg);
    padding: 2rem 1.5rem;
    text-align: center;
    background: var(--hlai-gray-50);
    transition: all var(--hlai-transition-normal);
    cursor: pointer;
}

.hlai-quizgen-wizard .hlai-file-dropzone:hover {
    border-color: var(--hlai-primary);
    background: rgba(79, 70, 229, 0.05);
}

.hlai-quizgen-wizard .hlai-file-dropzone .dropzone-icon {
    font-size: 2.5rem;
    color: var(--hlai-gray-400);
    margin-bottom: 0.75rem;
    display: block;
}

.hlai-quizgen-wizard .hlai-file-dropzone .dropzone-text {
    font-size: 1rem;
    color: var(--hlai-gray-600);
    margin: 0;
}

/* Grid in wizard */
.hlai-quizgen-wizard .hlai-columns {
    display: flex;
    flex-wrap: wrap;
    margin: -0.75rem;
}

.hlai-quizgen-wizard .hlai-columns.is-multiline {
    flex-wrap: wrap;
}

.hlai-quizgen-wizard .hlai-column {
    flex: 1;
    padding: 0.75rem;
    min-width: 0;
}

.hlai-quizgen-wizard .hlai-column.is-4 {
    flex: 0 0 33.333%;
    max-width: 33.333%;
}

/* Radio Card styles */
.hlai-quizgen-wizard .hlai-radio-card {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    background: var(--hlai-gray-50);
    border: 2px solid var(--hlai-gray-200);
    border-radius: var(--hlai-radius-md);
    cursor: pointer;
    transition: all var(--hlai-transition-fast);
}

.hlai-quizgen-wizard .hlai-radio-card:hover {
    background: var(--hlai-gray-100);
    border-color: var(--hlai-gray-300);
}

.hlai-quizgen-wizard .hlai-radio-card:has(input[type="radio"]:checked) {
    background: linear-gradient(135deg, rgba(79, 70, 229, 0.05), rgba(129, 140, 248, 0.1));
    border-color: var(--hlai-primary);
}

.hlai-quizgen-wizard .hlai-radio-card input[type="radio"] {
    margin-top: 0.25rem;
    accent-color: var(--hlai-primary);
    width: 18px;
    height: 18px;
}

/* Radio group horizontal layout */
.hlai-quizgen-wizard .hlai-radio-group {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
}

/* Slider styles - Soft modern design */
.hlai-quizgen-wizard .hlai-slider,
.hlai-quizgen-wizard input[type="range"].hlai-slider {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 6px;
    background: var(--hlai-gray-200);
    border-radius: var(--hlai-radius-full);
    outline: none;
    cursor: pointer;
}

.hlai-quizgen-wizard .hlai-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 22px;
    height: 22px;
    background: white;
    border: 3px solid var(--hlai-primary);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all var(--hlai-transition-fast);
}

.hlai-quizgen-wizard .hlai-slider::-webkit-slider-thumb:hover {
    transform: scale(1.1);
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.2);
}

.hlai-quizgen-wizard .hlai-slider::-webkit-slider-thumb:active {
    transform: scale(0.95);
}

.hlai-quizgen-wizard .hlai-slider::-moz-range-thumb {
    width: 22px;
    height: 22px;
    background: white;
    border: 3px solid var(--hlai-primary);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* Bloom's level styling */
.hlai-quizgen-wizard .hlai-blooms-level {
    padding: 0.875rem 0;
    border-bottom: 1px solid var(--hlai-gray-100);
}

.hlai-quizgen-wizard .hlai-blooms-level:last-of-type {
    border-bottom: none;
    padding-bottom: 0;
}

/* Bloom's level header */
.hlai-quizgen-wizard .hlai-blooms-level .level-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wizard .hlai-blooms-level .level-name {
    font-weight: 600;
    color: var(--hlai-gray-800);
}

.hlai-quizgen-wizard .hlai-blooms-level .level-description {
    font-size: 0.85rem;
    color: var(--hlai-gray-500);
    margin-left: 0.5rem;
}

.hlai-quizgen-wizard .hlai-blooms-level .level-percentage {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 48px;
    padding: 0.35rem 0.75rem;
    border-radius: var(--hlai-radius-full);
    font-size: 0.8rem;
    font-weight: 600;
}

.hlai-quizgen-wizard .hlai-blooms-level .level-percentage.is-success {
    background: var(--hlai-success);
    color: white;
}

.hlai-quizgen-wizard .hlai-blooms-level .level-percentage.is-primary {
    background: var(--hlai-primary);
    color: white;
}

/* Bloom's taxonomy colored percentage pills */
.hlai-quizgen-wizard .hlai-blooms-level .level-percentage.is-remember {
    background: linear-gradient(135deg, #34C88A, #2ECC71);
    color: white;
}

.hlai-quizgen-wizard .hlai-blooms-level .level-percentage.is-understand {
    background: linear-gradient(135deg, #3498DB, #5DADE2);
    color: white;
}

.hlai-quizgen-wizard .hlai-blooms-level .level-percentage.is-apply {
    background: linear-gradient(135deg, #9B59B6, #BB8FCE);
    color: white;
}

.hlai-quizgen-wizard .hlai-blooms-level .level-percentage.is-analyze {
    background: linear-gradient(135deg, #F39C12, #F5B041);
    color: white;
}

.hlai-quizgen-wizard .hlai-blooms-level .level-percentage.is-evaluate {
    background: linear-gradient(135deg, #E74C3C, #EC7063);
    color: white;
}

.hlai-quizgen-wizard .hlai-blooms-level .level-percentage.is-create {
    background: linear-gradient(135deg, #C0392B, #D35400);
    color: white;
}

/* ==========================================================================
   GENERATING/LOADING OVERLAY - Soft modern style
   NOTE: The 'display' property is controlled via inline style and JavaScript.
   When shown, JS sets display:flex. CSS only provides flex properties.
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-generating-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(4px);
    /* display: flex - set by JS when overlay is shown */
    align-items: center;
    justify-content: center;
    z-index: 9999;
}

.hlai-quizgen-wrapper .hlai-generating-modal {
    background: white;
    border-radius: var(--hlai-radius-xl);
    padding: 3rem 4rem;
    text-align: center;
    box-shadow: var(--hlai-shadow-lg);
    max-width: 500px;
    width: 90%;
    animation: hlai-modal-in 0.25s ease-out;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.hlai-quizgen-wrapper .hlai-generating-modal .loader {
    width: 4rem;
    height: 4rem;
    border: 4px solid var(--hlai-gray-200);
    border-top-color: var(--hlai-primary) !important;
    border-radius: 50%;
    animation: hlai-spin 1s linear infinite;
    margin-bottom: 1.5rem;
    display: block;
}

/* hlai-spin keyframes already defined above */

.hlai-quizgen-wrapper .hlai-generating-modal .generating-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--hlai-gray-800);
    margin-bottom: 0.75rem;
    width: 100%;
    margin-top: 0;
}

.hlai-quizgen-wrapper .hlai-generating-modal .generating-subtitle {
    font-size: 1rem;
    color: var(--hlai-gray-600);
    margin-bottom: 1rem;
    line-height: 1.5;
}

.hlai-quizgen-wrapper .hlai-generating-modal .generating-warning {
    font-size: 0.9rem;
    color: var(--hlai-warning);
    font-weight: 500;
    margin-top: 0.5rem;
}

/* Checkbox styling */
.hlai-quizgen-wizard .hlai-checkbox {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
}

.hlai-quizgen-wizard .hlai-checkbox input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--hlai-primary);
    cursor: pointer;
}

/* Question type grid */
.hlai-quizgen-wizard .hlai-question-type-grid {
    background: var(--hlai-gray-50);
    border-radius: var(--hlai-radius-md);
    padding: 1rem;
}

.hlai-quizgen-wizard .hlai-question-type-grid > div {
    padding: 0.75rem 0;
}

.hlai-quizgen-wizard .hlai-question-type-grid > div:not(:last-child) {
    border-bottom: 1px solid var(--hlai-gray-200);
}

/* Answer list in Step 4 */
.hlai-quizgen-wizard .hlai-answer-list li {
    transition: all var(--hlai-transition-fast);
}

/* Loader animation - uses hlai-spin keyframes defined above */

.hlai-quizgen-wrapper .hlai-loader {
    width: 2rem;
    height: 2rem;
    border: 3px solid var(--hlai-gray-200);
    border-top-color: var(--hlai-primary);
    border-radius: 50%;
    animation: hlai-spin 1s linear infinite;
    display: inline-block;
}

.hlai-quizgen-wrapper .hlai-loader.is-small {
    width: 1rem;
    height: 1rem;
    border-width: 2px;
}

/* Buttons group */
.hlai-quizgen-wizard .hlai-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.hlai-quizgen-wizard .hlai-buttons.are-small .hlai-button {
    font-size: 0.875rem;
    padding: 0.375rem 0.75rem;
}

/* Select wrapper */
.hlai-quizgen-wizard .hlai-select {
    display: inline-block;
    position: relative;
}

.hlai-quizgen-wizard .hlai-select.is-small select {
    font-size: 0.875rem;
    padding: 0.25rem 0.5rem;
}

/* Field addons */
.hlai-quizgen-wizard .hlai-field.has-addons {
    display: flex;
    align-items: stretch;
}

.hlai-quizgen-wizard .hlai-field.has-addons .hlai-control {
    margin-right: -1px;
}

.hlai-quizgen-wizard .hlai-field.has-addons .hlai-control.is-expanded {
    flex-grow: 1;
}

.hlai-quizgen-wizard .hlai-field.has-addons .hlai-input,
.hlai-quizgen-wizard .hlai-field.has-addons .hlai-button {
    border-radius: 0;
}

.hlai-quizgen-wizard .hlai-field.has-addons .hlai-control:first-child .hlai-input,
.hlai-quizgen-wizard .hlai-field.has-addons .hlai-control:first-child .hlai-button {
    border-top-left-radius: var(--hlai-radius-md);
    border-bottom-left-radius: var(--hlai-radius-md);
}

.hlai-quizgen-wizard .hlai-field.has-addons .hlai-control:last-child .hlai-input,
.hlai-quizgen-wizard .hlai-field.has-addons .hlai-control:last-child .hlai-button {
    border-top-right-radius: var(--hlai-radius-md);
    border-bottom-right-radius: var(--hlai-radius-md);
}

/* ==========================================================================
   STEP 4: STATS BAR (Clean, Minimal)
   ========================================================================== */

.hlai-quizgen-wizard .hlai-stats-bar {
    display: flex;
    gap: 1px;
    background: var(--hlai-gray-200);
    border-radius: var(--hlai-radius-lg);
    overflow: hidden;
}

.hlai-quizgen-wizard .hlai-stat-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1.25rem 1rem;
    background: white;
}

/* Questions review container */
.hlai-quizgen-wizard .questions-review {
    margin-top: 1.5rem;
}

.hlai-quizgen-wizard .hlai-stat-item.is-success {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.08), rgba(16, 185, 129, 0.02));
}

.hlai-quizgen-wizard .hlai-stat-item.is-warning {
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.08), rgba(245, 158, 11, 0.02));
}

.hlai-quizgen-wizard .hlai-stat-item.is-danger {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.08), rgba(239, 68, 68, 0.02));
}

.hlai-quizgen-wizard .hlai-stat-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--hlai-gray-800);
    line-height: 1;
}

.hlai-quizgen-wizard .hlai-stat-item.is-success .hlai-stat-value {
    color: var(--hlai-success);
}

.hlai-quizgen-wizard .hlai-stat-item.is-warning .hlai-stat-value {
    color: var(--hlai-warning);
}

.hlai-quizgen-wizard .hlai-stat-item.is-danger .hlai-stat-value {
    color: var(--hlai-danger);
}

.hlai-quizgen-wizard .hlai-stat-label {
    font-size: 0.75rem;
    color: var(--hlai-gray-500);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-top: 0.25rem;
}

/* ==========================================================================
   STEP 4: TOOLBAR (Clean, Aligned)
   ========================================================================== */

.hlai-quizgen-wizard .hlai-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    padding: 0.75rem 1rem;
    background: var(--hlai-gray-50);
    border: 1px solid var(--hlai-gray-200);
    border-radius: var(--hlai-radius-lg);
}

.hlai-quizgen-wizard .hlai-toolbar-left,
.hlai-quizgen-wizard .hlai-toolbar-right {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.hlai-quizgen-wizard .hlai-checkbox-inline {
    display: flex;
    align-items: center;
    cursor: pointer;
    font-size: 0.875rem;
    color: var(--hlai-gray-700);
    user-select: none;
}

.hlai-quizgen-wizard .hlai-checkbox-inline input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: var(--hlai-primary);
    cursor: pointer;
}

.hlai-quizgen-wizard .hlai-select-inline {
    padding: 0.5rem 2rem 0.5rem 0.75rem;
    font-size: 0.875rem;
    border: 1px solid var(--hlai-gray-300);
    border-radius: var(--hlai-radius-md);
    background: white url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 8L1 3h10z'/%3E%3C/svg%3E") no-repeat right 0.5rem center;
    appearance: none;
    cursor: pointer;
    min-width: 120px;
    transition: border-color 0.15s, box-shadow 0.15s;
}

.hlai-quizgen-wizard .hlai-select-inline:hover {
    border-color: var(--hlai-gray-400);
}

.hlai-quizgen-wizard .hlai-select-inline:focus {
    outline: none;
    border-color: var(--hlai-primary);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

/* ==========================================================================
   STEP 4: QUESTION CARDS (Clean, Minimal)
   ========================================================================== */

.hlai-quizgen-wizard .hlai-question-card {
    background: white;
    border: 1px solid var(--hlai-gray-200);
    border-radius: var(--hlai-radius-lg);
    margin-bottom: 1rem;
    overflow: hidden;
    transition: box-shadow 0.2s, border-color 0.2s;
}

.hlai-quizgen-wizard .hlai-question-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.hlai-quizgen-wizard .hlai-question-card.is-approved {
    border-left: 4px solid var(--hlai-success);
}

.hlai-quizgen-wizard .hlai-question-card.is-rejected {
    border-left: 4px solid var(--hlai-danger);
    opacity: 0.65;
}

.hlai-quizgen-wizard .hlai-question-card.is-pending {
    border-left: 4px solid var(--hlai-warning);
}

.hlai-quizgen-wizard .hlai-question-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: var(--hlai-gray-50);
    border-bottom: 1px solid var(--hlai-gray-100);
}

.hlai-quizgen-wizard .hlai-checkbox-input {
    width: 16px;
    height: 16px;
    accent-color: var(--hlai-primary);
    cursor: pointer;
    flex-shrink: 0;
}

.hlai-quizgen-wizard .hlai-question-number {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--hlai-gray-400);
    min-width: 28px;
}

.hlai-quizgen-wizard .hlai-question-meta {
    display: flex;
    gap: 0.5rem;
    flex: 1;
}

.hlai-quizgen-wizard .hlai-question-body {
    padding: 1.25rem;
}

.hlai-quizgen-wizard .hlai-question-text {
    font-size: 1rem;
    line-height: 1.6;
    color: var(--hlai-gray-800);
    margin: 0 0 1rem 0;
}

/* Cleaner Answer List */
.hlai-quizgen-wizard .hlai-answer-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.hlai-quizgen-wizard .hlai-answer-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: var(--hlai-gray-50);
    border-radius: var(--hlai-radius-md);
    border: 1px solid transparent;
    transition: all 0.15s;
}

.hlai-quizgen-wizard .hlai-answer-item.is-correct {
    background: rgba(16, 185, 129, 0.08);
    border-color: rgba(16, 185, 129, 0.3);
}

.hlai-quizgen-wizard .hlai-answer-marker {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: white;
    border: 2px solid var(--hlai-gray-300);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: 700;
    color: var(--hlai-gray-500);
    flex-shrink: 0;
}

.hlai-quizgen-wizard .hlai-answer-item.is-correct .hlai-answer-marker {
    background: var(--hlai-success);
    border-color: var(--hlai-success);
    color: white;
}

.hlai-quizgen-wizard .hlai-answer-text {
    flex: 1;
    font-size: 0.925rem;
    color: var(--hlai-gray-700);
    line-height: 1.5;
}

/* Question Footer with Actions */
.hlai-quizgen-wizard .hlai-question-footer {
    display: flex;
    justify-content: flex-end;
    padding: 0.75rem 1rem;
    border-top: 1px solid var(--hlai-gray-100);
    background: var(--hlai-gray-50);
}

.hlai-quizgen-wizard .hlai-action-buttons {
    display: flex;
    gap: 0.5rem;
}

.hlai-quizgen-wizard .hlai-action-btn {
    display: inline-flex;
    align-items: center;
    padding: 0.4rem 0.875rem;
    font-size: 0.8rem;
    font-weight: 500;
    border-radius: var(--hlai-radius-md);
    text-decoration: none;
    transition: all 0.15s;
    border: 1px solid transparent;
}

.hlai-quizgen-wizard .hlai-action-btn.is-success {
    color: var(--hlai-success);
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.2);
}

.hlai-quizgen-wizard .hlai-action-btn.is-success:hover {
    background: var(--hlai-success);
    color: white;
}

.hlai-quizgen-wizard .hlai-action-btn.is-danger {
    color: var(--hlai-danger);
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.2);
}

.hlai-quizgen-wizard .hlai-action-btn.is-danger:hover {
    background: var(--hlai-danger);
    color: white;
}

.hlai-quizgen-wizard .hlai-action-btn.is-info {
    color: var(--hlai-info);
    background: rgba(59, 130, 246, 0.1);
    border-color: rgba(59, 130, 246, 0.2);
}

.hlai-quizgen-wizard .hlai-action-btn.is-info:hover {
    background: var(--hlai-info);
    color: white;
}

/* Responsive wizard */
@media (max-width: 768px) {
    .hlai-quizgen-wizard .hlai-column.is-4 {
        flex: 0 0 100%;
        max-width: 100%;
    }
    
    .hlai-quizgen-wizard .hlai-steps {
        flex-wrap: wrap;
        gap: 1rem;
    }
    
    .hlai-quizgen-wizard .hlai-steps::before {
        display: none;
    }

    .hlai-quizgen-wizard .hlai-steps::after {
        display: none;
    }
    
    .hlai-quizgen-wizard .hlai-radio-group {
        flex-direction: column;
    }
    
    .hlai-quizgen-wizard .hlai-buttons {
        flex-direction: column;
    }
    
    .hlai-quizgen-wizard .hlai-stats-bar {
        flex-direction: column;
        gap: 0;
    }
    
    .hlai-quizgen-wizard .hlai-stat-item {
        flex-direction: row;
        justify-content: space-between;
        border-bottom: 1px solid var(--hlai-gray-100);
    }
    
    .hlai-quizgen-wizard .hlai-stat-item:last-child {
        border-bottom: none;
    }
    
    .hlai-quizgen-wizard .hlai-toolbar {
        flex-direction: column;
        align-items: stretch;
    }
    
    .hlai-quizgen-wizard .hlai-toolbar-left,
    .hlai-quizgen-wizard .hlai-toolbar-right {
        justify-content: center;
    }
    
    .hlai-quizgen-wizard .hlai-question-header {
        flex-wrap: wrap;
    }
    
    .hlai-quizgen-wizard .hlai-question-footer {
        justify-content: center;
    }

    /* Navigation buttons stay horizontal but shrink on mobile */
    .hlai-quizgen-wizard .level.mt-5,
    .hlai-quizgen-wizard .level.mt-6 {
        flex-wrap: nowrap !important;
        gap: 0.75rem !important;
    }

    .hlai-quizgen-wizard .level .button {
        padding: 0.5rem 1rem;
        font-size: 0.85rem;
    }

    /* Step 4 stat boxes stack on mobile */
    .hlai-quizgen-wizard .columns.is-mobile > .column.is-3-desktop {
        flex: 0 0 50% !important;
        max-width: 50% !important;
    }
}
/* ==========================================================================
   CARD COMPONENT (Standard Bulma Implementation with Iksha Style)
   ========================================================================== */

.hlai-quizgen-wrapper .card {
    background-color: white;
    box-shadow: var(--hlai-shadow-card);
    border: 1px solid var(--hlai-gray-200);
    border-radius: var(--hlai-radius-lg);
    max-width: 100%;
    position: relative;
    margin-bottom: 2rem;
}

.hlai-quizgen-wrapper .card-header {
    background-color: transparent;
    align-items: stretch;
    box-shadow: 0 1px 0 var(--hlai-gray-100);
    display: flex;
    padding: 0;
}

.hlai-quizgen-wrapper .card-header .card-header-title {
    align-items: center;
    color: var(--hlai-gray-800);
    display: flex;
    flex-grow: 1;
    font-weight: 700;
    padding: 0.75rem 1rem;
    font-size: 1rem;
}

.hlai-quizgen-wrapper .card-header .card-header-icon {
    align-items: center;
    cursor: pointer;
    display: flex;
    justify-content: center;
    padding: 0.75rem 1rem;
}

.hlai-quizgen-wrapper .card-content {
    background-color: transparent;
    padding: 1.25rem 1.25rem 0.5rem 1.25rem;
}

.hlai-quizgen-wrapper .card-footer {
    background-color: transparent;
    border-top: 1px solid var(--hlai-gray-100);
    align-items: stretch;
    display: flex;
    margin-top: 0.5rem;
}

.hlai-quizgen-wrapper .card-footer-item {
    align-items: center;
    cursor: pointer;
    display: flex;
    flex-basis: 0;
    flex-grow: 1;
    flex-shrink: 0;
    justify-content: center;
    padding: 0.75rem;
    border-right: 1px solid var(--hlai-gray-100);
    color: var(--hlai-gray-500);
    font-weight: 500;
    transition: background-color var(--hlai-transition-fast);
}

.hlai-quizgen-wrapper .card-footer-item:last-child {
    border-right: none;
}

.hlai-quizgen-wrapper .card-footer-item:hover {
    background-color: var(--hlai-gray-50);
    color: var(--hlai-gray-800);
}

.hlai-quizgen-wrapper .card.is-shadowless {
    box-shadow: none !important;
}

/* Specific overrides for cleaner quiz look */
.hlai-quizgen-wrapper .card-content .content p {
    margin-bottom: 0.75rem;
}

.hlai-quizgen-wrapper .card-content .content {
    margin-bottom: 0;
}


/* Question Card - Compact header and content spacing */
.hlai-quizgen-wrapper .question-card .card-header,
.hlai-quizgen-wizard .question-card .card-header {
    padding: 0.5rem 0.75rem;
    min-height: auto;
}

.hlai-quizgen-wrapper .question-card .card-header-title,
.hlai-quizgen-wizard .question-card .card-header-title {
    padding: 0.25rem 0.5rem;
}

.hlai-quizgen-wrapper .question-card .card-header-icon,
.hlai-quizgen-wizard .question-card .card-header-icon {
    padding: 0.25rem 0.5rem;
}

.hlai-quizgen-wrapper .question-card .card-content,
.hlai-quizgen-wizard .question-card .card-content {
    padding: 0.75rem 1.25rem 0.5rem 1.25rem;
}

.hlai-quizgen-wrapper .question-card .card-content .content p:first-child,
.hlai-quizgen-wizard .question-card .card-content .content p:first-child {
    margin-top: 0;
}

/* Question Card Actions - Turn footer items into buttons */
.hlai-quizgen-wrapper .question-card .card-footer,
.hlai-quizgen-wizard .question-card .card-footer {
    border-top: none;
    padding: 0 1.25rem 1.25rem 1.25rem;
    gap: 1rem;
    background: transparent;
}

.hlai-quizgen-wrapper .question-card .card-footer-item,
.hlai-quizgen-wizard .question-card .card-footer-item {
    border: 1px solid transparent;
    border-radius: var(--hlai-radius-md);
    font-weight: 600;
    transition: all 0.2s ease;
    text-decoration: none !important; /* Force remove underline */
    flex-grow: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0.5rem 1rem;
    height: auto;
}

/* Hover fixes - remove underline explicitly */
.hlai-quizgen-wrapper .question-card .card-footer-item:hover,
.hlai-quizgen-wizard .question-card .card-footer-item:hover {
    text-decoration: none !important;
}

/* Approve Button */
.hlai-quizgen-wrapper .question-card .card-footer-item.has-text-success,
.hlai-quizgen-wizard .question-card .card-footer-item.has-text-success {
    background-color: var(--hlai-success-light);
    color: #107c41 !important; /* Darker green for text */
    border: 1px solid rgba(16, 124, 65, 0.1);
}

.hlai-quizgen-wrapper .question-card .card-footer-item.has-text-success:hover,
.hlai-quizgen-wizard .question-card .card-footer-item.has-text-success:hover {
    background-color: #d1e7dd;
    border-color: rgba(16, 124, 65, 0.2);
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(16, 124, 65, 0.1);
}

/* Reject Button */
.hlai-quizgen-wrapper .question-card .card-footer-item.has-text-danger,
.hlai-quizgen-wizard .question-card .card-footer-item.has-text-danger {
    background-color: var(--hlai-danger-light);
    color: #c50f1f !important; /* Darker red */
    border: 1px solid rgba(197, 15, 31, 0.1);
}

.hlai-quizgen-wrapper .question-card .card-footer-item.has-text-danger:hover,
.hlai-quizgen-wizard .question-card .card-footer-item.has-text-danger:hover {
    background-color: #f8d7da;
    border-color: rgba(197, 15, 31, 0.2);
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(197, 15, 31, 0.1);
}

/* Regenerate Button */
.hlai-quizgen-wrapper .question-card .card-footer-item.has-text-info,
.hlai-quizgen-wizard .question-card .card-footer-item.has-text-info {
    background-color: var(--hlai-info-light);
    color: #0078d4 !important; /* Darker blue */
    border: 1px solid rgba(0, 120, 212, 0.1);
}

.hlai-quizgen-wrapper .question-card .card-footer-item.has-text-info:hover,
.hlai-quizgen-wizard .question-card .card-footer-item.has-text-info:hover {
    background-color: #c7e0f4;
    border-color: rgba(0, 120, 212, 0.2);
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 120, 212, 0.1);
}

/* Approved State (Text) */
.hlai-quizgen-wrapper .question-card .card-footer-item.has-text-grey-light,
.hlai-quizgen-wizard .question-card .card-footer-item.has-text-grey-light {
    background-color: transparent;
    cursor: default;
    border: 1px dashed var(--hlai-gray-300);
}


/* ==========================================================================
   WIZARD STEP CONTENT WRAPPER - Override old styles.css box styling
   ========================================================================== */

/* Remove the old white box styling from wizard-step-content */
.hlai-quizgen-wizard .wizard-step-content,
.hlai-quizgen-wrapper .wizard-step-content {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    min-height: auto !important;
}

/* ==========================================================================
   STEP CONTENT CONTAINER - Shared across all steps
   ========================================================================== */

.hlai-quizgen-wrapper .hlai-step-content,
.hlai-quizgen-wizard .hlai-step-content {
    width: 100%;
    background: white;
    border-radius: var(--hlai-radius-lg);
    box-shadow: var(--hlai-shadow-card);
    padding: 2rem;
}

/* Page title - consistent across steps */
.hlai-quizgen-wrapper .hlai-step-content > .title.is-4,
.hlai-quizgen-wizard .hlai-step-content > .title.is-4,
.hlai-quizgen-wrapper .hlai-step-content .title.is-4,
.hlai-quizgen-wizard .hlai-step-content .title.is-4 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--hlai-gray-900);
    margin-bottom: 0.25rem !important;
}

.hlai-quizgen-wrapper .hlai-step-content > .subtitle.is-6,
.hlai-quizgen-wizard .hlai-step-content > .subtitle.is-6 {
    font-size: 0.95rem;
    color: var(--hlai-gray-500);
}

/* Divider line after title */
.hlai-quizgen-wrapper .hlai-step-content > hr,
.hlai-quizgen-wizard .hlai-step-content > hr {
    background-color: var(--hlai-gray-200);
    height: 1px;
    border: none;
}

/* ==========================================================================
   STEP 3: QUESTION PARAMETERS - FLAT CLEAN DESIGN (No nested boxes)
   ========================================================================== */

/* Question config container */
.hlai-quizgen-wrapper .question-config,
.hlai-quizgen-wizard .question-config {
    width: 100%;
}

/* REMOVE all card/box styling from sections - make them FLAT */
.hlai-quizgen-wrapper .question-config > .field,
.hlai-quizgen-wizard .question-config > .field {
    background: transparent !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin-bottom: 2rem !important;
    box-shadow: none !important;
}

.hlai-quizgen-wrapper .question-config > .field:hover,
.hlai-quizgen-wizard .question-config > .field:hover {
    box-shadow: none !important;
}

/* Section headings - larger, bolder */
.hlai-quizgen-wrapper .question-config .label,
.hlai-quizgen-wizard .question-config .label {
    font-size: 1.1rem !important;
    font-weight: 700 !important;
    color: var(--hlai-gray-900) !important;
    margin-bottom: 0.5rem !important;
}

/* Help text */
.hlai-quizgen-wrapper .question-config .help,
.hlai-quizgen-wizard .question-config .help {
    color: var(--hlai-gray-500) !important;
    font-size: 0.9rem !important;
    margin-bottom: 1rem !important;
}

/* Topics notification banner - clean info style */
.hlai-quizgen-wrapper .notification.is-info.is-light,
.hlai-quizgen-wizard .notification.is-info.is-light {
    background: #f0f9ff !important;
    border: none !important;
    border-left: 4px solid var(--hlai-primary) !important;
    border-radius: 0 8px 8px 0 !important;
    padding: 1rem 1.25rem !important;
    font-size: 0.9rem !important;
    color: var(--hlai-gray-700) !important;
    margin-bottom: 2rem !important;
}

.hlai-quizgen-wrapper .notification.is-info.is-light strong,
.hlai-quizgen-wizard .notification.is-info.is-light strong {
    color: var(--hlai-primary) !important;
    font-weight: 600 !important;
}

/* Total questions input - clean neutral style */
.hlai-quizgen-wrapper #total-questions,
.hlai-quizgen-wizard #total-questions {
    font-size: 1.75rem !important;
    font-weight: 700 !important;
    text-align: center !important;
    width: 100% !important;
    padding: 0.5rem !important;
    border: 2px solid var(--hlai-gray-200) !important;
    border-radius: var(--hlai-radius-md) !important;
    background: white !important;
    color: var(--hlai-gray-800) !important;
    transition: border-color 0.2s !important;
}

.hlai-quizgen-wrapper #total-questions:focus,
.hlai-quizgen-wizard #total-questions:focus {
    border-color: var(--hlai-gray-400) !important;
    outline: none !important;
}

/* Question type rows - clean list like Step 4 toolbar */
.hlai-quizgen-wrapper .question-config .level.mb-3,
.hlai-quizgen-wizard .question-config .level.mb-3 {
    background: transparent !important;
    border: none !important;
    border-bottom: 1px solid var(--hlai-gray-100) !important;
    border-radius: 0 !important;
    padding: 0.875rem 0 !important;
    margin-bottom: 0 !important;
}

.hlai-quizgen-wrapper .question-config .level.mb-3:last-of-type,
.hlai-quizgen-wizard .question-config .level.mb-3:last-of-type {
    border-bottom: none !important;
    padding-bottom: 0 !important;
}

/* Question type labels */
.hlai-quizgen-wrapper .question-config .level-left span,
.hlai-quizgen-wizard .question-config .level-left span {
    font-weight: 500 !important;
    color: var(--hlai-gray-700) !important;
    font-size: 0.95rem !important;
}

/* Question type inputs - matches Step 4 select styling */
.hlai-quizgen-wrapper .qtype-count,
.hlai-quizgen-wizard .qtype-count {
    width: 70px !important;
    text-align: center !important;
    font-weight: 600 !important;
    font-size: 0.95rem !important;
    border: 1px solid var(--hlai-gray-300) !important;
    border-radius: var(--hlai-radius-md) !important;
    padding: 0.5rem !important;
    background: white !important;
    transition: border-color 0.15s, box-shadow 0.15s !important;
}

.hlai-quizgen-wrapper .qtype-count:hover,
.hlai-quizgen-wizard .qtype-count:hover {
    border-color: var(--hlai-gray-400) !important;
}

.hlai-quizgen-wrapper .qtype-count:focus,
.hlai-quizgen-wizard .qtype-count:focus {
    border-color: var(--hlai-primary) !important;
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1) !important;
    outline: none !important;
}

/* Total row - subtle highlight */
.hlai-quizgen-wrapper .question-config .level.pt-3,
.hlai-quizgen-wizard .question-config .level.pt-3 {
    background: var(--hlai-gray-50) !important;
    padding: 0.875rem 1rem !important;
    border-radius: var(--hlai-radius-md) !important;
    margin-top: 0.75rem !important;
    border-top: none !important;
}

/* Total tags */
.hlai-quizgen-wrapper #qtype-total,
.hlai-quizgen-wizard #qtype-total {
    background: var(--hlai-primary) !important;
    color: white !important;
    font-weight: 600 !important;
    border-radius: 4px !important;
    padding: 0.3rem 0.6rem !important;
    font-size: 0.9rem !important;
}

/* Difficulty toggle buttons - matches Step 4 button styling */
.hlai-quizgen-wrapper .question-config .buttons,
.hlai-quizgen-wizard .question-config .buttons {
    display: flex !important;
    gap: 0.5rem !important;
    flex-wrap: wrap !important;
    margin-top: 0.25rem !important;
}

.hlai-quizgen-wrapper .question-config .buttons > .button,
.hlai-quizgen-wizard .question-config .buttons > .button,
.hlai-quizgen-wrapper .question-config .buttons > label.button,
.hlai-quizgen-wizard .question-config .buttons > label.button {
    border-radius: var(--hlai-radius-md) !important;
    padding: 0.5rem 1rem !important;
    font-size: 0.875rem !important;
    font-weight: 500 !important;
    border: 1px solid var(--hlai-gray-300) !important;
    background: white !important;
    color: var(--hlai-gray-600) !important;
    cursor: pointer !important;
    transition: border-color 0.15s, background 0.15s, color 0.15s !important;
}

.hlai-quizgen-wrapper .question-config .buttons > .button:hover,
.hlai-quizgen-wizard .question-config .buttons > .button:hover,
.hlai-quizgen-wrapper .question-config .buttons > label.button:hover,
.hlai-quizgen-wizard .question-config .buttons > label.button:hover {
    border-color: var(--hlai-primary) !important;
    color: var(--hlai-primary) !important;
    background: rgba(79, 70, 229, 0.04) !important;
}

.hlai-quizgen-wrapper .question-config .buttons > .button.is-primary,
.hlai-quizgen-wizard .question-config .buttons > .button.is-primary,
.hlai-quizgen-wrapper .question-config .buttons > label.button.is-primary,
.hlai-quizgen-wizard .question-config .buttons > label.button.is-primary {
    background: var(--hlai-primary) !important;
    border-color: var(--hlai-primary) !important;
    color: white !important;
}

/* Custom distribution panel */
.hlai-quizgen-wrapper #custom-distribution,
.hlai-quizgen-wizard #custom-distribution {
    background: var(--hlai-gray-50) !important;
    border: 1px solid var(--hlai-gray-200) !important;
    border-radius: var(--hlai-radius-lg) !important;
    padding: 1.25rem !important;
    margin-top: 1rem !important;
    margin-left: 0 !important;
}

.hlai-quizgen-wrapper #custom-distribution .label.is-small,
.hlai-quizgen-wizard #custom-distribution .label.is-small {
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    color: var(--hlai-gray-700) !important;
    margin-bottom: 0.75rem !important;
}

.hlai-quizgen-wrapper #custom-distribution .input,
.hlai-quizgen-wizard #custom-distribution .input {
    border-radius: var(--hlai-radius-md) !important;
    border: 1px solid var(--hlai-gray-300) !important;
    text-align: center !important;
    font-weight: 600 !important;
}

/* Bloom's Taxonomy section - FLAT, no card */
.hlai-quizgen-wrapper .question-config .field.mt-5,
.hlai-quizgen-wizard .question-config .field.mt-5 {
    background: transparent !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin-top: 2rem !important;
    box-shadow: none !important;
}

.hlai-quizgen-wrapper .question-config .field.mt-5:hover,
.hlai-quizgen-wizard .question-config .field.mt-5:hover {
    box-shadow: none !important;
}

/* Bloom's sliders - modern track */
.hlai-quizgen-wrapper .question-config input[type='range'],
.hlai-quizgen-wizard .question-config input[type='range'] {
    -webkit-appearance: none !important;
    width: 100% !important;
    height: 6px !important;
    background: var(--hlai-gray-200) !important;
    border-radius: 3px !important;
    cursor: pointer !important;
    margin: 0.5rem 0 !important;
}

.hlai-quizgen-wrapper .question-config input[type='range']::-webkit-slider-thumb,
.hlai-quizgen-wizard .question-config input[type='range']::-webkit-slider-thumb {
    -webkit-appearance: none !important;
    width: 18px !important;
    height: 18px !important;
    background: var(--hlai-primary) !important;
    border-radius: 50% !important;
    cursor: pointer !important;
    box-shadow: 0 2px 6px rgba(79, 70, 229, 0.3) !important;
    transition: transform 0.15s ease !important;
}

.hlai-quizgen-wrapper .question-config input[type='range']::-webkit-slider-thumb:hover,
.hlai-quizgen-wizard .question-config input[type='range']::-webkit-slider-thumb:hover {
    transform: scale(1.15) !important;
}

.hlai-quizgen-wrapper .question-config input[type='range']::-moz-range-thumb,
.hlai-quizgen-wizard .question-config input[type='range']::-moz-range-thumb {
    width: 18px !important;
    height: 18px !important;
    background: var(--hlai-primary) !important;
    border-radius: 50% !important;
    border: none !important;
    cursor: pointer !important;
    box-shadow: 0 2px 6px rgba(79, 70, 229, 0.3) !important;
}

/* Bloom's level rows - clean dividers */
.hlai-quizgen-wrapper .question-config .mb-4,
.hlai-quizgen-wizard .question-config .mb-4 {
    padding-bottom: 1rem !important;
    border-bottom: 1px solid var(--hlai-gray-100) !important;
    margin-bottom: 1rem !important;
}

.hlai-quizgen-wrapper .question-config .mb-4:last-of-type,
.hlai-quizgen-wizard .question-config .mb-4:last-of-type {
    border-bottom: none !important;
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
}

/* Bloom's level labels */
.hlai-quizgen-wrapper .question-config .mb-4 strong,
.hlai-quizgen-wizard .question-config .mb-4 strong {
    font-weight: 600 !important;
    color: var(--hlai-gray-800) !important;
}

.hlai-quizgen-wrapper .question-config .mb-4 .has-text-grey,
.hlai-quizgen-wizard .question-config .mb-4 .has-text-grey,
.hlai-quizgen-wrapper .question-config .mb-4 .is-size-7,
.hlai-quizgen-wizard .question-config .mb-4 .is-size-7 {
    color: var(--hlai-gray-500) !important;
}

/* Bloom's percentage badges */
.hlai-quizgen-wrapper .question-config .tag.is-primary,
.hlai-quizgen-wizard .question-config .tag.is-primary {
    background: var(--hlai-primary) !important;
    color: white !important;
    font-weight: 600 !important;
    font-size: 0.8rem !important;
    border-radius: 4px !important;
    padding: 0.25rem 0.5rem !important;
    min-width: 45px !important;
    justify-content: center !important;
}

/* Bloom's total section */
.hlai-quizgen-wrapper .question-config .pt-3:not(.level),
.hlai-quizgen-wizard .question-config .pt-3:not(.level) {
    background: var(--hlai-gray-50) !important;
    padding: 0.875rem 1rem !important;
    border-radius: var(--hlai-radius-md) !important;
    margin-top: 0.75rem !important;
    border-top: 1px solid var(--hlai-gray-100) !important;
}

/* Status badges - matches Step 4 */
.hlai-quizgen-wrapper .question-config .tag.is-success,
.hlai-quizgen-wizard .question-config .tag.is-success {
    background: var(--hlai-success) !important;
    color: white !important;
    font-weight: 600 !important;
}

.hlai-quizgen-wrapper .question-config .tag.is-warning,
.hlai-quizgen-wizard .question-config .tag.is-warning {
    background: var(--hlai-warning) !important;
    color: white !important;
    font-weight: 600 !important;
}

.hlai-quizgen-wrapper .question-config .tag.is-danger,
.hlai-quizgen-wizard .question-config .tag.is-danger {
    background: var(--hlai-danger) !important;
    color: white !important;
    font-weight: 600 !important;
}

/* ==========================================================================
   STEP 3: ENHANCED VISUAL DESIGN - Modern & Appealing
   ========================================================================== */

/* Section cards with subtle left accent border */
.hlai-quizgen-wizard .question-config > .field.mb-5 {
    background: white !important;
    border: 1px solid var(--hlai-gray-100) !important;
    border-left: 4px solid var(--hlai-primary) !important;
    border-radius: 0 var(--hlai-radius-lg) var(--hlai-radius-lg) 0 !important;
    padding: 1.5rem !important;
    margin-bottom: 1.5rem !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04) !important;
    transition: box-shadow 0.2s ease, border-color 0.2s ease !important;
}

.hlai-quizgen-wizard .question-config > .field.mb-5:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08) !important;
    border-left-color: var(--hlai-primary-dark) !important;
}

/* Different accent colors for each section */
.hlai-quizgen-wizard .question-config > .field.mb-5:nth-child(1) {
    border-left-color: #2563eb !important; /* Primary - Total Questions */
}

.hlai-quizgen-wizard .question-config > .field.mb-5:nth-child(2) {
    border-left-color: #0ea5e9 !important; /* Sky - Question Types */
}

.hlai-quizgen-wizard .question-config > .field.mb-5:nth-child(3) {
    border-left-color: #ec4899 !important; /* Pink - Difficulty */
}

.hlai-quizgen-wizard .question-config > .field.mt-5 {
    border-left-color: #14b8a6 !important; /* Teal - Bloom's */
    background: white !important;
    border: 1px solid var(--hlai-gray-100) !important;
    border-left: 4px solid #14b8a6 !important;
    border-radius: 0 var(--hlai-radius-lg) var(--hlai-radius-lg) 0 !important;
    padding: 1.5rem !important;
    margin-top: 1.5rem !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04) !important;
}

/* Section labels with icon styling */
.hlai-quizgen-wizard .question-config > .field > .label {
    font-size: 1.1rem !important;
    font-weight: 700 !important;
    color: var(--hlai-gray-800) !important;
    margin-bottom: 0.5rem !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
}

/* Topics banner - modern gradient */
.hlai-quizgen-wizard .notification.is-info.is-light {
    background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%) !important;
    border: none !important;
    border-radius: var(--hlai-radius-lg) !important;
    padding: 1rem 1.25rem !important;
    margin-bottom: 2rem !important;
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.1) !important;
}

.hlai-quizgen-wizard .notification.is-info.is-light strong {
    color: #1d4ed8 !important;
    font-weight: 600 !important;
}

/* Question type rows - sleek list */
.hlai-quizgen-wizard .question-config .level.mb-3 {
    background: transparent !important;
    border: none !important;
    border-bottom: 1px solid var(--hlai-gray-100) !important;
    padding: 1rem 0.5rem !important;
    margin: 0 !important;
    transition: background 0.15s ease !important;
}

.hlai-quizgen-wizard .question-config .level.mb-3:hover {
    background: rgba(37, 99, 235, 0.06) !important;
}

.hlai-quizgen-wizard .question-config .level.mb-3:last-of-type {
    border-bottom: none !important;
}

/* Question type labels - better typography */
.hlai-quizgen-wizard .question-config .level-left .has-text-weight-medium {
    font-weight: 500 !important;
    color: var(--hlai-gray-700) !important;
    font-size: 0.95rem !important;
}

/* Question type number inputs - refined */
.hlai-quizgen-wizard .qtype-count {
    width: 70px !important;
    height: 40px !important;
    text-align: center !important;
    font-weight: 700 !important;
    font-size: 1rem !important;
    border: 2px solid var(--hlai-gray-200) !important;
    border-radius: var(--hlai-radius-md) !important;
    background: var(--hlai-gray-50) !important;
    color: var(--hlai-gray-700) !important;
    transition: all 0.2s ease !important;
}

.hlai-quizgen-wizard .qtype-count:hover {
    border-color: var(--hlai-gray-300) !important;
}

.hlai-quizgen-wizard .qtype-count:focus {
    border-color: var(--hlai-primary) !important;
    background: white !important;
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.12) !important;
    outline: none !important;
}

/* Total row - emphasized footer */
.hlai-quizgen-wizard .question-config .level.pt-3[style*='border-top'] {
    background: linear-gradient(180deg, var(--hlai-gray-50) 0%, var(--hlai-gray-100) 100%) !important;
    margin: 1rem -1.5rem -1.5rem -1.5rem !important;
    padding: 1rem 1.5rem !important;
    border-radius: 0 0 var(--hlai-radius-lg) 0 !important;
    border-top: 1px solid var(--hlai-gray-200) !important;
}

/* Total tag - prominent badge */
.hlai-quizgen-wizard #qtype-total {
    background: linear-gradient(135deg, var(--hlai-primary) 0%, #2563eb 100%) !important;
    color: white !important;
    font-weight: 700 !important;
    font-size: 1rem !important;
    padding: 0.4rem 0.75rem !important;
    border-radius: 6px !important;
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3) !important;
}

/* Difficulty toggle buttons - pill style with glow */
.hlai-quizgen-wizard .question-config .buttons {
    gap: 0.75rem !important;
    flex-wrap: wrap !important;
}

.hlai-quizgen-wizard .question-config .buttons > .button,
.hlai-quizgen-wizard .question-config .buttons > label.button {
    border-radius: 50px !important;
    padding: 0.6rem 1.25rem !important;
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    border: 2px solid var(--hlai-gray-200) !important;
    background: white !important;
    color: var(--hlai-gray-600) !important;
    cursor: pointer !important;
    transition: all 0.25s ease !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04) !important;
}

.hlai-quizgen-wizard .question-config .buttons > .button:hover,
.hlai-quizgen-wizard .question-config .buttons > label.button:hover {
    border-color: var(--hlai-primary) !important;
    color: var(--hlai-primary) !important;
    background: rgba(37, 99, 235, 0.08) !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2) !important;
}

.hlai-quizgen-wizard .question-config .buttons > .button.is-primary,
.hlai-quizgen-wizard .question-config .buttons > label.button.is-primary {
    background: linear-gradient(135deg, var(--hlai-primary) 0%, #2563eb 100%) !important;
    border-color: transparent !important;
    color: white !important;
    box-shadow: 0 4px 14px rgba(37, 99, 235, 0.35) !important;
}

/* Bloom's Taxonomy sliders - modern track with gradient fill */
.hlai-quizgen-wizard .question-config input[type='range'] {
    -webkit-appearance: none !important;
    appearance: none !important;
    width: 100% !important;
    height: 8px !important;
    background: linear-gradient(90deg, var(--hlai-gray-200) 0%, var(--hlai-gray-200) 100%) !important;
    border-radius: 4px !important;
    outline: none !important;
    cursor: pointer !important;
    margin: 0.75rem 0 !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-webkit-slider-thumb {
    -webkit-appearance: none !important;
    width: 22px !important;
    height: 22px !important;
    background: linear-gradient(135deg, var(--hlai-primary) 0%, #2563eb 100%) !important;
    border-radius: 50% !important;
    cursor: pointer !important;
    border: 3px solid white !important;
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.4) !important;
    transition: transform 0.2s ease, box-shadow 0.2s ease !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-webkit-slider-thumb:hover {
    transform: scale(1.15) !important;
    box-shadow: 0 4px 16px rgba(37, 99, 235, 0.5) !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-moz-range-thumb {
    width: 22px !important;
    height: 22px !important;
    background: linear-gradient(135deg, var(--hlai-primary) 0%, #2563eb 100%) !important;
    border-radius: 50% !important;
    border: 3px solid white !important;
    cursor: pointer !important;
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.4) !important;
}

/* Bloom's level rows - clean cards */
.hlai-quizgen-wizard .question-config .mb-4 {
    background: var(--hlai-gray-50) !important;
    padding: 1rem !important;
    border-radius: var(--hlai-radius-md) !important;
    margin-bottom: 0.75rem !important;
    border: 1px solid transparent !important;
    transition: border-color 0.2s ease, background 0.2s ease !important;
}

.hlai-quizgen-wizard .question-config .mb-4:hover {
    border-color: rgba(20, 184, 166, 0.2) !important;
    background: rgba(20, 184, 166, 0.03) !important;
}

.hlai-quizgen-wizard .question-config .mb-4:last-of-type {
    margin-bottom: 0 !important;
}

/* Bloom's level label styling */
.hlai-quizgen-wizard .question-config .mb-4 strong {
    color: var(--hlai-gray-800) !important;
    font-weight: 600 !important;
}

/* Bloom's percentage badges - gradient */
.hlai-quizgen-wizard .question-config .mb-4 .tag.is-primary,
.hlai-quizgen-wizard .question-config .level .tag.is-primary {
    background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%) !important;
    color: white !important;
    font-weight: 700 !important;
    font-size: 0.85rem !important;
    padding: 0.35rem 0.65rem !important;
    border-radius: 6px !important;
    min-width: 50px !important;
    text-align: center !important;
    box-shadow: 0 2px 6px rgba(20, 184, 166, 0.3) !important;
}

/* Bloom's total section - prominent */
.hlai-quizgen-wizard .question-config > .field.mt-5 > .pt-3 {
    background: linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 100%) !important;
    padding: 1rem 1.25rem !important;
    border-radius: var(--hlai-radius-md) !important;
    margin-top: 1rem !important;
    border: 1px solid rgba(20, 184, 166, 0.2) !important;
}

/* Navigation buttons at bottom */
.hlai-quizgen-wizard .question-config ~ .level.mt-5 .button,
.hlai-quizgen-wizard form > .level.mt-5 .button {
    padding: 0.875rem 2rem !important;
    font-weight: 600 !important;
    font-size: 0.95rem !important;
    border-radius: var(--hlai-radius-md) !important;
    transition: all 0.25s ease !important;
}

.hlai-quizgen-wizard .question-config ~ .level.mt-5 .button.is-light,
.hlai-quizgen-wizard form > .level.mt-5 .button.is-light {
    background: var(--hlai-gray-100) !important;
    border: 1px solid var(--hlai-gray-200) !important;
    color: var(--hlai-gray-600) !important;
}

.hlai-quizgen-wizard .question-config ~ .level.mt-5 .button.is-light:hover,
.hlai-quizgen-wizard form > .level.mt-5 .button.is-light:hover {
    background: var(--hlai-gray-200) !important;
    color: var(--hlai-gray-700) !important;
}

.hlai-quizgen-wizard .question-config ~ .level.mt-5 .button.is-primary,
.hlai-quizgen-wizard form > .level.mt-5 .button.is-primary {
    background: linear-gradient(135deg, var(--hlai-primary) 0%, #2563eb 100%) !important;
    border: none !important;
    color: white !important;
    box-shadow: 0 4px 14px rgba(37, 99, 235, 0.35) !important;
}

.hlai-quizgen-wizard .question-config ~ .level.mt-5 .button.is-primary:hover,
.hlai-quizgen-wizard form > .level.mt-5 .button.is-primary:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(37, 99, 235, 0.45) !important;
}


/* ==========================================================================
   STEP 3: ENHANCED DESIGN V2 - More Polished & Appealing
   ========================================================================== */

/* Topics banner - cleaner with icon */
.hlai-quizgen-wizard .notification.is-info.is-light {
    background: white !important;
    border: 1px solid #bfdbfe !important;
    border-left: 4px solid #2563eb !important;
    border-radius: 0 12px 12px 0 !important;
    padding: 1rem 1.5rem !important;
    margin-bottom: 2rem !important;
    box-shadow: none !important;
    font-size: 0.9rem !important;
    line-height: 1.6 !important;
    color: var(--hlai-gray-600) !important;
}

.hlai-quizgen-wizard .notification.is-info.is-light strong {
    color: #1d4ed8 !important;
    font-weight: 700 !important;
    font-size: 0.95rem !important;
}

/* Section cards - cleaner look */
.hlai-quizgen-wizard .question-config > .field.mb-5,
.hlai-quizgen-wizard .question-config > .field.mt-5 {
    background: #fafbfc !important;
    border: 1px solid var(--hlai-gray-100) !important;
    border-left: 4px solid var(--hlai-primary) !important;
    border-radius: 0 16px 16px 0 !important;
    padding: 1.75rem 2rem !important;
    margin-bottom: 1.25rem !important;
    box-shadow: none !important;
}

/* Question type rows - add visual interest */
.hlai-quizgen-wizard .question-config .level.mb-3 {
    background: white !important;
    border: 1px solid var(--hlai-gray-100) !important;
    border-radius: 10px !important;
    padding: 0.875rem 1rem !important;
    margin-bottom: 0.5rem !important;
    transition: all 0.2s ease !important;
}

.hlai-quizgen-wizard .question-config .level.mb-3:hover {
    border-color: var(--hlai-primary) !important;
    background: #fafaff !important;
    transform: translateX(4px) !important;
}

/* Question type labels with emoji indicators */
.hlai-quizgen-wizard .question-config .level-left span {
    font-weight: 500 !important;
    color: var(--hlai-gray-700) !important;
    font-size: 0.925rem !important;
}

/* Question type inputs - cleaner */
.hlai-quizgen-wizard .qtype-count {
    width: 65px !important;
    height: 38px !important;
    text-align: center !important;
    font-weight: 600 !important;
    font-size: 0.95rem !important;
    border: 1px solid var(--hlai-gray-200) !important;
    border-radius: 8px !important;
    background: white !important;
    color: var(--hlai-gray-700) !important;
}

.hlai-quizgen-wizard .qtype-count:focus {
    border-color: var(--hlai-primary) !important;
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1) !important;
}

/* Total row - clean footer */
.hlai-quizgen-wizard .question-config .level.pt-3 {
    background: white !important;
    border: 1px solid var(--hlai-gray-200) !important;
    border-radius: 10px !important;
    padding: 0.875rem 1rem !important;
    margin-top: 0.75rem !important;
}

/* Total badge */
.hlai-quizgen-wizard #qtype-total {
    background: var(--hlai-primary) !important;
    color: white !important;
    font-weight: 700 !important;
    font-size: 0.9rem !important;
    padding: 0.35rem 0.75rem !important;
    border-radius: 6px !important;
    min-width: 35px !important;
    text-align: center !important;
}

/* Difficulty buttons - cleaner pills */
.hlai-quizgen-wizard .question-config .buttons {
    gap: 0.5rem !important;
    margin-top: 0.5rem !important;
}

.hlai-quizgen-wizard .question-config .buttons > .button,
.hlai-quizgen-wizard .question-config .buttons > label.button {
    border-radius: 8px !important;
    padding: 0.5rem 1rem !important;
    font-size: 0.825rem !important;
    font-weight: 500 !important;
    border: 1px solid var(--hlai-gray-200) !important;
    background: white !important;
    color: var(--hlai-gray-600) !important;
    box-shadow: none !important;
    transition: all 0.15s ease !important;
}

.hlai-quizgen-wizard .question-config .buttons > .button:hover,
.hlai-quizgen-wizard .question-config .buttons > label.button:hover {
    border-color: var(--hlai-primary) !important;
    color: var(--hlai-primary) !important;
    background: #fafaff !important;
}

.hlai-quizgen-wizard .question-config .buttons > .button.is-primary,
.hlai-quizgen-wizard .question-config .buttons > label.button.is-primary {
    background: var(--hlai-primary) !important;
    border-color: var(--hlai-primary) !important;
    color: white !important;
}

/* Bloom's level cards - individual cards */
.hlai-quizgen-wizard .question-config .mb-4 {
    background: white !important;
    border: 1px solid var(--hlai-gray-100) !important;
    border-radius: 10px !important;
    padding: 1rem 1.25rem !important;
    margin-bottom: 0.625rem !important;
    transition: all 0.2s ease !important;
}

.hlai-quizgen-wizard .question-config .mb-4:hover {
    border-color: #14b8a6 !important;
    background: #f0fdfa !important;
}

/* Bloom's slider - thinner, cleaner */
.hlai-quizgen-wizard .question-config input[type='range'] {
    height: 6px !important;
    background: var(--hlai-gray-200) !important;
    border-radius: 3px !important;
    margin: 0.5rem 0 !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-webkit-slider-thumb {
    width: 18px !important;
    height: 18px !important;
    background: #14b8a6 !important;
    border: 2px solid white !important;
    box-shadow: 0 1px 4px rgba(20, 184, 166, 0.4) !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-moz-range-thumb {
    width: 18px !important;
    height: 18px !important;
    background: #14b8a6 !important;
    border: 2px solid white !important;
}

/* Bloom's percentage badge */
.hlai-quizgen-wizard .question-config .mb-4 .tag.is-primary {
    background: #14b8a6 !important;
    color: white !important;
    font-weight: 600 !important;
    font-size: 0.8rem !important;
    padding: 0.25rem 0.5rem !important;
    border-radius: 5px !important;
    min-width: 42px !important;
}

/* Bloom's labels */
.hlai-quizgen-wizard .question-config .mb-4 .level-left label {
    margin-bottom: 0 !important;
}

.hlai-quizgen-wizard .question-config .mb-4 strong {
    color: var(--hlai-gray-800) !important;
    font-size: 0.9rem !important;
}

.hlai-quizgen-wizard .question-config .mb-4 .has-text-grey,
.hlai-quizgen-wizard .question-config .mb-4 .is-size-7 {
    color: var(--hlai-gray-400) !important;
    font-size: 0.75rem !important;
}

/* Bloom's total section */
.hlai-quizgen-wizard .question-config > .field.mt-5 > .pt-3 {
    background: #f0fdfa !important;
    border: 1px solid #99f6e4 !important;
    border-radius: 10px !important;
    padding: 0.875rem 1rem !important;
    margin-top: 0.75rem !important;
}

/* Section help text */
.hlai-quizgen-wizard .question-config .help {
    color: var(--hlai-gray-400) !important;
    font-size: 0.825rem !important;
    margin-bottom: 1rem !important;
    margin-top: 0.25rem !important;
}

/* Section labels */
.hlai-quizgen-wizard .question-config > .field > .label {
    font-size: 1rem !important;
    font-weight: 600 !important;
    color: var(--hlai-gray-800) !important;
    margin-bottom: 0.25rem !important;
}


/* Question type icons and descriptions */
.hlai-quizgen-wizard .question-config .qtype-icon {
    font-size: 1.1rem;
    margin-right: 0.25rem;
}

.hlai-quizgen-wizard .question-config .qtype-label {
    font-weight: 600 !important;
    color: var(--hlai-gray-800) !important;
}

.hlai-quizgen-wizard .question-config .qtype-desc {
    font-weight: 400 !important;
    color: var(--hlai-gray-400) !important;
    font-size: 0.8rem !important;
}


/* ==========================================================================
   STEP 3: COMPLETE REDESIGN - Clean Modern Form
   ========================================================================== */

/* Remove all previous left-border styling */
.hlai-quizgen-wizard .question-config > .field.mb-5,
.hlai-quizgen-wizard .question-config > .field.mt-5 {
    background: transparent !important;
    border: none !important;
    border-left: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin-bottom: 2.5rem !important;
    box-shadow: none !important;
}

/* Topics banner - compact pill */
.hlai-quizgen-wizard .notification.is-info.is-light {
    background: #f0f4ff !important;
    border: none !important;
    border-left: none !important;
    border-radius: 12px !important;
    padding: 0.875rem 1.25rem !important;
    margin-bottom: 2.5rem !important;
    font-size: 0.85rem !important;
    line-height: 1.5 !important;
    color: #4338ca !important;
}

.hlai-quizgen-wizard .notification.is-info.is-light strong {
    color: #3730a3 !important;
    font-weight: 700 !important;
}

/* Section labels - clean headers */
.hlai-quizgen-wizard .question-config > .field > .label {
    font-size: 0.75rem !important;
    font-weight: 700 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
    color: var(--hlai-gray-500) !important;
    margin-bottom: 0.75rem !important;
    padding-bottom: 0.5rem !important;
    border-bottom: 1px solid var(--hlai-gray-100) !important;
}

/* Hide help text - cleaner look */
.hlai-quizgen-wizard .question-config > .field > .help {
    display: none !important;
}

/* Question type rows - clean grid cards */
.hlai-quizgen-wizard .question-config .level.mb-3 {
    background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%) !important;
    border: none !important;
    border-radius: 12px !important;
    padding: 1rem 1.25rem !important;
    margin-bottom: 0.625rem !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04), 0 4px 12px rgba(0, 0, 0, 0.03) !important;
    transition: all 0.2s ease !important;
}

.hlai-quizgen-wizard .question-config .level.mb-3:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 8px 24px rgba(102, 126, 234, 0.1) !important;
}

/* Question type - hide descriptions, just show label */
.hlai-quizgen-wizard .question-config .qtype-desc {
    display: none !important;
}

.hlai-quizgen-wizard .question-config .qtype-icon {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 32px !important;
    height: 32px !important;
    background: linear-gradient(145deg, #667eea 0%, #764ba2 100%) !important;
    border-radius: 8px !important;
    font-size: 0.9rem !important;
    margin-right: 0.75rem !important;
    flex-shrink: 0 !important;
}

.hlai-quizgen-wizard .question-config .qtype-label {
    font-weight: 600 !important;
    font-size: 0.9rem !important;
    color: var(--hlai-gray-800) !important;
}

/* Question count inputs - modern style */
.hlai-quizgen-wizard .qtype-count {
    width: 56px !important;
    height: 42px !important;
    text-align: center !important;
    font-weight: 700 !important;
    font-size: 1rem !important;
    border: 2px solid var(--hlai-gray-200) !important;
    border-radius: 10px !important;
    background: white !important;
    color: var(--hlai-gray-800) !important;
    transition: all 0.2s ease !important;
}

.hlai-quizgen-wizard .qtype-count:focus {
    border-color: #667eea !important;
    box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15) !important;
    outline: none !important;
}

/* Total row - prominent display */
.hlai-quizgen-wizard .question-config .level.pt-3 {
    background: linear-gradient(145deg, #f0f4ff 0%, #ede9fe 100%) !important;
    border: none !important;
    border-radius: 12px !important;
    padding: 1rem 1.25rem !important;
    margin-top: 0.5rem !important;
}

.hlai-quizgen-wizard .question-config .level.pt-3[style] {
    border-top: none !important;
}

/* Total badge */
.hlai-quizgen-wizard #qtype-total {
    background: linear-gradient(145deg, #667eea 0%, #764ba2 100%) !important;
    color: white !important;
    font-weight: 700 !important;
    font-size: 1rem !important;
    padding: 0.4rem 0.875rem !important;
    border-radius: 8px !important;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3) !important;
}

/* Difficulty buttons - segmented control style */
.hlai-quizgen-wizard .question-config .buttons {
    background: var(--hlai-gray-100) !important;
    border-radius: 10px !important;
    padding: 4px !important;
    gap: 4px !important;
    display: inline-flex !important;
}

.hlai-quizgen-wizard .question-config .buttons > .button,
.hlai-quizgen-wizard .question-config .buttons > label.button {
    border-radius: 8px !important;
    padding: 0.6rem 1rem !important;
    font-size: 0.8rem !important;
    font-weight: 600 !important;
    border: none !important;
    background: transparent !important;
    color: var(--hlai-gray-500) !important;
    box-shadow: none !important;
    transition: all 0.2s ease !important;
    margin: 0 !important;
}

.hlai-quizgen-wizard .question-config .buttons > .button:hover,
.hlai-quizgen-wizard .question-config .buttons > label.button:hover {
    color: var(--hlai-gray-700) !important;
    background: rgba(255, 255, 255, 0.5) !important;
}

.hlai-quizgen-wizard .question-config .buttons > .button.is-primary,
.hlai-quizgen-wizard .question-config .buttons > label.button.is-primary {
    background: white !important;
    color: #667eea !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

/* Bloom's section header */
.hlai-quizgen-wizard .question-config > .field.mt-5 > .label {
    margin-top: 0 !important;
}

/* Bloom's level cards */
.hlai-quizgen-wizard .question-config .mb-4 {
    background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%) !important;
    border: none !important;
    border-radius: 12px !important;
    padding: 1rem 1.25rem !important;
    margin-bottom: 0.5rem !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04), 0 4px 12px rgba(0, 0, 0, 0.03) !important;
    transition: all 0.2s ease !important;
}

.hlai-quizgen-wizard .question-config .mb-4:hover {
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06) !important;
}

/* Bloom's slider track */
.hlai-quizgen-wizard .question-config input[type='range'] {
    -webkit-appearance: none !important;
    appearance: none !important;
    width: 100% !important;
    height: 6px !important;
    background: linear-gradient(90deg, var(--hlai-gray-200) 0%, var(--hlai-gray-200) 100%) !important;
    border-radius: 3px !important;
    margin: 0.625rem 0 !important;
    cursor: pointer !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-webkit-slider-thumb {
    -webkit-appearance: none !important;
    width: 20px !important;
    height: 20px !important;
    background: linear-gradient(145deg, #10b981 0%, #059669 100%) !important;
    border-radius: 50% !important;
    cursor: pointer !important;
    border: 3px solid white !important;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4) !important;
    transition: transform 0.15s ease !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-webkit-slider-thumb:hover {
    transform: scale(1.15) !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-moz-range-thumb {
    width: 20px !important;
    height: 20px !important;
    background: linear-gradient(145deg, #10b981 0%, #059669 100%) !important;
    border-radius: 50% !important;
    border: 3px solid white !important;
    cursor: pointer !important;
}

/* Bloom's labels */
.hlai-quizgen-wizard .question-config .mb-4 strong {
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    color: var(--hlai-gray-800) !important;
}

.hlai-quizgen-wizard .question-config .mb-4 .has-text-grey,
.hlai-quizgen-wizard .question-config .mb-4 .is-size-7 {
    display: none !important;
}

/* Bloom's percentage badge */
.hlai-quizgen-wizard .question-config .mb-4 .tag.is-primary {
    background: linear-gradient(145deg, #10b981 0%, #059669 100%) !important;
    color: white !important;
    font-weight: 700 !important;
    font-size: 0.8rem !important;
    padding: 0.3rem 0.6rem !important;
    border-radius: 6px !important;
    min-width: 44px !important;
    box-shadow: 0 2px 6px rgba(16, 185, 129, 0.3) !important;
}

/* Bloom's total section */
.hlai-quizgen-wizard .question-config > .field.mt-5 > .pt-3 {
    background: linear-gradient(145deg, #ecfdf5 0%, #d1fae5 100%) !important;
    border: none !important;
    border-radius: 12px !important;
    padding: 1rem 1.25rem !important;
    margin-top: 0.75rem !important;
}

.hlai-quizgen-wizard .question-config > .field.mt-5 > .pt-3 .tag.is-success {
    background: linear-gradient(145deg, #10b981 0%, #059669 100%) !important;
    color: white !important;
    font-weight: 700 !important;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3) !important;
}

/* Navigation buttons */
.hlai-quizgen-wizard form > .level.mt-5 {
    margin-top: 3rem !important;
    padding-top: 2rem !important;
    border-top: 1px solid var(--hlai-gray-100) !important;
}

.hlai-quizgen-wizard form > .level.mt-5 .button.is-light {
    background: var(--hlai-gray-100) !important;
    border: none !important;
    color: var(--hlai-gray-600) !important;
    padding: 0.875rem 1.5rem !important;
    font-weight: 600 !important;
    border-radius: 10px !important;
}

.hlai-quizgen-wizard form > .level.mt-5 .button.is-primary {
    background: linear-gradient(145deg, #3B82F6 0%, #2563eb 100%) !important;
    border: none !important;
    color: white !important;
    padding: 0.875rem 2rem !important;
    font-weight: 600 !important;
    border-radius: 10px !important;
    box-shadow: 0 4px 14px rgba(59, 130, 246, 0.35) !important;
    transition: all 0.25s ease !important;
}

.hlai-quizgen-wizard form > .level.mt-5 .button.is-primary:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.45) !important;
}


/* ==========================================================================
   QUICK WINS: Step 3 Polish, Unified Notifications, Loading Overlays
   ========================================================================== */

/* ---------- QUESTION TYPE ICON ALIGNMENT ---------- */
.hlai-quizgen-wizard .question-config .level-left {
    display: flex !important;
    align-items: center !important;
}

.hlai-quizgen-wizard .question-config .level-left > span {
    display: flex !important;
    align-items: center !important;
}

.hlai-quizgen-wizard .question-config .qtype-icon {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 36px !important;
    height: 36px !important;
    min-width: 36px !important;
    background: linear-gradient(145deg, #667eea 0%, #764ba2 100%) !important;
    border-radius: 10px !important;
    font-size: 1rem !important;
    margin-right: 0.875rem !important;
    line-height: 1 !important;
}

/* ---------- SLIDER WITH FILLED TRACK ---------- */
.hlai-quizgen-wizard .question-config input[type='range'] {
    --range-progress: 20%;
    -webkit-appearance: none !important;
    appearance: none !important;
    width: 100% !important;
    height: 8px !important;
    background: linear-gradient(to right, 
        #10b981 0%, 
        #10b981 var(--range-progress), 
        #e5e7eb var(--range-progress), 
        #e5e7eb 100%) !important;
    border-radius: 4px !important;
    margin: 0.75rem 0 !important;
    cursor: pointer !important;
    transition: background 0.1s ease !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-webkit-slider-thumb {
    -webkit-appearance: none !important;
    width: 22px !important;
    height: 22px !important;
    background: linear-gradient(145deg, #10b981 0%, #059669 100%) !important;
    border-radius: 50% !important;
    cursor: grab !important;
    border: 3px solid white !important;
    box-shadow: 0 2px 10px rgba(16, 185, 129, 0.4) !important;
    transition: transform 0.2s ease, box-shadow 0.2s ease !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-webkit-slider-thumb:hover {
    transform: scale(1.15) !important;
    box-shadow: 0 4px 16px rgba(16, 185, 129, 0.5) !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-webkit-slider-thumb:active {
    cursor: grabbing !important;
    transform: scale(1.1) !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-moz-range-thumb {
    width: 22px !important;
    height: 22px !important;
    background: linear-gradient(145deg, #10b981 0%, #059669 100%) !important;
    border-radius: 50% !important;
    border: 3px solid white !important;
    cursor: grab !important;
    box-shadow: 0 2px 10px rgba(16, 185, 129, 0.4) !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-moz-range-progress {
    background: #10b981 !important;
    border-radius: 4px !important;
    height: 8px !important;
}

.hlai-quizgen-wizard .question-config input[type='range']::-moz-range-track {
    background: #e5e7eb !important;
    border-radius: 4px !important;
    height: 8px !important;
}

/* ---------- SUBTLE HOVER ANIMATIONS ---------- */
.hlai-quizgen-wizard .question-config .level.mb-3 {
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.hlai-quizgen-wizard .question-config .level.mb-3:hover {
    transform: translateX(6px) !important;
    box-shadow: 0 4px 20px rgba(102, 126, 234, 0.15) !important;
}

.hlai-quizgen-wizard .question-config .level.mb-3:hover .qtype-icon {
    transform: scale(1.05) !important;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3) !important;
}

.hlai-quizgen-wizard .question-config .qtype-icon {
    transition: transform 0.2s ease, box-shadow 0.2s ease !important;
}

.hlai-quizgen-wizard .question-config .mb-4 {
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.hlai-quizgen-wizard .question-config .mb-4:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.12) !important;
}

/* ---------- UNIFIED NOTIFICATION BANNERS ---------- */
.hlai-quizgen-wizard .notification.is-info.is-light,
.hlai-quizgen-wrapper .notification.is-info.is-light {
    background: #f0f9ff !important;
    border: none !important;
    border-left: 4px solid #3b82f6 !important;
    border-radius: 0 12px 12px 0 !important;
    padding: 1rem 1.25rem !important;
    margin-bottom: 1.5rem !important;
    font-size: 0.9rem !important;
    line-height: 1.6 !important;
    color: #1e40af !important;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.08) !important;
}

.hlai-quizgen-wizard .notification.is-info.is-light strong,
.hlai-quizgen-wrapper .notification.is-info.is-light strong {
    color: #1d4ed8 !important;
    font-weight: 700 !important;
}

.hlai-quizgen-wizard .notification.is-warning,
.hlai-quizgen-wrapper .notification.is-warning {
    background: #fffbeb !important;
    border: none !important;
    border-left: 4px solid #f59e0b !important;
    border-radius: 0 12px 12px 0 !important;
    padding: 1rem 1.25rem !important;
    color: #92400e !important;
    box-shadow: 0 2px 8px rgba(245, 158, 11, 0.08) !important;
}

.hlai-quizgen-wizard .notification.is-success,
.hlai-quizgen-wrapper .notification.is-success {
    background: #ecfdf5 !important;
    border: none !important;
    border-left: 4px solid #10b981 !important;
    border-radius: 0 12px 12px 0 !important;
    padding: 1rem 1.25rem !important;
    color: #065f46 !important;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.08) !important;
}

.hlai-quizgen-wizard .notification.is-danger,
.hlai-quizgen-wrapper .notification.is-danger {
    background: #fef2f2 !important;
    border: none !important;
    border-left: 4px solid #ef4444 !important;
    border-radius: 0 12px 12px 0 !important;
    padding: 1rem 1.25rem !important;
    color: #991b1b !important;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.08) !important;
}

/* ---------- STANDARDIZED LOADING OVERLAYS ---------- */
/* NOTE: Do NOT use display: flex !important here - it breaks inline display:none */
.hlai-quizgen-wizard .hlai-generating-overlay,
.hlai-quizgen-wrapper .hlai-generating-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: rgba(255, 255, 255, 0.92) !important;
    backdrop-filter: blur(8px) !important;
    -webkit-backdrop-filter: blur(8px) !important;
    z-index: 9999 !important;
    /* display is controlled by inline style and JavaScript - do NOT override here */
    align-items: center !important;
    justify-content: center !important;
}

.hlai-quizgen-wizard .hlai-generating-modal,
.hlai-quizgen-wrapper .hlai-generating-modal {
    background: white !important;
    border-radius: 20px !important;
    padding: 3rem !important;
    text-align: center !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15) !important;
    max-width: 420px !important;
    width: 90% !important;
    animation: hlai-modalFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

@keyframes hlai-modalFadeIn {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.hlai-quizgen-wizard .hlai-generating-modal .loader,
.hlai-quizgen-wrapper .hlai-generating-modal .loader {
    width: 56px !important;
    height: 56px !important;
    border: 4px solid #e5e7eb !important;
    border-top-color: #667eea !important;
    border-radius: 50% !important;
    margin: 0 auto 1.5rem !important;
    animation: hlai-spin 1s linear infinite !important;
}

/* hlai-spin keyframes already defined above */

.hlai-quizgen-wizard .hlai-generating-modal .title,
.hlai-quizgen-wrapper .hlai-generating-modal .title {
    font-size: 1.25rem !important;
    font-weight: 700 !important;
    color: var(--hlai-gray-800) !important;
    margin-bottom: 0.5rem !important;
}

.hlai-quizgen-wizard .hlai-generating-modal p,
.hlai-quizgen-wrapper .hlai-generating-modal p {
    color: var(--hlai-gray-500) !important;
    font-size: 0.9rem !important;
    line-height: 1.5 !important;
    margin-bottom: 0.5rem !important;
}

.hlai-quizgen-wizard .hlai-generating-modal .has-text-warning-dark,
.hlai-quizgen-wrapper .hlai-generating-modal .has-text-warning-dark {
    color: #d97706 !important;
    background: #fffbeb !important;
    padding: 0.5rem 1rem !important;
    border-radius: 8px !important;
    margin-top: 1rem !important;
    display: inline-block !important;
}

/* Progress bar for loading states */
.hlai-quizgen-wizard .hlai-generating-modal .progress-container,
.hlai-quizgen-wrapper .hlai-generating-modal .progress-container {
    width: 100% !important;
    height: 6px !important;
    background: #e5e7eb !important;
    border-radius: 3px !important;
    overflow: hidden !important;
    margin-top: 1.5rem !important;
}

.hlai-quizgen-wizard .hlai-generating-modal .progress-bar,
.hlai-quizgen-wrapper .hlai-generating-modal .progress-bar {
    height: 100% !important;
    background: linear-gradient(90deg, #667eea 0%, #764ba2 100%) !important;
    border-radius: 3px !important;
    animation: hlai-progressPulse 2s ease-in-out infinite !important;
}

@keyframes hlai-progressPulse {
    0%, 100% { width: 20%; margin-left: 0; }
    50% { width: 40%; margin-left: 60%; }
}

/* ==========================================================================
   STEP 3: QUESTION PARAMETERS - PREMIUM REDESIGN
   Modern, clean, card-based layout with visual hierarchy
   ========================================================================== */

/* Section Cards */
.hlai-quizgen-wizard .question-config .hlai-config-section {
    background: white;
    border-radius: 16px;
    padding: 1.75rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
    border: 1px solid rgba(0, 0, 0, 0.04);
    transition: box-shadow 0.2s ease;
}

.hlai-quizgen-wizard .question-config .hlai-config-section:hover {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
}

/* Section Headers */
.hlai-quizgen-wizard .question-config .hlai-section-header {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.25rem;
}

.hlai-quizgen-wizard .question-config .hlai-section-icon {
    width: 48px;
    height: 48px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.35rem;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.hlai-quizgen-wizard .question-config .hlai-section-icon.icon-purple {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
}

.hlai-quizgen-wizard .question-config .hlai-section-icon.icon-green {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.hlai-quizgen-wizard .question-config .hlai-section-icon.icon-orange {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}

.hlai-quizgen-wizard .question-config .hlai-section-icon.icon-blue {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
}

.hlai-quizgen-wizard .question-config .hlai-section-title {
    font-size: 1.15rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0 0 0.25rem 0;
    letter-spacing: -0.01em;
}

.hlai-quizgen-wizard .question-config .hlai-section-subtitle {
    font-size: 0.9rem;
    color: #6b7280;
    margin: 0;
    line-height: 1.4;
}

/* Section Dividers */
.hlai-quizgen-wizard .question-config .hlai-section-divider {
    border: none;
    height: 1px;
    background: linear-gradient(to right, transparent, #e5e7eb 20%, #e5e7eb 80%, transparent);
    margin: 2rem 0;
}

/* Total Questions - Big Number Display */
.hlai-quizgen-wizard .question-config .hlai-total-display {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-top: 1rem;
}

.hlai-quizgen-wizard .question-config .hlai-big-number-input {
    position: relative;
}

.hlai-quizgen-wizard .question-config .hlai-big-number-input input {
    width: 100px;
    height: 72px;
    font-size: 2rem;
    font-weight: 700;
    text-align: center;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    background: white;
    color: #1e293b;
    transition: all 0.2s ease;
    -moz-appearance: textfield;
}

.hlai-quizgen-wizard .question-config .hlai-big-number-input input::-webkit-outer-spin-button,
.hlai-quizgen-wizard .question-config .hlai-big-number-input input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.hlai-quizgen-wizard .question-config .hlai-big-number-input input:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
}

.hlai-quizgen-wizard .question-config .hlai-total-hint {
    font-size: 0.9rem;
    color: #6b7280;
    max-width: 300px;
}

/* Question Type Cards */
.hlai-quizgen-wizard .question-config .hlai-qtype-grid {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: 1rem;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.25rem;
    background: #f9fafb;
    border-radius: 12px;
    border: 1px solid transparent;
    transition: all 0.2s ease;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-item:hover {
    background: #f3f4f6;
    border-color: #e5e7eb;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-item.has-value {
    background: linear-gradient(135deg, rgba(37, 99, 235, 0.1) 0%, rgba(37, 99, 235, 0.06) 100%);
    border-color: rgba(37, 99, 235, 0.25);
}

.hlai-quizgen-wizard .question-config .hlai-qtype-left {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-icon-wrap {
    width: 42px;
    height: 42px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
    flex-shrink: 0;
}

/* Question Type Icon Colors */
.hlai-quizgen-wizard .question-config .hlai-qtype-icon-wrap.qtype-multichoice {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    color: white;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-icon-wrap.qtype-truefalse {
    background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
    color: white;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-icon-wrap.qtype-shortanswer {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-icon-wrap.qtype-essay {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-icon-wrap.qtype-scenario {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-info h4 {
    font-size: 0.95rem;
    font-weight: 600;
    color: #1f2937;
    margin: 0 0 0.15rem 0;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-info p {
    font-size: 0.8rem;
    color: #6b7280;
    margin: 0;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-input-wrap {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-input-wrap input {
    width: 64px;
    height: 44px;
    font-size: 1.1rem;
    font-weight: 600;
    text-align: center;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    background: white;
    color: #374151;
    transition: all 0.2s ease;
    -moz-appearance: textfield;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-input-wrap input::-webkit-outer-spin-button,
.hlai-quizgen-wizard .question-config .hlai-qtype-input-wrap input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-input-wrap input:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.18);
}

.hlai-quizgen-wizard .question-config .hlai-qtype-input-wrap input:not([value="0"]):not(:placeholder-shown) {
    border-color: #2563eb;
    background: linear-gradient(135deg, rgba(37, 99, 235, 0.08) 0%, rgba(37, 99, 235, 0.04) 100%);
}

/* Question Types Total Row */
.hlai-quizgen-wizard .question-config .hlai-qtype-total-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.25rem;
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border-radius: 12px;
    margin-top: 0.75rem;
    border: 1px solid #bbf7d0;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-total-row.is-warning {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    border-color: #fcd34d;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-total-row.is-danger {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-color: #fca5a5;
}

.hlai-quizgen-wizard .question-config .hlai-total-label {
    font-weight: 600;
    color: #374151;
    font-size: 0.95rem;
}

.hlai-quizgen-wizard .question-config .hlai-total-value {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.hlai-quizgen-wizard .question-config .hlai-total-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 48px;
    height: 36px;
    padding: 0 0.75rem;
    font-size: 1rem;
    font-weight: 700;
    border-radius: 8px;
    background: #10b981;
    color: white;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-total-row.is-warning .hlai-total-badge {
    background: #f59e0b;
}

.hlai-quizgen-wizard .question-config .hlai-qtype-total-row.is-danger .hlai-total-badge {
    background: #ef4444;
}

.hlai-quizgen-wizard .question-config .hlai-total-required {
    font-size: 0.95rem;
    color: #6b7280;
}

/* Difficulty Distribution - Pill Buttons */
.hlai-quizgen-wizard .question-config .hlai-difficulty-tabs {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin-top: 1rem;
    background: #f3f4f6;
    padding: 0.375rem;
    border-radius: 12px;
}

.hlai-quizgen-wizard .question-config .hlai-difficulty-tab {
    flex: 1;
    min-width: 120px;
    padding: 0.75rem 1rem;
    font-size: 0.875rem;
    font-weight: 500;
    text-align: center;
    border: none;
    border-radius: 10px;
    background: transparent;
    color: #6b7280;
    cursor: pointer;
    transition: all 0.2s ease;
}

.hlai-quizgen-wizard .question-config .hlai-difficulty-tab:hover {
    background: rgba(255, 255, 255, 0.7);
    color: #374151;
}

.hlai-quizgen-wizard .question-config .hlai-difficulty-tab.is-active {
    background: white;
    color: #1f2937;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    font-weight: 600;
}

.hlai-quizgen-wizard .question-config .hlai-difficulty-tab input[type="radio"] {
    display: none;
}

/* Bloom's Taxonomy Sliders */
.hlai-quizgen-wizard .question-config .hlai-blooms-grid {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    margin-top: 1rem;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-item {
    position: relative;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-label {
    font-weight: 600;
    font-size: 0.9rem;
    color: #374151;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 52px;
    height: 28px;
    padding: 0 0.625rem;
    font-size: 0.85rem;
    font-weight: 600;
    border-radius: 6px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
}

/* Modern Range Slider */
.hlai-quizgen-wizard .question-config .hlai-range-slider {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 8px;
    border-radius: 4px;
    background: linear-gradient(to right, #10b981 0%, #10b981 var(--slider-fill, 20%), #e5e7eb var(--slider-fill, 20%), #e5e7eb 100%);
    outline: none;
    cursor: pointer;
    transition: background 0.1s ease;
}

.hlai-quizgen-wizard .question-config .hlai-range-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: white;
    border: 3px solid #10b981;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    transition: all 0.15s ease;
}

.hlai-quizgen-wizard .question-config .hlai-range-slider::-webkit-slider-thumb:hover {
    transform: scale(1.1);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
}

.hlai-quizgen-wizard .question-config .hlai-range-slider::-moz-range-thumb {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: white;
    border: 3px solid #10b981;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

/* Bloom's Total Row */
.hlai-quizgen-wizard .question-config .hlai-blooms-total-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.25rem;
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border-radius: 12px;
    margin-top: 1rem;
    border: 1px solid #bbf7d0;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-total-row.is-warning {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    border-color: #fcd34d;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-total-row.is-danger {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-color: #fca5a5;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-total-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 60px;
    height: 36px;
    padding: 0 0.75rem;
    font-size: 1rem;
    font-weight: 700;
    border-radius: 8px;
    background: #10b981;
    color: white;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-total-row.is-warning .hlai-blooms-total-badge {
    background: #f59e0b;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-total-row.is-danger .hlai-blooms-total-badge {
    background: #ef4444;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-hint {
    font-size: 0.8rem;
    color: #6b7280;
    margin-top: 0.5rem;
}

/* Navigation Buttons */
.hlai-quizgen-wizard .question-config .hlai-config-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid #e5e7eb;
}

.hlai-quizgen-wizard .question-config .hlai-nav-prev {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    font-size: 0.95rem;
    font-weight: 500;
    color: #1d4ed8;
    background: #e0f2fe;
    border: 1px solid #bfdbfe;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
}

.hlai-quizgen-wizard .question-config .hlai-nav-prev:hover {
    background: #dbeafe;
    color: #1e40af;
    border-color: #93c5fd;
    box-shadow: 0 6px 16px -10px rgba(37, 99, 235, 0.35);
    text-decoration: none;
}

.hlai-quizgen-wizard .question-config .hlai-nav-generate {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 2rem;
    font-size: 1rem;
    font-weight: 600;
    color: white;
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 14px rgba(37, 99, 235, 0.35);
}

.hlai-quizgen-wizard .question-config .hlai-nav-generate:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 20px rgba(37, 99, 235, 0.45);
}

.hlai-quizgen-wizard .question-config .hlai-nav-generate:active {
    transform: translateY(0);
}

/* Global wizard CTA overrides to keep palette consistent (steps 3 & 5) */
.hlai-quizgen-wizard .button.is-success,
.hlai-quizgen-wizard .button.is-primary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    border: none !important;
    color: #ffffff !important;
    box-shadow: 0 8px 24px -8px rgba(37, 99, 235, 0.45) !important;
    padding: 0.875rem 2rem;
    font-weight: 700;
}

.hlai-quizgen-wizard .button.is-success:hover,
.hlai-quizgen-wizard .button.is-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 12px 32px -10px rgba(37, 99, 235, 0.5) !important;
}

.hlai-quizgen-wizard .button.is-success:active,
.hlai-quizgen-wizard .button.is-primary:active {
    transform: translateY(0);
}

.hlai-quizgen-wizard .button.is-light {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: #e0f2fe;
    color: #1d4ed8;
    border: 1px solid #bfdbfe;
    border-radius: 10px;
}

.hlai-quizgen-wizard .button.is-light .icon,
.hlai-quizgen-wizard .button.is-light i {
    color: #1d4ed8 !important;
}

/* Override old styles for backward compatibility */
.hlai-quizgen-wizard .question-config .level.mb-3 {
    background: #f9fafb;
    padding: 1rem 1.25rem;
    border-radius: 12px;
    margin-bottom: 0.75rem !important;
    border: 1px solid transparent;
    transition: all 0.2s ease;
}

.hlai-quizgen-wizard .question-config .level.mb-3:hover {
    background: #f3f4f6;
    border-color: #e5e7eb;
}

.hlai-quizgen-wizard .question-config .level.mb-3.has-value {
    background: rgba(59, 130, 246, 0.06);
    border-color: rgba(59, 130, 246, 0.2);
}

.hlai-quizgen-wizard .question-config .qtype-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 10px;
    color: white;
    font-size: 1rem;
    margin-right: 0.75rem;
    flex-shrink: 0;
}

/* Different colors for each question type */
.hlai-quizgen-wizard .question-config .level.mb-3:nth-child(1) .qtype-icon {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); /* Blue - Multiple Choice */
}
.hlai-quizgen-wizard .question-config .level.mb-3:nth-child(2) .qtype-icon {
    background: linear-gradient(135deg, #ec4899 0%, #db2777 100%); /* Pink - True/False */
}
.hlai-quizgen-wizard .question-config .level.mb-3:nth-child(3) .qtype-icon {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); /* Orange - Short Answer */
}
.hlai-quizgen-wizard .question-config .level.mb-3:nth-child(4) .qtype-icon {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); /* Blue - Essay */
}
.hlai-quizgen-wizard .question-config .level.mb-3:nth-child(5) .qtype-icon {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); /* Red - Scenario */
}

.hlai-quizgen-wizard .question-config .qtype-label {
    font-weight: 600;
    color: #1f2937;
}

.hlai-quizgen-wizard .question-config .qtype-desc {
    color: #6b7280;
    font-size: 0.85rem;
}

/* Modern Number Inputs */
.hlai-quizgen-wizard .question-config input.qtype-count {
    width: 64px !important;
    height: 44px !important;
    font-size: 1.1rem !important;
    font-weight: 600 !important;
    text-align: center !important;
    border: 2px solid #e5e7eb !important;
    border-radius: 10px !important;
    background: white !important;
    color: #374151 !important;
    transition: all 0.2s ease !important;
    -moz-appearance: textfield !important;
}

.hlai-quizgen-wizard .question-config input.qtype-count:focus {
    outline: none !important;
    border-color: #3b82f6 !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15) !important;
}

/* Difficulty button pills */
.hlai-quizgen-wizard .question-config .buttons {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    background: #f3f4f6;
    padding: 0.375rem;
    border-radius: 12px;
}

.hlai-quizgen-wizard .question-config .buttons .button {
    flex: 1;
    min-width: auto;
    padding: 0.75rem 1rem;
    font-size: 0.85rem;
    font-weight: 500;
    text-align: center;
    border: none !important;
    border-radius: 10px !important;
    background: transparent !important;
    color: #6b7280 !important;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: none !important;
}

.hlai-quizgen-wizard .question-config .buttons .button:hover {
    background: rgba(255, 255, 255, 0.7) !important;
    color: #3b82f6 !important;
    border-color: #93c5fd !important;
}

.hlai-quizgen-wizard .question-config .buttons .button.is-primary,
.hlai-quizgen-wizard .question-config .buttons .button.is-selected {
    background: #eff6ff !important;
    color: #1d4ed8 !important;
    border: 2px solid #3b82f6 !important;
    box-shadow: none !important;
    font-weight: 600 !important;
}

/* Modern range slider styling */
.hlai-quizgen-wizard .question-config input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 8px;
    border-radius: 4px;
    background: #e5e7eb;
    outline: none;
    cursor: pointer;
}

.hlai-quizgen-wizard .question-config input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #3b82f6;
    border: 3px solid white;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(59, 130, 246, 0.4);
    transition: all 0.15s ease;
}

.hlai-quizgen-wizard .question-config input[type="range"]::-webkit-slider-thumb:hover {
    transform: scale(1.15);
    box-shadow: 0 3px 10px rgba(59, 130, 246, 0.5);
}

.hlai-quizgen-wizard .question-config input[type="range"]::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #3b82f6;
    border: 3px solid white;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(59, 130, 246, 0.4);
}

/* Bloom's value badges */
.hlai-quizgen-wizard .question-config .tag.is-primary {
    background: #3b82f6 !important;
    color: white !important;
    font-weight: 600 !important;
    border-radius: 6px !important;
    padding: 0.375rem 0.75rem !important;
    font-size: 0.85rem !important;
    min-width: 52px !important;
    justify-content: center !important;
}

/* Bloom's slider items */
.hlai-quizgen-wizard .question-config .blooms-slider-row {
    padding: 1rem 0;
    border-bottom: 1px solid #f1f5f9;
}

.hlai-quizgen-wizard .question-config .blooms-slider-row:last-of-type {
    border-bottom: none;
}

.hlai-quizgen-wizard .question-config .blooms-header {
    margin-bottom: 0.25rem !important;
}

.hlai-quizgen-wizard .question-config .blooms-label {
    font-weight: 600;
    color: #1e293b;
}

.hlai-quizgen-wizard .question-config .blooms-description {
    font-size: 0.85rem;
    color: #64748b;
    margin: 0 0 0.625rem 0;
}

.hlai-quizgen-wizard .question-config .mb-4 .level.mb-2 {
    background: transparent;
    padding: 0;
    margin-bottom: 0.5rem !important;
}

.hlai-quizgen-wizard .question-config .mb-4 .level.mb-2 label {
    font-size: 0.95rem;
}

.hlai-quizgen-wizard .question-config .mb-4 .level.mb-2 label strong {
    color: #374151;
    font-weight: 600;
}

.hlai-quizgen-wizard .question-config .mb-4 .level.mb-2 label .has-text-grey {
    color: #9ca3af !important;
}

/* Total row styling */
.hlai-quizgen-wizard .question-config .level.pt-3 {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    padding: 1rem 1.25rem;
    border-radius: 12px;
    border: 1px solid #bbf7d0;
    margin-top: 0.75rem;
}

.hlai-quizgen-wizard .question-config #qtype-total {
    font-weight: 700 !important;
    font-size: 1rem !important;
    min-width: 48px !important;
    border-radius: 8px !important;
}

.hlai-quizgen-wizard .question-config #qtype-total.is-success {
    background: #10b981 !important;
    color: white !important;
}

.hlai-quizgen-wizard .question-config #qtype-total.is-warning {
    background: #f59e0b !important;
    color: white !important;
}

.hlai-quizgen-wizard .question-config #qtype-total.is-danger {
    background: #ef4444 !important;
    color: white !important;
}

/* Blooms total row */
.hlai-quizgen-wizard .question-config .hlai-blooms-total-row {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    padding: 1rem 1.25rem;
    border-radius: 12px;
    border: 1px solid #bbf7d0;
    margin-top: 1rem;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-total-row.is-warning {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    border-color: #fcd34d;
}

.hlai-quizgen-wizard .question-config .hlai-blooms-total-row.is-danger {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-color: #fca5a5;
}

/* Blooms total tag */
.hlai-quizgen-wizard .question-config #blooms_total {
    font-weight: 700 !important;
    font-size: 1rem !important;
    min-width: 60px !important;
    border-radius: 6px !important;
    background: #10b981 !important;
    color: white !important;
}

.hlai-quizgen-wizard .question-config #blooms_total.is-warning {
    background: #f59e0b !important;
}

.hlai-quizgen-wizard .question-config #blooms_total.is-danger {
    background: #ef4444 !important;
}

/* Navigation buttons override */
.hlai-quizgen-wizard .level.mt-5 .button.is-light {
    background: #f3f4f6 !important;
    border: none !important;
    border-radius: 10px !important;
    font-weight: 500 !important;
    color: #6b7280 !important;
    padding: 0.75rem 1.5rem !important;
}

.hlai-quizgen-wizard .level.mt-5 .button.is-light:hover {
    background: #e5e7eb !important;
    color: #374151 !important;
}

.hlai-quizgen-wizard .level.mt-5 .button.is-primary {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
    border: none !important;
    border-radius: 10px !important;
    font-weight: 600 !important;
    padding: 0.875rem 2rem !important;
    box-shadow: 0 4px 14px rgba(59, 130, 246, 0.35) !important;
}

.hlai-quizgen-wizard .level.mt-5 .button.is-primary:hover {
    transform: translateY(-1px) !important;
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4) !important;
}
/* ==========================================================================
   STEP 3: REDESIGNED COMPONENTS
   ========================================================================== */

/* ---------- TOPICS SELECTED BANNER ---------- */
.hlai-quizgen-wizard .hlai-topics-selected {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border: 1px solid #bbf7d0;
    border-radius: 12px;
    padding: 1rem 1.25rem;
}

.hlai-quizgen-wizard .hlai-topics-banner {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
}

.hlai-quizgen-wizard .hlai-topics-check {
    width: 32px;
    height: 32px;
    background: #10b981;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.9rem;
    flex-shrink: 0;
}

.hlai-quizgen-wizard .hlai-topics-content {
    flex: 1;
    min-width: 0;
}

.hlai-quizgen-wizard .hlai-topics-count {
    display: block;
    font-size: 0.95rem;
    font-weight: 600;
    color: #166534;
    margin-bottom: 0.25rem;
}

.hlai-quizgen-wizard .hlai-topics-list {
    font-size: 0.85rem;
    color: #15803d;
    line-height: 1.5;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

/* ---------- DIFFICULTY DISTRIBUTION GRID ---------- */
.hlai-quizgen-wizard .hlai-difficulty-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
    margin-top: 1rem;
}

@media (max-width: 768px) {
    .hlai-quizgen-wizard .hlai-difficulty-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

.hlai-quizgen-wizard .hlai-difficulty-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1.25rem 1rem;
    background: #f8fafc;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
}

.hlai-quizgen-wizard .hlai-difficulty-option:hover {
    border-color: #3b82f6;
    background: #f0f9ff;
}

.hlai-quizgen-wizard .hlai-difficulty-option.is-selected {
    border-color: #3b82f6;
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
}

.hlai-quizgen-wizard .hlai-difficulty-option input[type="radio"] {
    position: absolute;
    opacity: 0;
    pointer-events: none;
}

.hlai-quizgen-wizard .hlai-diff-icon {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wizard .hlai-diff-label {
    font-weight: 600;
    font-size: 0.95rem;
    color: #1e293b;
    margin-bottom: 0.25rem;
}

.hlai-quizgen-wizard .hlai-diff-desc {
    font-size: 0.75rem;
    color: #64748b;
}

.hlai-quizgen-wizard .hlai-difficulty-option.is-selected .hlai-diff-label {
    color: #1d4ed8;
}

/* ---------- BLOOM'S TAXONOMY SLIDERS ---------- */
.hlai-quizgen-wizard .hlai-blooms-container {
    display: flex;
    flex-direction: column;
    gap: 0;
    margin-top: 1rem;
    background: #f8fafc;
    border-radius: 12px;
    border: 1px solid #e2e8f0;
    overflow: hidden;
}

.hlai-quizgen-wizard .hlai-blooms-row {
    display: grid;
    grid-template-columns: 200px 1fr 60px;
    gap: 1rem;
    align-items: center;
    padding: 1rem 1.25rem;
    border-bottom: 1px solid #e2e8f0;
    background: white;
    transition: background 0.15s ease;
}

.hlai-quizgen-wizard .hlai-blooms-row:last-child {
    border-bottom: none;
}

.hlai-quizgen-wizard .hlai-blooms-row:hover {
    background: #f8fafc;
}

@media (max-width: 768px) {
    .hlai-quizgen-wizard .hlai-blooms-row {
        grid-template-columns: 1fr 60px;
        grid-template-rows: auto auto;
    }
    
    .hlai-quizgen-wizard .hlai-blooms-info {
        grid-column: 1 / -1;
    }
    
    .hlai-quizgen-wizard .hlai-blooms-slider-wrap {
        grid-column: 1;
    }
}

.hlai-quizgen-wizard .hlai-blooms-info {
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
}

.hlai-quizgen-wizard .hlai-blooms-label {
    font-weight: 600;
    font-size: 0.9rem;
    color: #1e293b;
}

.hlai-quizgen-wizard .hlai-blooms-desc {
    font-size: 0.8rem;
    color: #64748b;
}

.hlai-quizgen-wizard .hlai-blooms-slider-wrap {
    flex: 1;
    display: flex;
    align-items: center;
}

.hlai-quizgen-wizard .hlai-blooms-slider {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 8px;
    border-radius: 4px;
    background: #e2e8f0;
    outline: none;
    cursor: pointer;
}

/* Bloom's level-specific slider colors */
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-remember::-webkit-slider-thumb {
    border-color: #ef4444 !important;
}
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-understand::-webkit-slider-thumb {
    border-color: #f97316 !important;
}
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-apply::-webkit-slider-thumb {
    border-color: #eab308 !important;
}
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-analyze::-webkit-slider-thumb {
    border-color: #22c55e !important;
}
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-evaluate::-webkit-slider-thumb {
    border-color: #3b82f6 !important;
}
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-create::-webkit-slider-thumb {
    border-color: #2563eb !important;
}

/* Firefox support */
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-remember::-moz-range-thumb {
    border-color: #ef4444 !important;
}
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-understand::-moz-range-thumb {
    border-color: #f97316 !important;
}
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-apply::-moz-range-thumb {
    border-color: #eab308 !important;
}
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-analyze::-moz-range-thumb {
    border-color: #22c55e !important;
}
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-evaluate::-moz-range-thumb {
    border-color: #3b82f6 !important;
}
.hlai-quizgen-wizard .hlai-blooms-slider.blooms-create::-moz-range-thumb {
    border-color: #2563eb !important;
}

.hlai-quizgen-wizard .hlai-blooms-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: white;
    border: 3px solid #3b82f6;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    margin-top: -1px;
}

.hlai-quizgen-wizard .hlai-blooms-slider::-webkit-slider-thumb:hover {
    transform: scale(1.2);
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.25);
}

.hlai-quizgen-wizard .hlai-blooms-slider::-moz-range-thumb {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: white;
    border: 3px solid #3b82f6;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.hlai-quizgen-wizard .hlai-blooms-slider::-moz-range-track {
    height: 8px;
    border-radius: 4px;
    background: #e2e8f0;
}

.hlai-quizgen-wizard .hlai-blooms-value {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 52px;
    height: 28px;
    padding: 0 0.5rem;
    font-size: 0.85rem;
    font-weight: 600;
    color: white;
    border-radius: 6px;
    text-align: center;
}

/* ---------- BLOOM'S TOTAL ROW ---------- */
.hlai-quizgen-wizard .hlai-blooms-total {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    background: #f1f5f9;
    border-radius: 0 0 12px 12px;
    margin-top: -1px;
}

.hlai-quizgen-wizard .hlai-blooms-total-label {
    font-weight: 600;
    font-size: 0.9rem;
    color: #475569;
}

.hlai-quizgen-wizard .hlai-blooms-total-value {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 60px;
    height: 32px;
    padding: 0 0.75rem;
    font-size: 0.95rem;
    font-weight: 700;
    color: white;
    border-radius: 6px;
}

.hlai-quizgen-wizard .hlai-blooms-total-value.is-success {
    background: #10b981;
}

.hlai-quizgen-wizard .hlai-blooms-total-value.is-warning {
    background: #f59e0b;
}

.hlai-quizgen-wizard .hlai-blooms-total-value.is-danger {
    background: #ef4444;
}

.hlai-quizgen-wizard .hlai-blooms-total-hint {
    font-size: 0.8rem;
    color: #64748b;
    margin-left: auto;
}

/* ============================================
   STEP 3: QUESTION CONFIGURATION (Aligned with Step 4)
   ============================================ */

.hlai-quizgen-wizard .hlai-step3-minimal {
    max-width: 100%;
    margin: 0;
}

.hlai-quizgen-wizard .hlai-step3-title {
    color: var(--hlai-gray-800);
    margin: 0;
}

.hlai-quizgen-wizard .hlai-step3-subtitle {
    color: var(--hlai-gray-500);
    margin: 0 0 1.5rem 0;
}

.hlai-quizgen-wizard .hlai-step3-divider {
    background-color: var(--hlai-gray-200);
}

/* Topics info bar - matches Step 4 status bars */
.hlai-quizgen-wizard .hlai-topics-info-bar {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1rem;
    background: var(--hlai-gray-50);
    border: 1px solid var(--hlai-gray-200);
    border-left: 4px solid var(--hlai-primary);
    border-radius: var(--hlai-radius-lg);
    margin-bottom: 1.5rem;
}

.hlai-quizgen-wizard .hlai-info-icon {
    font-size: 1.1rem;
    flex-shrink: 0;
}

.hlai-quizgen-wizard .hlai-info-label {
    font-weight: 600;
    color: var(--hlai-gray-700);
    font-size: 0.875rem;
}

.hlai-quizgen-wizard .hlai-info-topics {
    color: var(--hlai-gray-600);
    font-size: 0.875rem;
}

/* Config grid - Total + Difficulty side by side */
.hlai-quizgen-wizard .hlai-config-grid {
    display: grid;
    grid-template-columns: 140px 1fr;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

@media (max-width: 600px) {
    .hlai-quizgen-wizard .hlai-config-grid {
        grid-template-columns: 1fr;
    }
}

.hlai-quizgen-wizard .hlai-config-card {
    background: white;
    border: 1px solid var(--hlai-gray-200);
    border-radius: 10px;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.hlai-quizgen-wizard .hlai-config-label {
    display: block;
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--hlai-gray-500);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 0.25rem;
}

.hlai-quizgen-wizard .hlai-config-input {
    width: 100%;
    padding: 0.5rem;
    font-size: 1.5rem;
    font-weight: 700;
    text-align: center;
    color: var(--hlai-gray-800);
    border: 1px solid var(--hlai-gray-200);
    border-radius: 8px;
    background: white;
    transition: border-color 0.15s ease;
}

.hlai-quizgen-wizard .hlai-config-input:focus {
    outline: none;
    border-color: var(--hlai-gray-400);
}

/* Difficulty buttons - semantic colors */
.hlai-quizgen-wizard .hlai-diff-buttons {
    display: flex;
    gap: 0.5rem;
    height: 100%;
    align-items: center;
}

.hlai-quizgen-wizard .hlai-diff-btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.65rem 0.75rem;
    background: white;
    border: 1px solid var(--hlai-gray-200);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.15s ease;
}

.hlai-quizgen-wizard .hlai-diff-btn input {
    display: none;
}

.hlai-quizgen-wizard .hlai-diff-btn span {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--hlai-gray-500);
    transition: color var(--hlai-transition-fast);
}

.hlai-quizgen-wizard .hlai-diff-btn:hover {
    border-color: var(--hlai-gray-300);
    background: var(--hlai-gray-100);
}

.hlai-quizgen-wizard .hlai-diff-btn:hover span {
    color: var(--hlai-gray-700);
}

/* Easy - Green */
.hlai-quizgen-wizard .hlai-diff-btn.is-easy.is-active {
    border-color: var(--hlai-success);
    background: var(--hlai-success);
    box-shadow: var(--hlai-shadow-sm);
}

.hlai-quizgen-wizard .hlai-diff-btn.is-easy:hover {
    border-color: var(--hlai-success);
    background: var(--hlai-success-light);
}

.hlai-quizgen-wizard .hlai-diff-btn.is-easy:hover span {
    color: var(--hlai-success);
}

/* Balanced - Orange */
.hlai-quizgen-wizard .hlai-diff-btn.is-balanced.is-active {
    border-color: var(--hlai-warning);
    background: var(--hlai-warning);
    box-shadow: var(--hlai-shadow-sm);
}

.hlai-quizgen-wizard .hlai-diff-btn.is-balanced:hover {
    border-color: var(--hlai-warning);
    background: var(--hlai-warning-light);
}

.hlai-quizgen-wizard .hlai-diff-btn.is-balanced:hover span {
    color: #b45309;
}

/* Hard - Red */
.hlai-quizgen-wizard .hlai-diff-btn.is-hard.is-active {
    border-color: var(--hlai-danger);
    background: var(--hlai-danger);
    box-shadow: var(--hlai-shadow-sm);
}

.hlai-quizgen-wizard .hlai-diff-btn.is-hard:hover {
    border-color: var(--hlai-danger);
    background: var(--hlai-danger-light);
}

.hlai-quizgen-wizard .hlai-diff-btn.is-hard:hover span {
    color: var(--hlai-danger);
}

.hlai-quizgen-wizard .hlai-diff-btn.is-active span {
    color: white;
}

/* Section styling - polished cards */
.hlai-quizgen-wizard .hlai-section {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 16px;
    padding: 1.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -2px rgba(0, 0, 0, 0.05);
    transition: box-shadow 0.2s ease;
}

.hlai-quizgen-wizard .hlai-section:hover {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
}

/* Section header with icon */
.hlai-quizgen-wizard .hlai-section-header {
    display: flex;
    align-items: flex-start;
    gap: 0.875rem;
    margin-bottom: 1.25rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #f1f5f9;
}

.hlai-quizgen-wizard .hlai-section-icon {
    font-size: 1.5rem;
    line-height: 1;
    flex-shrink: 0;
}

.hlai-quizgen-wizard .hlai-section-title-wrap {
    flex: 1;
}

.hlai-quizgen-wizard .hlai-section-label {
    font-size: 1rem;
    font-weight: 700;
    color: #0f172a !important;
    margin: 0 0 0.25rem 0;
    letter-spacing: -0.02em;
}

.hlai-quizgen-wizard .hlai-section-hint {
    font-size: 0.8rem;
    color: #64748b !important;
    margin: 0;
    font-weight: 400;
}

/* Question types list - visual design */
.hlai-quizgen-wizard .hlai-qtype-list {
    display: flex;
    flex-direction: column;
    gap: 0;
    padding: 0;
}

.hlai-quizgen-wizard .hlai-qtype-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 0.875rem;
    margin: 0 -0.875rem;
    border-radius: 10px;
    transition: all 0.15s ease;
}

.hlai-quizgen-wizard .hlai-qtype-row:hover:not(.hlai-qtype-total) {
    background: #f8fafc;
}

.hlai-quizgen-wizard .hlai-qtype-row:not(:last-of-type):not(.hlai-qtype-total) {
    border-bottom: 1px solid #f1f5f9;
}

/* Question type left side with icon */
.hlai-quizgen-wizard .hlai-qtype-left {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.hlai-quizgen-wizard .hlai-qtype-icon {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    font-size: 0.9rem;
    flex-shrink: 0;
}

/* FORCE all question type labels */
.hlai-quizgen-wizard .hlai-qtype-list .hlai-qtype-row .hlai-qtype-name,
.hlai-quizgen-wizard .hlai-qtype-list .hlai-qtype-name,
.hlai-quizgen-wizard .hlai-qtype-row span.hlai-qtype-name,
.hlai-quizgen-wizard .hlai-section .hlai-qtype-row span,
.hlai-quizgen-wizard .hlai-qtype-list span.hlai-qtype-name,
.hlai-quizgen-wizard .hlai-section span.hlai-qtype-name,
.hlai-quizgen-wizard span.hlai-qtype-name {
    font-size: 0.9rem !important;
    color: #1e293b !important;
    font-weight: 500 !important;
    text-decoration: none !important;
    background: none !important;
    border: none !important;
}

.hlai-quizgen-wizard .hlai-qtype-input {
    width: 60px;
    height: 40px;
    padding: 0;
    text-align: center;
    font-size: 1rem;
    font-weight: 700;
    color: #64748b;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    background: #ffffff;
    transition: all 0.2s ease;
    -moz-appearance: textfield;
}

.hlai-quizgen-wizard .hlai-qtype-input::-webkit-outer-spin-button,
.hlai-quizgen-wizard .hlai-qtype-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.hlai-quizgen-wizard .hlai-qtype-input:focus {
    outline: none;
    border-color: #2563eb;
    background: #ffffff;
    box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.18);
}

/* Highlight input when value > 0 */
.hlai-quizgen-wizard .hlai-qtype-input.has-value {
    border-color: #2563eb;
    background: #e0f2fe;
    color: #0f172a;
}

/* Total row - polished styling */
.hlai-quizgen-wizard .hlai-qtype-total {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border-radius: 12px;
    margin: 1rem -0.875rem 0 -0.875rem;
    padding: 1rem 1.25rem !important;
    border: 1px solid #e2e8f0;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.hlai-quizgen-wizard .hlai-qtype-total .hlai-qtype-name,
.hlai-quizgen-wizard .hlai-qtype-row.hlai-qtype-total span.hlai-qtype-name,
.hlai-quizgen-wizard .hlai-qtype-total span {
    font-weight: 700 !important;
    color: #334155 !important;
    font-size: 0.95rem !important;
}

.hlai-quizgen-wizard .hlai-qtype-total-val {
    font-size: 0.95rem;
    font-weight: 700;
    color: #dc2626;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border: 1px solid #fecaca;
    min-width: 70px;
    text-align: center;
}

.hlai-quizgen-wizard .hlai-qtype-total-val.is-valid {
    color: #059669 !important;
    background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
    border-color: #a7f3d0;
}

.hlai-quizgen-wizard .hlai-qtype-total-val.is-warning {
    color: #d97706 !important;
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    border-color: #fcd34d;
}

.hlai-quizgen-wizard .hlai-qtype-total-val.is-error {
    color: #dc2626 !important;
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-color: #fecaca;
}

/* Bloom's list - colorful visual sliders */
.hlai-quizgen-wizard .hlai-blooms-list {
    display: flex;
    flex-direction: column;
    gap: 0;
    padding: 0;
}

.hlai-quizgen-wizard .hlai-blooms-item {
    display: grid;
    grid-template-columns: 100px 1fr 50px;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem 0.875rem;
    margin: 0 -0.875rem;
    border-radius: 10px;
    transition: all 0.15s ease;
}

.hlai-quizgen-wizard .hlai-blooms-item:hover:not(.hlai-blooms-total-row) {
    background: #f8fafc;
}

.hlai-quizgen-wizard .hlai-blooms-item:not(:last-of-type):not(.hlai-blooms-total-row) {
    border-bottom: 1px solid #f1f5f9;
}

/* Bloom's label with color dot */
.hlai-quizgen-wizard .hlai-blooms-label-wrap {
    display: flex;
    align-items: center;
    gap: 0.625rem;
}

.hlai-quizgen-wizard .hlai-blooms-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    flex-shrink: 0;
}

/* FORCE all Bloom's labels */
.hlai-quizgen-wizard .hlai-blooms-list .hlai-blooms-name,
.hlai-quizgen-wizard .hlai-blooms-item .hlai-blooms-name,
.hlai-quizgen-wizard .hlai-blooms-item span.hlai-blooms-name,
.hlai-quizgen-wizard .hlai-section .hlai-blooms-name,
.hlai-quizgen-wizard span.hlai-blooms-name {
    font-size: 0.875rem !important;
    font-weight: 500 !important;
    color: #1e293b !important;
    flex-shrink: 0;
    background: none !important;
    border: none !important;
    text-decoration: none !important;
}

.hlai-quizgen-wizard .hlai-blooms-control {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 0;
}

.hlai-quizgen-wizard .hlai-slider {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 6px;
    border-radius: 4px;
    background: #e2e8f0;
    outline: none;
    cursor: pointer;
}

.hlai-quizgen-wizard .hlai-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--slider-color, #2563eb);
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    transition: all 0.15s ease;
    border: 2.5px solid white;
}

.hlai-quizgen-wizard .hlai-slider::-webkit-slider-thumb:hover {
    transform: scale(1.15);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
}

.hlai-quizgen-wizard .hlai-slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--slider-color, #2563eb);
    border: 2.5px solid white;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

.hlai-quizgen-wizard .hlai-slider-val {
    text-align: right;
    font-size: 0.9rem;
    font-weight: 700;
}

/* Bloom's Total row - polished styling */
.hlai-quizgen-wizard .hlai-blooms-total-row {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border-radius: 12px;
    margin: 1rem -0.875rem 0 -0.875rem;
    padding: 1rem 1.25rem !important;
    border: 1px solid #e2e8f0;
    display: grid;
    grid-template-columns: 100px 1fr;
    align-items: center;
}

.hlai-quizgen-wizard .hlai-blooms-total-row .hlai-blooms-name,
.hlai-quizgen-wizard .hlai-blooms-total-row span {
    font-weight: 700 !important;
    color: #334155 !important;
    font-size: 0.95rem !important;
}

.hlai-quizgen-wizard .hlai-blooms-total-val {
    font-size: 0.95rem;
    font-weight: 700;
    color: #059669;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
    border: 1px solid #a7f3d0;
    display: inline-block;
}

/* ==========================================================================
   MINIMAL BULMA OVERRIDES (NON-STEP-4)
   ========================================================================== */

/* Wrapper pages: keep clean, minimal surfaces */
.hlai-quizgen-wrapper .box,
.hlai-quizgen-wrapper .panel,
.hlai-quizgen-wrapper .card {
    box-shadow: none;
    border: 1px solid var(--hlai-gray-200);
}

.hlai-quizgen-wrapper .button {
    box-shadow: none;
}

.hlai-quizgen-wrapper .button:hover {
    transform: none;
    box-shadow: none;
}

/* Wizard steps (excluding Step 4) */
.hlai-quizgen-wizard.hlai-step-1 .box,
.hlai-quizgen-wizard.hlai-step-2 .box,
.hlai-quizgen-wizard.hlai-step-3 .box,
.hlai-quizgen-wizard.hlai-step-5 .box,
.hlai-quizgen-wizard.hlai-step-progress .box {
    box-shadow: none;
    border: 1px solid var(--hlai-gray-200);
}

.hlai-quizgen-wizard.hlai-step-1 .panel,
.hlai-quizgen-wizard.hlai-step-2 .panel,
.hlai-quizgen-wizard.hlai-step-3 .panel,
.hlai-quizgen-wizard.hlai-step-5 .panel,
.hlai-quizgen-wizard.hlai-step-progress .panel {
    box-shadow: none;
    border: 1px solid var(--hlai-gray-200);
}

.hlai-quizgen-wizard.hlai-step-1 .panel-heading,
.hlai-quizgen-wizard.hlai-step-2 .panel-heading,
.hlai-quizgen-wizard.hlai-step-3 .panel-heading,
.hlai-quizgen-wizard.hlai-step-5 .panel-heading,
.hlai-quizgen-wizard.hlai-step-progress .panel-heading {
    background: var(--hlai-gray-50);
}

.hlai-quizgen-wizard.hlai-step-1 .button,
.hlai-quizgen-wizard.hlai-step-2 .button,
.hlai-quizgen-wizard.hlai-step-3 .button,
.hlai-quizgen-wizard.hlai-step-5 .button,
.hlai-quizgen-wizard.hlai-step-progress .button {
    box-shadow: none;
}

.hlai-quizgen-wizard.hlai-step-1 .button:hover,
.hlai-quizgen-wizard.hlai-step-2 .button:hover,
.hlai-quizgen-wizard.hlai-step-3 .button:hover,
.hlai-quizgen-wizard.hlai-step-5 .button:hover,
.hlai-quizgen-wizard.hlai-step-progress .button:hover {
    transform: none;
    box-shadow: none;
}

/* Step 1 source cards */
.hlai-quizgen-wizard.hlai-step-1 .source-card {
    border: 1px solid var(--hlai-gray-200);
    box-shadow: none;
}

.hlai-quizgen-wizard.hlai-step-1 .source-card:hover {
    transform: none;
    border-color: var(--hlai-gray-300);
}

.hlai-quizgen-wizard.hlai-step-1 .source-card:has(input:checked) {
    border-color: var(--hlai-primary);
    background-color: var(--hlai-primary-light);
    box-shadow: none;
}

/* Step 3 minimal panels */
.hlai-quizgen-wizard.hlai-step-3 .hlai-config-card {
    background: #fff;
    border: 1px solid var(--hlai-gray-200);
    box-shadow: none;
}

.hlai-quizgen-wizard.hlai-step-3 .hlai-qtype-list,
.hlai-quizgen-wizard.hlai-step-3 .hlai-blooms-list {
    background: transparent;
    border: none;
    box-shadow: none;
}

.hlai-quizgen-wizard.hlai-step-3 .hlai-config-card:hover {
    box-shadow: none;
}

.hlai-quizgen-wizard.hlai-step-3 .hlai-topics-info-bar {
    background: var(--hlai-gray-50);
    border-color: var(--hlai-gray-200);
    border-left-color: var(--hlai-primary);
}

.hlai-quizgen-wizard.hlai-step-3 .hlai-qtype-row {
    border-bottom: none;
}

/* Difficulty button semantic colors handled earlier with .is-easy/.is-balanced/.is-hard classes */

/* Analytics + Logs helpers */
.hlai-quizgen-wrapper .hlai-simple-list {
    list-style: none;
    margin: 0;
    padding: 0;
}

.hlai-quizgen-wrapper .hlai-simple-list li {
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--hlai-gray-200);
}

.hlai-quizgen-wrapper .hlai-simple-list li:last-child {
    border-bottom: none;
}

.hlai-quizgen-wrapper .hlai-log-details {
    background: var(--hlai-gray-50);
    border: 1px solid var(--hlai-gray-200);
    padding: 0.75rem;
    font-size: 0.75rem;
    max-height: 220px;
    overflow: auto;
    white-space: pre-wrap;
}

.hlai-quizgen-wrapper .hlai-log-file {
    background: #1f2937;
    color: #f9fafb;
    padding: 0.75rem;
    font-size: 0.75rem;
    max-height: 600px;
    overflow: auto;
    white-space: pre-wrap;
    border-radius: var(--hlai-radius-md);
}

.hlai-quizgen-wrapper .hlai-nowrap {
    white-space: nowrap;
}

/* ==========================================================================
   IK SHA THEME ALIGNMENT (QuizGen)
   ========================================================================== */

.hlai-quizgen-wrapper.local-hlai-iksha,
.hlai-quizgen-wizard.local-hlai-iksha {
    --iksha-primary: var(--hlai-primary);
    --iksha-primary-light: var(--hlai-primary-light);
    --iksha-primary-dark: var(--hlai-primary-dark);

    --iksha-success: var(--hlai-success);
    --iksha-success-light: var(--hlai-success-light);
    --iksha-success-dark: #059669;

    --iksha-warning: var(--hlai-warning);
    --iksha-warning-light: var(--hlai-warning-light);
    --iksha-warning-dark: #D97706;

    --iksha-danger: var(--hlai-danger);
    --iksha-danger-light: var(--hlai-danger-light);
    --iksha-danger-dark: #DC2626;

    --iksha-info: var(--hlai-info);
    --iksha-info-light: var(--hlai-info-light);
    --iksha-info-dark: #0891B2;

    --iksha-gray-50: var(--hlai-gray-50);
    --iksha-gray-100: var(--hlai-gray-100);
    --iksha-gray-200: var(--hlai-gray-200);
    --iksha-gray-300: var(--hlai-gray-300);
    --iksha-gray-400: var(--hlai-gray-400);
    --iksha-gray-500: var(--hlai-gray-500);
    --iksha-gray-600: var(--hlai-gray-600);
    --iksha-gray-700: var(--hlai-gray-700);
    --iksha-gray-800: var(--hlai-gray-800);
    --iksha-gray-900: var(--hlai-gray-900);

    --iksha-font-family: var(--hlai-font-sans);
    --iksha-font-mono: var(--hlai-font-mono);

    --iksha-text-xs: 0.75rem;
    --iksha-text-sm: 0.8125rem;
    --iksha-text-base: 0.875rem;
    --iksha-text-lg: 1rem;
    --iksha-text-xl: 1.125rem;
    --iksha-text-2xl: 1.5rem;
    --iksha-text-3xl: 1.875rem;
    --iksha-text-4xl: 2.25rem;

    --iksha-space-1: var(--hlai-space-1);
    --iksha-space-2: var(--hlai-space-2);
    --iksha-space-3: var(--hlai-space-3);
    --iksha-space-4: var(--hlai-space-4);
    --iksha-space-5: var(--hlai-space-5);
    --iksha-space-6: var(--hlai-space-6);
    --iksha-space-8: 2rem;

    --iksha-radius-sm: var(--hlai-radius-sm);
    --iksha-radius-md: var(--hlai-radius-md);
    --iksha-radius-lg: var(--hlai-radius-lg);
    --iksha-radius-xl: var(--hlai-radius-xl);
    --iksha-radius-full: var(--hlai-radius-full);

    --iksha-shadow-sm: var(--hlai-shadow-xs);
    --iksha-shadow-md: var(--hlai-shadow-sm);
    --iksha-shadow-lg: var(--hlai-shadow-md);

    --iksha-transition-fast: var(--hlai-transition-fast);
    --iksha-transition-base: 200ms ease;
    --iksha-transition-slow: 300ms ease;
}

.hlai-quizgen-wrapper.local-hlai-iksha,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) {
    color: var(--iksha-gray-700);
    font-family: var(--iksha-font-family);
    font-size: var(--iksha-text-base);
}

.hlai-quizgen-wrapper.local-hlai-iksha h1,
.hlai-quizgen-wrapper.local-hlai-iksha h2,
.hlai-quizgen-wrapper.local-hlai-iksha h3,
.hlai-quizgen-wrapper.local-hlai-iksha h4,
.hlai-quizgen-wrapper.local-hlai-iksha h5,
.hlai-quizgen-wrapper.local-hlai-iksha h6,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) h1,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) h2,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) h3,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) h4,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) h5,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) h6 {
    color: var(--iksha-gray-900);
    font-weight: 600;
}

.hlai-quizgen-wrapper.local-hlai-iksha a,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) a {
    color: var(--iksha-primary);
    text-decoration: none;
}

.hlai-quizgen-wrapper.local-hlai-iksha a:hover,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) a:hover {
    color: var(--iksha-primary-dark);
}

.hlai-quizgen-wrapper.local-hlai-iksha .button,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .button {
    border: 1px solid var(--iksha-gray-200);
    border-radius: var(--iksha-radius-md);
    color: var(--iksha-gray-700);
    font-size: var(--iksha-text-sm);
    box-shadow: none;
    transition: all var(--iksha-transition-fast);
}

.hlai-quizgen-wrapper.local-hlai-iksha .button:hover,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .button:hover {
    border-color: var(--iksha-gray-300);
    color: var(--iksha-gray-800);
}

.hlai-quizgen-wrapper.local-hlai-iksha .button.is-primary,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .button.is-primary {
    background: var(--iksha-primary);
    border-color: var(--iksha-primary);
    color: #fff;
}

.hlai-quizgen-wrapper.local-hlai-iksha .button.is-primary:hover,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .button.is-primary:hover {
    background: var(--iksha-primary-dark);
    border-color: var(--iksha-primary-dark);
}

.hlai-quizgen-wrapper.local-hlai-iksha .button.is-light,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .button.is-light {
    background: var(--iksha-gray-100);
    border-color: var(--iksha-gray-200);
    color: var(--iksha-gray-700);
}

.hlai-quizgen-wrapper.local-hlai-iksha .buttons,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .buttons {
    gap: var(--iksha-space-2);
}

.hlai-quizgen-wrapper.local-hlai-iksha .box,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .box,
.hlai-quizgen-wrapper.local-hlai-iksha .panel,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .panel {
    border: 1px solid var(--iksha-gray-200);
    border-radius: var(--iksha-radius-lg);
    box-shadow: none;
}

.hlai-quizgen-wrapper.local-hlai-iksha .panel-heading,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .panel-heading {
    background: var(--iksha-gray-50);
    border-bottom: 1px solid var(--iksha-gray-200);
    color: var(--iksha-gray-700);
}

.hlai-quizgen-wrapper.local-hlai-iksha .notification.is-light,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .notification.is-light {
    border: 1px solid var(--iksha-gray-200);
}

.hlai-quizgen-wrapper.local-hlai-iksha .tag,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .tag {
    border-radius: var(--iksha-radius-full);
    font-size: var(--iksha-text-xs);
}

.hlai-quizgen-wrapper.local-hlai-iksha .table th,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .table th {
    background: var(--iksha-gray-50);
    color: var(--iksha-gray-500);
    font-size: var(--iksha-text-xs);
    border-bottom: 1px solid var(--iksha-gray-200);
}

.hlai-quizgen-wrapper.local-hlai-iksha .table td,
.hlai-quizgen-wizard.local-hlai-iksha:not(.hlai-step-4) .table td {
    border-bottom: 1px solid var(--iksha-gray-100);
    color: var(--iksha-gray-700);
}
.hlai-quizgen-wrapper.hlai-step-1 .hlai-steps::after,
.hlai-quizgen-wizard.hlai-step-1 .hlai-steps::after {
    width: 0;
}

.hlai-quizgen-wrapper.hlai-step-2 .hlai-steps::after,
.hlai-quizgen-wizard.hlai-step-2 .hlai-steps::after {
    width: calc((100% - 44px) * 0.25);
}

.hlai-quizgen-wrapper.hlai-step-3 .hlai-steps::after,
.hlai-quizgen-wizard.hlai-step-3 .hlai-steps::after {
    width: calc((100% - 44px) * 0.5);
}

.hlai-quizgen-wrapper.hlai-step-4 .hlai-steps::after,
.hlai-quizgen-wizard.hlai-step-4 .hlai-steps::after {
    width: calc((100% - 44px) * 0.75);
}

.hlai-quizgen-wrapper.hlai-step-5 .hlai-steps::after,
.hlai-quizgen-wizard.hlai-step-5 .hlai-steps::after {
    width: calc(100% - 44px);
}
/* ==========================================================================
   GLOBAL ICON ALIGNMENT FIX - Ensures all icons align vertically with text
   Covers i.fa (FA4), i.fas, i.far (FA5)
   ========================================================================== */

/* Fix for all title/heading icons */
.hlai-quizgen-wrapper .title i.fa,
.hlai-quizgen-wrapper .title i.fas,
.hlai-quizgen-wrapper .title i.far,
.hlai-quizgen-wrapper h1 i.fa, .hlai-quizgen-wrapper h1 i.fas, .hlai-quizgen-wrapper h1 i.far,
.hlai-quizgen-wrapper h2 i.fa, .hlai-quizgen-wrapper h2 i.fas, .hlai-quizgen-wrapper h2 i.far,
.hlai-quizgen-wrapper h3 i.fa, .hlai-quizgen-wrapper h3 i.fas, .hlai-quizgen-wrapper h3 i.far,
.hlai-quizgen-wrapper h4 i.fa, .hlai-quizgen-wrapper h4 i.fas, .hlai-quizgen-wrapper h4 i.far,
.hlai-quizgen-wrapper h5 i.fa, .hlai-quizgen-wrapper h5 i.fas, .hlai-quizgen-wrapper h5 i.far,
.hlai-quizgen-wrapper h6 i.fa, .hlai-quizgen-wrapper h6 i.fas, .hlai-quizgen-wrapper h6 i.far,
.hlai-quizgen-wrapper .panel-heading i.fa,
.hlai-quizgen-wrapper .panel-heading i.fas,
.hlai-quizgen-wrapper .panel-heading i.far {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    vertical-align: middle !important;
    line-height: 1 !important;
}

/* Fix for icons in paragraphs and divs */
.hlai-quizgen-wrapper p i.fa,
.hlai-quizgen-wrapper p i.fas,
.hlai-quizgen-wrapper p i.far,
.hlai-quizgen-wrapper div i.fa,
.hlai-quizgen-wrapper div i.fas,
.hlai-quizgen-wrapper div i.far,
.hlai-quizgen-wrapper span i.fa,
.hlai-quizgen-wrapper span i.fas,
.hlai-quizgen-wrapper span i.far {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    vertical-align: middle !important;
}

/* Fix for icons in lists */
.hlai-quizgen-wrapper li i.fa,
.hlai-quizgen-wrapper li i.fas,
.hlai-quizgen-wrapper li i.far {
    display: inline-flex !important;
    align-items: center !important;
    vertical-align: middle !important;
}

/* Fix for icons in buttons and links */
.hlai-quizgen-wrapper button i.fa,
.hlai-quizgen-wrapper button i.fas,
.hlai-quizgen-wrapper button i.far,
.hlai-quizgen-wrapper a i.fa,
.hlai-quizgen-wrapper a i.fas,
.hlai-quizgen-wrapper a i.far,
.hlai-quizgen-wrapper .button i.fa,
.hlai-quizgen-wrapper .button i.fas,
.hlai-quizgen-wrapper .button i.far {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    vertical-align: middle !important;
}

/* Fix for stat card icons */
.hlai-quizgen-wrapper .stat-card i.fa,
.hlai-quizgen-wrapper .stat-card i.fas,
.hlai-quizgen-wrapper .stat-card i.far,
.hlai-quizgen-wrapper .box i.fa,
.hlai-quizgen-wrapper .box i.fas,
.hlai-quizgen-wrapper .box i.far {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    vertical-align: middle !important;
}

/* Fix for panel icons */
.hlai-quizgen-wrapper .panel-icon {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
}

/* Ensure parent containers support flexbox alignment */
.hlai-quizgen-wrapper .level-left,
.hlai-quizgen-wrapper .level-right,
.hlai-quizgen-wrapper .level-item {
    display: flex !important;
    align-items: center !important;
}

/* Fix for source icons in wizard */
.hlai-quizgen-wrapper .hlai-source-icon,
.hlai-quizgen-wrapper .hlai-activities-icon,
.hlai-quizgen-wrapper .hlai-qtype-icon,
.hlai-quizgen-wrapper .hlai-section-icon {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
}

/* Fix for topic cards */
.hlai-quizgen-wrapper .hlai-topic-emoji,
.hlai-quizgen-wrapper .hlai-topic-content {
    display: flex !important;
    align-items: center !important;
}

/* Ensure Bulma columns with icons align properly */
.hlai-quizgen-wrapper .column i.fa,
.hlai-quizgen-wrapper .column i.fas,
.hlai-quizgen-wrapper .column i.far {
    vertical-align: middle !important;
}

/* Fix for notification/message boxes */
.hlai-quizgen-wrapper .notification i.fa,
.hlai-quizgen-wrapper .notification i.fas,
.hlai-quizgen-wrapper .notification i.far,
.hlai-quizgen-wrapper .message i.fa,
.hlai-quizgen-wrapper .message i.fas,
.hlai-quizgen-wrapper .message i.far {
    display: inline-flex !important;
    align-items: center !important;
    vertical-align: middle !important;
}

/* Analytics dashboard specific fixes */
.hlai-quizgen-wrapper .hlai-insight-item i.fa,
.hlai-quizgen-wrapper .hlai-insight-item i.fas,
.hlai-quizgen-wrapper .hlai-insight-item i.far {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    vertical-align: top !important;
    margin-top: 0.125rem !important;
}

/* Ensure section headers align properly */
.hlai-quizgen-wrapper .hlai-section-header {
    display: flex !important;
    align-items: center !important;
}

.hlai-quizgen-wrapper .hlai-section-title-wrap {
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
}

/* Fix for badges with icons */
.hlai-quizgen-wrapper .badge i.fa,
.hlai-quizgen-wrapper .badge i.fas,
.hlai-quizgen-wrapper .badge i.far,
.hlai-quizgen-wrapper .tag i.fa,
.hlai-quizgen-wrapper .tag i.fas,
.hlai-quizgen-wrapper .tag i.far {
    display: inline-flex !important;
    align-items: center !important;
    vertical-align: middle !important;
}

/* Fix for label icons */
.hlai-quizgen-wrapper label i.fa,
.hlai-quizgen-wrapper label i.fas,
.hlai-quizgen-wrapper label i.far {
    display: inline-flex !important;
    align-items: center !important;
    vertical-align: middle !important;
    margin-right: 0.5rem !important;
}

/* ==========================================================================
   LAYOUT AND FOOTER POSITIONING (Following hlai_grading pattern)
   ========================================================================== */

/* Base layout - avoid z-index manipulation to not break Moodle navigation */
.hlai-quizgen-wrapper,
.hlai-quizgen-wizard,
.local-hlai-iksha {
    position: relative;
}

.hlai-quizgen-wrapper::after,
.hlai-quizgen-wizard::after,
.local-hlai-iksha::after {
    content: '';
    display: block;
    clear: both;
}

/* Ensure footer is properly positioned below content */
body.path-local-hlai_quizgen #page-footer {
    clear: both;
    margin-top: 1.5rem;
}

body.path-local-hlai_quizgen #page-footer .performanceinfo,
body.path-local-hlai_quizgen #page-footer .purgecaches {
    margin-top: 0.75rem;
}

/* Add bottom spacing to main content areas */
.hlai-quizgen-wizard .wizard-step-content {
    margin-bottom: 2rem;
}

/* Wizard navigation buttons */
.hlai-quizgen-wizard .hlai-wizard-actions,
.hlai-quizgen-wrapper .wizard-actions {
    margin-bottom: 2rem;
    background: white;
    padding: 1rem;
    border-radius: 8px;
}

/* Topic cards with white background */
.hlai-quizgen-wizard .hlai-topic-card,
.hlai-quizgen-wizard .panel-block,
.hlai-quizgen-wizard .topic-item {
    background: white;
}

/* ==========================================================================
   Step 5 - Deploy Questions Alignment Fixes
   ========================================================================== */

/* Step 5 deployment options alignment */
.hlai-quizgen-wizard.hlai-step-5 .field.mb-4 label.radio {
    display: flex !important;
    align-items: flex-start !important;
    gap: 0.75rem !important;
}

.hlai-quizgen-wizard.hlai-step-5 .field.mb-4 label.radio input[type="radio"] {
    margin-top: 3px !important;
    flex-shrink: 0 !important;
    width: 18px !important;
    height: 18px !important;
    accent-color: #3B82F6 !important;
}

.hlai-quizgen-wizard.hlai-step-5 .field.mb-4 label.radio > div {
    flex: 1 !important;
}

.hlai-quizgen-wizard.hlai-step-5 .field.mb-4 label.radio strong {
    display: block !important;
    font-size: 0.95rem !important;
    color: var(--hlai-gray-800) !important;
    margin-bottom: 0.25rem !important;
}

.hlai-quizgen-wizard.hlai-step-5 .field.mb-4 label.radio p.help {
    font-size: 0.85rem !important;
    color: var(--hlai-gray-500) !important;
    line-height: 1.4 !important;
}

/* Step 5 input fields alignment */
.hlai-quizgen-wizard.hlai-step-5 .ml-5 {
    margin-left: 2.5rem !important;
    padding-left: 0.5rem !important;
    border-left: 2px solid var(--hlai-gray-200) !important;
}

.hlai-quizgen-wizard.hlai-step-5 .ml-5 .label.is-small {
    font-weight: 600 !important;
    color: var(--hlai-gray-700) !important;
    margin-bottom: 0.5rem !important;
}

.hlai-quizgen-wizard.hlai-step-5 .ml-5 .input {
    border-radius: 8px !important;
    border: 1px solid var(--hlai-gray-300) !important;
    padding: 0.625rem 0.875rem !important;
    font-size: 0.9rem !important;
}

.hlai-quizgen-wizard.hlai-step-5 .ml-5 .input:focus {
    border-color: #3B82F6 !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15) !important;
}

/* Step 5 section heading icon alignment */
.hlai-quizgen-wizard.hlai-step-5 h4.title i.fas {
    margin-right: 0.5rem !important;
    vertical-align: middle !important;
}

/* Step 5 navigation buttons alignment */
.hlai-quizgen-wizard.hlai-step-5 .level.mt-5 {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    margin-top: 2rem !important;
    padding-top: 1.5rem !important;
    border-top: 1px solid var(--hlai-gray-200) !important;
}

.hlai-quizgen-wizard.hlai-step-5 .level.mt-5 .level-left,
.hlai-quizgen-wizard.hlai-step-5 .level.mt-5 .level-right {
    display: flex !important;
    align-items: center !important;
}

/* Deploy button styling - make it green for success action */
.hlai-quizgen-wizard.hlai-step-5 .button.is-success {
    background: linear-gradient(145deg, #10B981 0%, #059669 100%) !important;
    box-shadow: 0 4px 14px rgba(16, 185, 129, 0.35) !important;
}

.hlai-quizgen-wizard.hlai-step-5 .button.is-success:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.45) !important;
}

/* ==========================================================================
   STEP 4 - FILTER/TOOLBAR SELECT DROPDOWNS FIX
   Fix for "half-half" dropdown appearance
   ========================================================================== */

/* Base select wrapper styling */
.hlai-quizgen-wizard .select,
.hlai-quizgen-wrapper .select {
    display: inline-block;
    position: relative;
    vertical-align: top;
    height: auto;
}

.hlai-quizgen-wizard .select:not(.is-multiple):not(.is-loading)::after,
.hlai-quizgen-wrapper .select:not(.is-multiple):not(.is-loading)::after {
    border: 2px solid var(--hlai-primary, #3B82F6);
    border-right: 0;
    border-top: 0;
    content: " ";
    display: block;
    height: 0.5em;
    pointer-events: none;
    position: absolute;
    transform: rotate(-45deg);
    transform-origin: center;
    width: 0.5em;
    right: 1rem;
    top: 50%;
    margin-top: -0.375em;
    z-index: 4;
}

/* Select element inside wrapper */
.hlai-quizgen-wizard .select select,
.hlai-quizgen-wrapper .select select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-color: #ffffff;
    border: 1px solid var(--hlai-gray-300, #CBD5E1);
    border-radius: 8px;
    color: var(--hlai-gray-800, #1E293B);
    cursor: pointer;
    display: block;
    font-size: 0.875rem;
    height: 2.5rem;
    line-height: 1.5;
    padding: 0.5rem 2.5rem 0.5rem 0.875rem;
    position: relative;
    width: 100%;
    min-width: 120px;
    max-width: 100%;
    outline: none;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

/* Small select variant */
.hlai-quizgen-wizard .select.is-small select,
.hlai-quizgen-wrapper .select.is-small select {
    font-size: 0.8125rem;
    height: 2rem;
    padding: 0.25rem 2rem 0.25rem 0.625rem;
    border-radius: 6px;
}

.hlai-quizgen-wizard .select.is-small:not(.is-multiple):not(.is-loading)::after,
.hlai-quizgen-wrapper .select.is-small:not(.is-multiple):not(.is-loading)::after {
    right: 0.75rem;
    height: 0.4em;
    width: 0.4em;
}

/* Focus state */
.hlai-quizgen-wizard .select select:focus,
.hlai-quizgen-wrapper .select select:focus {
    border-color: var(--hlai-primary, #3B82F6);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
    outline: none;
}

/* Hover state */
.hlai-quizgen-wizard .select select:hover,
.hlai-quizgen-wrapper .select select:hover {
    border-color: var(--hlai-gray-400, #94A3B8);
}

/* Level toolbar - filter row styling */
.hlai-quizgen-wizard .level .level-item .select,
.hlai-quizgen-wrapper .level .level-item .select {
    width: auto;
    min-width: 130px;
}

.hlai-quizgen-wizard .level .level-right .level-item .select select,
.hlai-quizgen-wrapper .level .level-right .level-item .select select {
    min-width: 130px;
}

/* Field addons with select (Bulk Action + Apply button) */
.hlai-quizgen-wizard .field.has-addons .control .select select,
.hlai-quizgen-wrapper .field.has-addons .control .select select {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.hlai-quizgen-wizard .field.has-addons .control:last-child .button,
.hlai-quizgen-wrapper .field.has-addons .control:last-child .button {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

/* Ensure consistent height in addons */
.hlai-quizgen-wizard .field.has-addons,
.hlai-quizgen-wrapper .field.has-addons {
    display: flex;
    align-items: stretch;
}

.hlai-quizgen-wizard .field.has-addons .control,
.hlai-quizgen-wrapper .field.has-addons .control {
    display: flex;
    align-items: stretch;
}

.hlai-quizgen-wizard .field.has-addons .control .select,
.hlai-quizgen-wrapper .field.has-addons .control .select {
    display: flex;
    height: 100%;
}

.hlai-quizgen-wizard .field.has-addons .control .select select,
.hlai-quizgen-wrapper .field.has-addons .control .select select {
    height: 100%;
}

/* Override Moodle Boost theme interference with selects */
.path-local-hlai_quizgen .select select,
.hlai-quizgen-wizard .select select,
.hlai-quizgen-wrapper .select select {
    background-image: none !important;
    padding-right: 2.5rem !important;
}

/* Fix for fullwidth select */
.hlai-quizgen-wizard .select.is-fullwidth,
.hlai-quizgen-wrapper .select.is-fullwidth {
    width: 100%;
}

.hlai-quizgen-wizard .select.is-fullwidth select,
.hlai-quizgen-wrapper .select.is-fullwidth select {
    width: 100%;
}

/* Option styling */
.hlai-quizgen-wizard .select select option,
.hlai-quizgen-wrapper .select select option {
    padding: 0.5rem;
    background: white;
    color: var(--hlai-gray-800, #1E293B);
}

/* Disabled state */
.hlai-quizgen-wizard .select select:disabled,
.hlai-quizgen-wrapper .select select:disabled {
    background-color: var(--hlai-gray-100, #F1F5F9);
    border-color: var(--hlai-gray-200, #E2E8F0);
    color: var(--hlai-gray-400, #94A3B8);
    cursor: not-allowed;
}

/* Step 4 specific toolbar styling */
.hlai-quizgen-wizard.hlai-step-4 .level {
    background: var(--hlai-gray-50, #F8FAFC);
    border-radius: 10px;
    padding: 0.875rem 1rem;
    margin-bottom: 1.5rem;
    border: 1px solid var(--hlai-gray-200, #E2E8F0);
    flex-wrap: wrap;
    gap: 0.75rem;
}

.hlai-quizgen-wizard.hlai-step-4 .level .level-left,
.hlai-quizgen-wizard.hlai-step-4 .level .level-right {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.hlai-quizgen-wizard.hlai-step-4 .level .level-item {
    margin: 0 !important;
}

/* Ensure proper spacing between filter dropdowns */
.hlai-quizgen-wizard.hlai-step-4 .level-right .level-item + .level-item {
    margin-left: 0.5rem !important;
}

/* ==========================================================================
   Admin Dashboard Styles
   Extracted from admin_dashboard.php inline styles
   ========================================================================== */

/* Iksha-inspired Clean Design System */
.hlai-quizgen-wrapper {
    --admin-primary: #3B82F6;
    --admin-primary-light: #EFF6FF;
    --admin-success: #10B981;
    --admin-success-light: #ECFDF5;
    --admin-warning: #F59E0B;
    --admin-warning-light: #FFFBEB;
    --admin-danger: #EF4444;
    --admin-danger-light: #FEF2F2;
    --admin-info: #06B6D4;
    --admin-info-light: #ECFEFF;
    --admin-gray-50: #F8FAFC;
    --admin-gray-100: #F1F5F9;
    --admin-gray-200: #E2E8F0;
    --admin-gray-700: #334155;
    --admin-gray-800: #1E293B;
}

.hlai-quizgen-wrapper .admin-stat-card {
    background: #fff;
    border: 1px solid var(--admin-gray-200);
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    transition: all 0.2s ease;
    height: 100%;
}

.hlai-quizgen-wrapper .admin-stat-card:hover {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    border-color: var(--admin-gray-200);
}

.hlai-quizgen-wrapper .stat-icon-container {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    border-radius: 8px;
    margin-bottom: 0.75rem;
}

.hlai-quizgen-wrapper .stat-icon-container.is-primary {
    background: var(--admin-primary-light);
    color: var(--admin-primary);
}

.hlai-quizgen-wrapper .stat-icon-container.is-success {
    background: var(--admin-success-light);
    color: var(--admin-success);
}

.hlai-quizgen-wrapper .stat-icon-container.is-warning {
    background: var(--admin-warning-light);
    color: var(--admin-warning);
}

.hlai-quizgen-wrapper .stat-icon-container.is-info {
    background: var(--admin-info-light);
    color: var(--admin-info);
}

.hlai-quizgen-wrapper .stat-icon-container.is-danger {
    background: var(--admin-danger-light);
    color: var(--admin-danger);
}

.hlai-quizgen-wrapper .stat-icon-large {
    font-size: 1.5rem;
}

.hlai-quizgen-wrapper .stat-label {
    font-size: 0.8125rem;
    color: var(--admin-gray-700);
    font-weight: 500;
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wrapper .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--admin-gray-800);
    line-height: 1.2;
}

.hlai-quizgen-wrapper .stat-subtext {
    font-size: 0.75rem;
    color: var(--admin-gray-700);
    margin-top: 0.25rem;
}

.hlai-quizgen-wrapper .section-header {
    border-left: 3px solid var(--admin-primary);
    padding-left: 1rem;
    margin: 2.5rem 0 1.5rem 0;
}

.hlai-quizgen-wrapper .section-header h2 {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--admin-gray-800);
    margin: 0;
}

.hlai-quizgen-wrapper .chart-container {
    background: white;
    border: 1px solid var(--admin-gray-200);
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    margin-bottom: 1.5rem;
}

.hlai-quizgen-wrapper .chart-container:hover {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
}

.hlai-quizgen-wrapper .chart-title {
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--admin-gray-800);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.hlai-quizgen-wrapper .chart-title i {
    color: var(--admin-primary);
}

.hlai-quizgen-wrapper .health-indicator {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.8125rem;
}

.hlai-quizgen-wrapper .health-indicator.is-healthy {
    background: var(--admin-success-light);
    color: var(--admin-success);
}

.hlai-quizgen-wrapper .health-indicator.is-error {
    background: var(--admin-danger-light);
    color: var(--admin-danger);
}

.hlai-quizgen-wrapper .top-performer-row {
    padding: 0.875rem;
    border-bottom: 1px solid var(--admin-gray-100);
    transition: background 0.15s ease;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.hlai-quizgen-wrapper .top-performer-row:last-child {
    border-bottom: none;
}

.hlai-quizgen-wrapper .top-performer-row:hover {
    background: var(--admin-gray-50);
}

.hlai-quizgen-wrapper .performer-rank {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    background: var(--admin-gray-100);
    color: var(--admin-gray-700);
    font-weight: 700;
    font-size: 0.8125rem;
}

.hlai-quizgen-wrapper .performer-name {
    font-weight: 600;
    color: var(--admin-gray-800);
    font-size: 0.875rem;
}

.hlai-quizgen-wrapper .performer-details {
    font-size: 0.75rem;
    color: var(--admin-gray-700);
    margin-top: 0.125rem;
}

.hlai-quizgen-wrapper .performer-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.375rem 0.75rem;
    border-radius: 6px;
    font-size: 0.8125rem;
    font-weight: 600;
    background: var(--admin-primary-light);
    color: var(--admin-primary);
}

.hlai-quizgen-wrapper .page-title-section {
    margin-top: 2rem;
    margin-bottom: 2.5rem;
}

.hlai-quizgen-wrapper .page-title-section h1 {
    font-size: 1.875rem;
    font-weight: 700;
    color: var(--admin-gray-800);
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wrapper .page-subtitle {
    font-size: 0.9375rem;
    color: var(--admin-gray-700);
}

.hlai-quizgen-wrapper .system-health-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.hlai-quizgen-wrapper .health-metric {
    padding: 1rem;
    background: var(--admin-gray-50);
    border-radius: 6px;
}

.hlai-quizgen-wrapper .health-metric strong {
    display: block;
    font-size: 0.8125rem;
    color: var(--admin-gray-700);
    margin-bottom: 0.5rem;
}

.hlai-quizgen-wrapper .health-value {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.375rem 0.75rem;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.875rem;
}

.hlai-quizgen-wrapper .health-value.is-warning {
    background: var(--admin-warning-light);
    color: var(--admin-warning);
}

.hlai-quizgen-wrapper .health-value.is-success {
    background: var(--admin-success-light);
    color: var(--admin-success);
}

.hlai-quizgen-wrapper .health-value.is-danger {
    background: var(--admin-danger-light);
    color: var(--admin-danger);
}

.hlai-quizgen-wrapper .health-value.is-dark {
    background: var(--admin-gray-200);
    color: var(--admin-gray-700);
}

.hlai-quizgen-wrapper .config-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
}

.hlai-quizgen-wrapper .config-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem;
    border: 1px solid var(--admin-gray-200);
    border-radius: 6px;
    background: white;
    color: var(--admin-gray-700);
    text-decoration: none;
    font-weight: 600;
    font-size: 0.8125rem;
    transition: all 0.15s ease;
}

.hlai-quizgen-wrapper .config-button:hover {
    background: var(--admin-gray-50);
    border-color: var(--admin-primary);
    color: var(--admin-primary);
    text-decoration: none;
}

.hlai-quizgen-wrapper .config-button i {
    font-size: 0.875rem;
}

/* Utility classes - scoped under .hlai-quizgen-wrapper for all pages including admin */
.hlai-quizgen-wrapper .hlai-icon-primary { color: #3B82F6; }
.hlai-quizgen-wrapper .hlai-icon-success { color: #10B981; }
.hlai-quizgen-wrapper .hlai-icon-warning { color: #F59E0B; }
.hlai-quizgen-wrapper .hlai-icon-danger { color: #EF4444; }
.hlai-quizgen-wrapper .hlai-icon-info { color: #06B6D4; }
.hlai-quizgen-wrapper .hlai-icon-secondary { color: #64748B; }
.hlai-quizgen-wrapper .hlai-icon-purple { color: #8B5CF6; }
.hlai-quizgen-wrapper .hlai-icon-white { color: #FFFFFF; }
.hlai-quizgen-wrapper .hlai-icon-muted { color: #CBD5E1; }
.hlai-quizgen-wrapper .hlai-chart-h250 { height: 250px; }
.hlai-quizgen-wrapper .hlai-chart-h280 { height: 280px; }
.hlai-quizgen-wrapper .hlai-chart-h300 { height: 300px; }
.hlai-quizgen-wrapper .hlai-chart-h350 { height: 350px; }
.hlai-quizgen-wrapper .hlai-chart-h400 { height: 400px; }
.hlai-quizgen-wrapper .hlai-mt-2rem { margin-top: 2rem; }
.hlai-quizgen-wrapper .hlai-gap-075 { gap: 0.75rem; }
.hlai-quizgen-wrapper .hlai-w-full { width: 100%; }
.hlai-quizgen-wrapper .hlai-hidden { display: none; }
.hlai-quizgen-wrapper .hlai-word-break-all { word-break: break-all; }
.hlai-quizgen-wrapper .hlai-font-lg { font-size: 1.5rem; }
.hlai-quizgen-wrapper .hlai-font-xl { font-size: 2rem; }
.hlai-quizgen-wrapper .hlai-font-xxl { font-size: 3rem; }
.hlai-quizgen-wrapper .hlai-input-sm { width: 100px; }
.hlai-quizgen-wrapper .hlai-input-md { width: 120px; }
.hlai-quizgen-wrapper .hlai-spacer-60 { height: 60px; }
.hlai-quizgen-wrapper .hlai-log-error { color: #ff6b6b; }
.hlai-quizgen-wrapper .hlai-log-warning { color: #ffd93d; }
.hlai-quizgen-wrapper .hlai-log-critical { color: #ff0000; font-weight: bold; }
.hlai-quizgen-wrapper .hlai-log-info { color: #6bcb77; }
.hlai-quizgen-wrapper .hlai-log-debug { color: #4d96ff; }
.hlai-quizgen-wrapper .hlai-admin-hr { border-color: var(--admin-gray-200); margin: 1.5rem 0; }
.hlai-quizgen-wrapper .hlai-icon-admin-primary { color: var(--admin-primary); }
.hlai-quizgen-wrapper .hlai-wizard-heading { font-size: 1.75rem; color: var(--hlai-gray-800); }
.hlai-quizgen-wrapper .hlai-border-top { border-top: 1px solid #dbdbdb; }
.hlai-quizgen-wrapper .hlai-font-lg-mr { font-size: 1.5rem; margin-right: 0.5rem; }
.hlai-quizgen-wrapper .hlai-card-header-clean { box-shadow: none; border-bottom: 1px solid var(--hlai-gray-100); }
.hlai-quizgen-wrapper .hlai-checkbox-flex { display: flex; align-items: center; }
.hlai-quizgen-wrapper .hlai-checkbox-scale { transform: scale(1.1); cursor: pointer; }
.hlai-quizgen-wrapper .hlai-model-answer { padding: 1rem; border-radius: 6px; background-color: #f0f9ff; border-left: 4px solid #3b82f6; }
.hlai-quizgen-wrapper .hlai-answer-row { padding: 0.5rem; border-radius: 4px; display: flex; align-items: flex-start; margin-bottom: 0.35rem; }
.hlai-quizgen-wrapper .hlai-answer-correct { background-color: #effaf3; color: #257942; }
.hlai-quizgen-wrapper .hlai-answer-neutral { background-color: #f5f5f5; }
.hlai-quizgen-wrapper .hlai-deploy-label { display: flex; align-items: flex-start; gap: 0.75rem; padding: 1rem; border: 2px solid var(--hlai-gray-200, #e2e8f0); border-radius: 12px; cursor: pointer; transition: all 0.2s ease; }
.hlai-quizgen-wrapper .hlai-deploy-label:hover { border-color: #bfdbfe; background: #f8fafc; }
.hlai-quizgen-wrapper .hlai-deploy-label:has(input:checked) { border-color: #2563eb; background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%); }
.hlai-quizgen-wrapper .hlai-radio-mt { margin-top: 4px; accent-color: #2563eb; }
.hlai-quizgen-wrapper .hlai-flex-center { display: flex; align-items: center; }
.hlai-quizgen-wrapper .hlai-flex-center-all { display: flex; align-items: center; justify-content: center; }