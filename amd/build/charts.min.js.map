{"version":3,"file":"charts.min.js","sources":["../src/charts.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <https://www.gnu.org/licenses/>.\n\n/**\n * Chart utilities and configurations for HLAI QuizGen\n *\n * This module provides reusable chart configurations and helper functions\n * for ApexCharts integration throughout the plugin.\n *\n * @module     local_hlai_quizgen/charts\n * @copyright  2025 Human Logic Software LLC\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/* global ApexCharts */\ndefine(['jquery'], function($) {\n    'use strict';\n\n    // Color palette matching Bulma overrides\n    var colors = {\n        primary: '#4F46E5',\n        primaryLight: '#818CF8',\n        primaryDark: '#3730A3',\n        success: '#10B981',\n        successLight: '#D1FAE5',\n        warning: '#F59E0B',\n        warningLight: '#FEF3C7',\n        danger: '#EF4444',\n        dangerLight: '#FEE2E2',\n        info: '#3B82F6',\n        infoLight: '#DBEAFE',\n        gray100: '#F3F4F6',\n        gray200: '#E5E7EB',\n        gray300: '#D1D5DB',\n        gray400: '#9CA3AF',\n        gray500: '#6B7280',\n        gray600: '#4B5563',\n        gray700: '#374151',\n        gray800: '#1F2937'\n    };\n\n    // Bloom's taxonomy colors\n    var bloomsColors = {\n        remember: '#DC2626',\n        understand: '#EA580C',\n        apply: '#F59E0B',\n        analyze: '#84CC16',\n        evaluate: '#10B981',\n        create: '#06B6D4'\n    };\n\n    // Difficulty colors\n    var difficultyColors = {\n        easy: '#10B981',\n        medium: '#F59E0B',\n        hard: '#EF4444'\n    };\n\n    // Question type colors\n    var questionTypeColors = {\n        multichoice: '#4F46E5',\n        truefalse: '#6B7280',\n        shortanswer: '#3B82F6',\n        essay: '#F59E0B',\n        matching: '#10B981'\n    };\n\n    // Base chart options\n    var baseOptions = {\n        chart: {\n            fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, sans-serif',\n            toolbar: {\n                show: false\n            },\n            animations: {\n                enabled: true,\n                easing: 'easeinout',\n                speed: 500\n            }\n        },\n        grid: {\n            borderColor: colors.gray200,\n            strokeDashArray: 4\n        },\n        colors: [colors.primary, colors.success, colors.warning, colors.danger, colors.info],\n        legend: {\n            position: 'bottom',\n            horizontalAlign: 'center',\n            fontSize: '13px',\n            fontWeight: 500,\n            markers: {\n                width: 10,\n                height: 10,\n                radius: 4\n            }\n        },\n        tooltip: {\n            theme: 'light',\n            style: {\n                fontSize: '13px'\n            }\n        }\n    };\n\n    /**\n     * Create a donut chart\n     * @param {string} selector - CSS selector for the chart container\n     * @param {Object} options - Chart configuration\n     * @returns {ApexCharts} Chart instance\n     */\n    function createDonutChart(selector, options) {\n        var chartOptions = $.extend(true, {}, baseOptions, {\n            chart: {\n                type: 'donut',\n                height: options.height || 300\n            },\n            series: options.series || [],\n            labels: options.labels || [],\n            colors: options.colors || [colors.primary, colors.success, colors.warning, colors.danger],\n            plotOptions: {\n                pie: {\n                    donut: {\n                        size: '70%',\n                        labels: {\n                            show: true,\n                            name: {\n                                show: true,\n                                fontSize: '14px',\n                                fontWeight: 600,\n                                color: colors.gray600\n                            },\n                            value: {\n                                show: true,\n                                fontSize: '24px',\n                                fontWeight: 'bold',\n                                color: colors.gray800,\n                                formatter: function(val) {\n                                    return val;\n                                }\n                            },\n                            total: {\n                                show: options.showTotal !== false,\n                                label: options.totalLabel || 'Total',\n                                fontSize: '14px',\n                                fontWeight: 600,\n                                color: colors.gray600,\n                                formatter: function(w) {\n                                    return w.globals.seriesTotals.reduce(function(a, b) {\n                                        return a + b;\n                                    }, 0);\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            dataLabels: {\n                enabled: false\n            },\n            legend: {\n                position: 'bottom'\n            },\n            title: options.title ? {\n                text: options.title,\n                align: 'left',\n                style: {\n                    fontSize: '16px',\n                    fontWeight: 600,\n                    color: colors.gray800\n                }\n            } : undefined\n        });\n\n        var chart = new ApexCharts(document.querySelector(selector), chartOptions);\n        chart.render();\n        return chart;\n    }\n\n    /**\n     * Create a bar chart\n     * @param {string} selector - CSS selector for the chart container\n     * @param {Object} options - Chart configuration\n     * @returns {ApexCharts} Chart instance\n     */\n    function createBarChart(selector, options) {\n        var chartOptions = $.extend(true, {}, baseOptions, {\n            chart: {\n                type: 'bar',\n                height: options.height || 350,\n                stacked: options.stacked || false\n            },\n            series: options.series || [],\n            xaxis: {\n                categories: options.categories || [],\n                labels: {\n                    style: {\n                        fontSize: '12px',\n                        colors: colors.gray600\n                    }\n                }\n            },\n            yaxis: {\n                title: {\n                    text: options.yAxisTitle || '',\n                    style: {\n                        fontSize: '12px',\n                        color: colors.gray600\n                    }\n                },\n                labels: {\n                    style: {\n                        fontSize: '12px',\n                        colors: colors.gray600\n                    }\n                }\n            },\n            plotOptions: {\n                bar: {\n                    horizontal: options.horizontal || false,\n                    borderRadius: 4,\n                    columnWidth: options.columnWidth || '60%',\n                    distributed: options.distributed || false\n                }\n            },\n            dataLabels: {\n                enabled: options.dataLabels !== false,\n                style: {\n                    fontSize: '12px',\n                    fontWeight: 600\n                },\n                formatter: function(val) {\n                    if (options.dataLabelSuffix) {\n                        return val + options.dataLabelSuffix;\n                    }\n                    return val;\n                }\n            },\n            colors: options.colors || [colors.primary],\n            title: options.title ? {\n                text: options.title,\n                align: 'left',\n                style: {\n                    fontSize: '16px',\n                    fontWeight: 600,\n                    color: colors.gray800\n                }\n            } : undefined\n        });\n\n        // Explicitly override legend if showLegend is false\n        if (options.showLegend === false) {\n            chartOptions.legend = {show: false};\n        }\n\n        var chart = new ApexCharts(document.querySelector(selector), chartOptions);\n        chart.render();\n        return chart;\n    }\n\n    /**\n     * Create a line chart\n     * @param {string} selector - CSS selector for the chart container\n     * @param {Object} options - Chart configuration\n     * @returns {ApexCharts} Chart instance\n     */\n    function createLineChart(selector, options) {\n        var chartOptions = $.extend(true, {}, baseOptions, {\n            chart: {\n                type: 'line',\n                height: options.height || 350,\n                zoom: {\n                    enabled: false\n                }\n            },\n            series: options.series || [],\n            xaxis: {\n                categories: options.categories || [],\n                labels: {\n                    style: {\n                        fontSize: '12px',\n                        colors: colors.gray600\n                    }\n                },\n                title: {\n                    text: options.xAxisTitle || '',\n                    style: {\n                        fontSize: '12px',\n                        color: colors.gray600\n                    }\n                }\n            },\n            yaxis: {\n                min: options.yAxisMin,\n                max: options.yAxisMax,\n                title: {\n                    text: options.yAxisTitle || '',\n                    style: {\n                        fontSize: '12px',\n                        color: colors.gray600\n                    }\n                },\n                labels: {\n                    style: {\n                        fontSize: '12px',\n                        colors: colors.gray600\n                    },\n                    formatter: options.yAxisFormatter || function(val) {\n                        return val;\n                    }\n                }\n            },\n            stroke: {\n                curve: 'smooth',\n                width: options.strokeWidth || 3\n            },\n            markers: {\n                size: options.markerSize || 5,\n                hover: {\n                    size: 7\n                }\n            },\n            colors: options.colors || [colors.primary, colors.success, colors.info],\n            title: options.title ? {\n                text: options.title,\n                align: 'left',\n                style: {\n                    fontSize: '16px',\n                    fontWeight: 600,\n                    color: colors.gray800\n                }\n            } : undefined,\n            annotations: options.annotations || {}\n        });\n\n        var chart = new ApexCharts(document.querySelector(selector), chartOptions);\n        chart.render();\n        return chart;\n    }\n\n    /**\n     * Create a radial bar (gauge) chart\n     * @param {string} selector - CSS selector for the chart container\n     * @param {Object} options - Chart configuration\n     * @returns {ApexCharts} Chart instance\n     */\n    function createRadialChart(selector, options) {\n        // Support both options.value and options.series[0] for flexibility\n        var value = 0;\n        if (options.value !== undefined) {\n            value = options.value;\n        } else if (options.series && options.series.length > 0) {\n            value = options.series[0];\n        }\n\n        // Use provided color or determine based on thresholds\n        var color = options.colors && options.colors.length > 0 ? options.colors[0] : colors.primary;\n\n        // Color based on thresholds (if no explicit color and thresholds provided)\n        if (!options.colors && options.thresholds) {\n            if (value >= options.thresholds.excellent) {\n                color = colors.success;\n            } else if (value >= options.thresholds.good) {\n                color = colors.warning;\n            } else if (value >= options.thresholds.fair) {\n                color = '#F97316'; // Orange\n            } else {\n                color = colors.danger;\n            }\n        }\n\n        var chartOptions = {\n            chart: {\n                type: 'radialBar',\n                height: options.height || 280,\n                offsetY: -10,\n                fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, sans-serif'\n            },\n            series: [value],\n            plotOptions: {\n                radialBar: {\n                    startAngle: -135,\n                    endAngle: 135,\n                    hollow: {\n                        margin: 15,\n                        size: '65%',\n                        background: 'transparent'\n                    },\n                    track: {\n                        background: colors.gray100,\n                        strokeWidth: '100%'\n                    },\n                    dataLabels: {\n                        name: {\n                            fontSize: '14px',\n                            color: colors.gray500,\n                            offsetY: 80\n                        },\n                        value: {\n                            offsetY: 5,\n                            fontSize: '40px',\n                            fontWeight: 'bold',\n                            color: colors.gray800,\n                            formatter: function(val) {\n                                return val + (options.suffix || '%');\n                            }\n                        }\n                    }\n                }\n            },\n            fill: {\n                type: 'gradient',\n                gradient: {\n                    shade: 'dark',\n                    type: 'horizontal',\n                    shadeIntensity: 0.5,\n                    gradientToColors: [color],\n                    inverseColors: false,\n                    opacityFrom: 1,\n                    opacityTo: 1,\n                    stops: [0, 100]\n                }\n            },\n            stroke: {\n                lineCap: 'round'\n            },\n            labels: [options.label || 'Progress'],\n            colors: [color]\n        };\n\n        var chart = new ApexCharts(document.querySelector(selector), chartOptions);\n        chart.render();\n        return chart;\n    }\n\n    /**\n     * Create a radar chart\n     * @param {string} selector - CSS selector for the chart container\n     * @param {Object} options - Chart configuration\n     * @returns {ApexCharts} Chart instance\n     */\n    function createRadarChart(selector, options) {\n        var chartOptions = $.extend(true, {}, baseOptions, {\n            chart: {\n                type: 'radar',\n                height: options.height || 350\n            },\n            series: options.series || [],\n            xaxis: {\n                categories: options.categories || [],\n                labels: {\n                    style: {\n                        fontSize: '13px',\n                        fontWeight: 500,\n                        colors: colors.gray700\n                    }\n                }\n            },\n            yaxis: {\n                show: false,\n                stepSize: options.stepSize || 1,\n                tickAmount: 0,\n                labels: {\n                    show: false // Remove numbers from radar chart\n                }\n            },\n            fill: {\n                opacity: 0.2\n            },\n            stroke: {\n                width: 2\n            },\n            markers: {\n                size: 4\n            },\n            colors: options.colors || [colors.primary, colors.info],\n            title: options.title ? {\n                text: options.title,\n                align: 'left',\n                style: {\n                    fontSize: '16px',\n                    fontWeight: 600,\n                    color: colors.gray800\n                }\n            } : undefined\n        });\n\n        // Explicitly override legend if showLegend is false\n        if (options.showLegend === false) {\n            chartOptions.legend = {show: false};\n        }\n\n        var chart = new ApexCharts(document.querySelector(selector), chartOptions);\n        chart.render();\n        return chart;\n    }\n\n    /**\n     * Create a heatmap chart\n     * @param {string} selector - CSS selector for the chart container\n     * @param {Object} options - Chart configuration\n     * @returns {ApexCharts} Chart instance\n     */\n    function createHeatmapChart(selector, options) {\n        var chartOptions = $.extend(true, {}, baseOptions, {\n            chart: {\n                type: 'heatmap',\n                height: options.height || 350\n            },\n            series: options.series || [],\n            xaxis: {\n                categories: options.xCategories || []\n            },\n            dataLabels: {\n                enabled: true,\n                style: {\n                    colors: ['#fff']\n                },\n                formatter: function(val) {\n                    return val + (options.valueSuffix || '%');\n                }\n            },\n            colors: [colors.success],\n            plotOptions: {\n                heatmap: {\n                    shadeIntensity: 0.5,\n                    radius: 4,\n                    colorScale: {\n                        ranges: [\n                            {from: 0, to: 50, color: colors.danger, name: 'Poor'},\n                            {from: 51, to: 70, color: colors.warning, name: 'Fair'},\n                            {from: 71, to: 100, color: colors.success, name: 'Good'}\n                        ]\n                    }\n                }\n            },\n            title: options.title ? {\n                text: options.title,\n                align: 'left',\n                style: {\n                    fontSize: '16px',\n                    fontWeight: 600,\n                    color: colors.gray800\n                }\n            } : undefined\n        });\n\n        var chart = new ApexCharts(document.querySelector(selector), chartOptions);\n        chart.render();\n        return chart;\n    }\n\n    /**\n     * Create a stacked horizontal bar chart for distributions\n     * @param {string} selector - CSS selector\n     * @param {Object} options - Chart options\n     * @returns {ApexCharts} Chart instance\n     */\n    function createStackedDistributionChart(selector, options) {\n        var chartOptions = {\n            chart: {\n                type: 'bar',\n                height: options.height || 100,\n                stacked: true,\n                stackType: '100%',\n                toolbar: {show: false},\n                fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, sans-serif'\n            },\n            series: options.series || [],\n            plotOptions: {\n                bar: {\n                    horizontal: true,\n                    borderRadius: 8\n                }\n            },\n            colors: options.colors || [colors.success, colors.warning, colors.danger],\n            xaxis: {\n                labels: {show: false},\n                axisBorder: {show: false},\n                axisTicks: {show: false}\n            },\n            yaxis: {show: false},\n            grid: {show: false},\n            dataLabels: {\n                enabled: true,\n                formatter: function(val) {\n                    return Math.round(val) + '%';\n                },\n                style: {\n                    fontSize: '13px',\n                    fontWeight: 'bold',\n                    colors: ['#fff']\n                }\n            },\n            legend: {\n                position: 'top',\n                horizontalAlign: 'left'\n            },\n            tooltip: {\n                y: {\n                    formatter: function(val) {\n                        return Math.round(val) + '%';\n                    }\n                }\n            }\n        };\n\n        var chart = new ApexCharts(document.querySelector(selector), chartOptions);\n        chart.render();\n        return chart;\n    }\n\n    /**\n     * Create a sparkline mini chart\n     * @param {string} selector - CSS selector\n     * @param {Object} options - Chart options\n     * @returns {ApexCharts} Chart instance\n     */\n    function createSparkline(selector, options) {\n        var chartOptions = {\n            chart: {\n                type: options.type || 'line',\n                height: options.height || 50,\n                sparkline: {\n                    enabled: true\n                },\n                fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, sans-serif'\n            },\n            series: [{\n                name: options.name || 'Value',\n                data: options.data || []\n            }],\n            stroke: {\n                curve: 'smooth',\n                width: 2\n            },\n            colors: [options.color || colors.primary],\n            tooltip: {\n                fixed: {\n                    enabled: false\n                },\n                x: {\n                    show: false\n                },\n                y: {\n                    title: {\n                        formatter: function() {\n                            return '';\n                        }\n                    }\n                },\n                marker: {\n                    show: false\n                }\n            }\n        };\n\n        var chart = new ApexCharts(document.querySelector(selector), chartOptions);\n        chart.render();\n        return chart;\n    }\n\n    // Public API\n    return {\n        colors: colors,\n        bloomsColors: bloomsColors,\n        difficultyColors: difficultyColors,\n        questionTypeColors: questionTypeColors,\n\n        createDonutChart: createDonutChart,\n        createBarChart: createBarChart,\n        createLineChart: createLineChart,\n        createRadialChart: createRadialChart,\n        createRadarChart: createRadarChart,\n        createHeatmapChart: createHeatmapChart,\n        createStackedDistributionChart: createStackedDistributionChart,\n        createSparkline: createSparkline,\n\n        /**\n         * Destroy a chart instance\n         * @param {ApexCharts} chart - Chart instance to destroy\n         */\n        destroy: function(chart) {\n            if (chart && typeof chart.destroy === 'function') {\n                chart.destroy();\n            }\n        },\n\n        /**\n         * Update chart data\n         * @param {ApexCharts} chart - Chart instance\n         * @param {Array} series - New series data\n         */\n        updateSeries: function(chart, series) {\n            if (chart && typeof chart.updateSeries === 'function') {\n                chart.updateSeries(series);\n            }\n        },\n\n        /**\n         * Update chart options\n         * @param {ApexCharts} chart - Chart instance\n         * @param {Object} options - New options\n         */\n        updateOptions: function(chart, options) {\n            if (chart && typeof chart.updateOptions === 'function') {\n                chart.updateOptions(options);\n            }\n        },\n\n        /**\n         * Get color for difficulty level\n         * @param {string} difficulty - easy, medium, hard\n         * @returns {string} Color hex code\n         */\n        getDifficultyColor: function(difficulty) {\n            return difficultyColors[difficulty.toLowerCase()] || colors.gray500;\n        },\n\n        /**\n         * Get color for Bloom's level\n         * @param {string} level - Bloom's taxonomy level\n         * @returns {string} Color hex code\n         */\n        getBloomsColor: function(level) {\n            return bloomsColors[level.toLowerCase()] || colors.gray500;\n        },\n\n        /**\n         * Get color for question type\n         * @param {string} type - Question type\n         * @returns {string} Color hex code\n         */\n        getQuestionTypeColor: function(type) {\n            return questionTypeColors[type.toLowerCase()] || colors.gray500;\n        }\n    };\n});\n"],"names":["define","$","colors","primary","primaryLight","primaryDark","success","successLight","warning","warningLight","danger","dangerLight","info","infoLight","gray100","gray200","gray300","gray400","gray500","gray600","gray700","gray800","bloomsColors","remember","understand","apply","analyze","evaluate","create","difficultyColors","easy","medium","hard","questionTypeColors","multichoice","truefalse","shortanswer","essay","matching","baseOptions","chart","fontFamily","toolbar","show","animations","enabled","easing","speed","grid","borderColor","strokeDashArray","legend","position","horizontalAlign","fontSize","fontWeight","markers","width","height","radius","tooltip","theme","style","createDonutChart","selector","options","chartOptions","extend","type","series","labels","plotOptions","pie","donut","size","name","color","value","formatter","val","total","showTotal","label","totalLabel","w","globals","seriesTotals","reduce","a","b","dataLabels","title","text","align","undefined","ApexCharts","document","querySelector","render","createBarChart","stacked","xaxis","categories","yaxis","yAxisTitle","bar","horizontal","borderRadius","columnWidth","distributed","dataLabelSuffix","showLegend","createLineChart","zoom","xAxisTitle","min","yAxisMin","max","yAxisMax","yAxisFormatter","stroke","curve","strokeWidth","markerSize","hover","annotations","createRadialChart","length","thresholds","excellent","good","fair","offsetY","radialBar","startAngle","endAngle","hollow","margin","background","track","suffix","fill","gradient","shade","shadeIntensity","gradientToColors","inverseColors","opacityFrom","opacityTo","stops","lineCap","createRadarChart","stepSize","tickAmount","opacity","createHeatmapChart","xCategories","valueSuffix","heatmap","colorScale","ranges","from","to","createStackedDistributionChart","stackType","axisBorder","axisTicks","Math","round","y","createSparkline","sparkline","data","fixed","x","marker","destroy","updateSeries","updateOptions","getDifficultyColor","difficulty","toLowerCase","getBloomsColor","level","getQuestionTypeColor"],"mappings":"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"}